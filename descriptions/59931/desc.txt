// This function generates a string representation of the array `self`,
// used for both `to_s` and `inspect` methods in the Array class.
// It constructs a new string, appending each element of the array
// converted to a string, separated by commas and enclosed in brackets.
// If the array is in a recursive state (contains itself), it will
// append "..." to indicate recursion and prevent infinite loops.