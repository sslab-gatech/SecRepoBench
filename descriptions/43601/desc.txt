// Search for the specified tag in the profile directory. 
// If the tag is not found (n < 0), handle the error:
// - If using Snippet 1: jump to the Error handling section.
// - If using Snippet 2: unlock the mutex and return NULL.