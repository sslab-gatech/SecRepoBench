static int
unpack_BER(mrb_state *mrb, const unsigned char *src, int srclen, mrb_value ary, unsigned int flags)
{
  mrb_int i, n = 0;
  // Iterate over the bytes in the source buffer, decoding a BER encoded integer.
  // Shift and accumulate the 7-bit values from the source bytes into the integer `n`.
  // If a continuation bit is not present in a byte, exit the loop as the integer is fully read.
  // Raise a range error if an overflow condition is detected during the decoding process.
  // Track the number of bytes processed with the counter `i`.
  // <MASK>
  mrb_ary_push(mrb, ary, mrb_int_value(mrb, n));
  return i;
}