// This code snippet handles half-pel motion compensation in low-resolution
// mode for MPEG video decoding. It accounts for motion vectors and adjusts
// chroma (color) components based on pixel format. The snippet calculates
// source positions and applies edge emulation if motion goes beyond the
// frame boundaries. It processes luma and chroma planes separately, 
// considering field-based encoding and half-pel accuracy. The snippet uses
// pix_op functions for chroma motion compensation, depending on the lowres
// level and pixel format (e.g., H263, H261). It includes handling for 
// specific quirks like quarter-pixel motion and gray mode, ensuring 
// proper image construction.