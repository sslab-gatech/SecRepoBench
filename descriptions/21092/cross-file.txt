// Here are some relevant code fragments from other files of the repo:

// the below code fragment can be found in:
// src/hb-ot-math-table.hh
bool sanitize (hb_sanitize_context_t *c, const void *base) const
  {
    TRACE_SANITIZE (this);

    unsigned int count = ARRAY_LENGTH (mathKern);
    for (unsigned int i = 0; i < count; i++)
      if (unlikely (!mathKern[i].sanitize (c, base)))
	return_trace (false);

    return_trace (true);
  }

// the below code fragment can be found in:
// src/hb-pool.hh
T* thread ()
    {
      for (unsigned i = 0; i < ARRAY_LENGTH (arrayZ) - 1; i++)
	* (T**) &arrayZ[i] = &arrayZ[i + 1];

      * (T**) &arrayZ[ARRAY_LENGTH (arrayZ) - 1] = nullptr;

      return arrayZ;
    }

// the below code fragment can be found in:
// src/hb-ot-layout-common.hh
bool subset (hb_subset_context_t *c) const
  {
    TRACE_SUBSET (this);
    auto *out = c->serializer->start_embed (this);
    if (unlikely (!out || !c->serializer->extend_min (out))) return_trace (false);

    + conditions.iter ()
    | hb_apply (subset_offset_array (c, out->conditions, this, out))
    ;
    return_trace (true);
  }

// the below code fragment can be found in:
// src/hb-vector.hh
void shrink (int size_)
  {
    unsigned int size = size_ < 0 ? 0u : (unsigned int) size_;
     if (size < length)
       length = size;
  }

// the below code fragment can be found in:
// util/hb-fc.cc
hb_bool_t
hb_fc_can_render (hb_font_t *font, const char *text)
{
  static const char *ot[] = {"ot", nullptr};

  hb_buffer_t *buffer = hb_buffer_create ();
  hb_buffer_add_utf8 (buffer, text, -1, 0, -1);

  /* XXX Do we need this?  I think Arabic and Hangul shapers are the
   * only one that make any use of this.  The Hangul case is not really
   * needed, and for Arabic we'll miss a very narrow set of fonts.
   * Might be better to force generic shaper perhaps. */
  hb_buffer_guess_segment_properties (buffer);

  if (!hb_shape_full (font, buffer, nullptr, 0, ot))
    abort (); /* hb-ot shaper not enabled? */

  unsigned int len;
  hb_glyph_info_t *info = hb_buffer_get_glyph_infos (buffer, &len);
  for (unsigned int i = 0; i < len; i++)
   {
    if (!info[i].codepoint)
     {
      return false;
     }
   }

  return true;
}

