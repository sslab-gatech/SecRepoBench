// Extract pixel data from the JP2 image component array, calculate the 
// corresponding pixel value using the specified scale factor and the 
// component's precision, and store it into the appropriate color channel 
// (Red, Green, Blue, Gray, or Alpha) of the image. If the image has a single 
// component, set it to Gray and Alpha. For multi-component images, handle 
// each color channel (Red, Green, Blue, and optionally Alpha) separately. 
// Ensure data access is within valid bounds. The pixel value is adjusted 
// based on whether the component is signed, and it is clamped to Quantum 
// range before assignment. This is done for each pixel across the image 
// rows and columns.