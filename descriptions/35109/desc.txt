// This code parses a sequence of digits from a format string to compute an integer value.
// It iterates over the characters in the string as long as they are digits and attempts to 
// accumulate these digits into an integer `next_n`. Verify that next_n is valid.
// After parsing the digits, check for a malformed format string, and raise an 
// error if so.