static const char *
get_num(mrb_state *mrb, const char *p, const char *end, int *valp)
{
  mrb_int next_n = (int)*valp;
  // Parse the sequence of digit characters from the input pointer `p` up to
  // but not including `end` to construct an integer value. If the result of
  // multiplying the current accumulated value by 10 or adding the next digit
  // would cause an overflow, return NULL to indicate failure. If the string
  // ends before a non-digit character is encountered, raise an argument error
  // exception. Update the integer pointed to by `valp` with the parsed number
  // if successful.
  // <MASK>
  *valp = (int)next_n;
  return p;
}