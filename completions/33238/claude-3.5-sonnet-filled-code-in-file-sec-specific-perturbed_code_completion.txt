if (input_string.empty()) {
    return;
}

// Remove leading spaces or newlines
input_string.erase(0, input_string.find_first_not_of(" \n"));

std::string result;
result.reserve(input_string.length()); // Pre-allocate memory

size_t i = 0;
while (i < input_string.length()) {
    if (input_string[i] == '/' || input_string[i] == '\\') {
        result += mSep;
        while (i < input_string.length() && (input_string[i] == '/' || input_string[i] == '\\')) {
            ++i;
        }
    } else if (i + 2 < input_string.length() && input_string[i] == '%' && IsHex(input_string[i+1]) && IsHex(input_string[i+2])) {
        char hex[3] = {input_string[i+1], input_string[i+2], 0};
        result += static_cast<char>(strtol(hex, nullptr, 16));
        i += 3;
    } else {
        result += input_string[i];
        ++i;
    }
}

input_string = std::move(result);