if (input_string.empty()) {
    return;
}

size_t start_pos = 0;
while (start_pos < input_string.length() && (std::isspace(input_string[start_pos]) || input_string[start_pos] == '\n')) {
    ++start_pos;
}
input_string.erase(0, start_pos);

std::string os_separator(1, GetOSDirectorySeparator());
for (size_t pos = 0; pos < input_string.length(); ++pos) {
    if (input_string[pos] == '/' || input_string[pos] == '\\') {
        input_string[pos] = os_separator[0];
    }
}

size_t double_delim_pos = input_string.find(os_separator + os_separator);
while (double_delim_pos != std::string::npos) {
    input_string.replace(double_delim_pos, 2, os_separator);
    double_delim_pos = input_string.find(os_separator + os_separator, double_delim_pos);
}

size_t uri_pos = 0;
while ((uri_pos = input_string.find("%", uri_pos)) != std::string::npos) {
    if (uri_pos + 2 < input_string.length()) {
        std::string hex_code = input_string.substr(uri_pos + 1, 2);
        char decoded_char = static_cast<char>(std::strtol(hex_code.c_str(), nullptr, 16));
        input_string.replace(uri_pos, 3, 1, decoded_char);
    } else {
        break;
    }
}