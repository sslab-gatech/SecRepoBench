// Check if the input string is empty
if (input_string.empty()) {
    return;
}

// Remove leading spaces or new lines
size_t start = 0;
while (start < input_string.length() && (input_string[start] == ' ' || input_string[start] == '\n' || input_string[start] == '\r')) {
    start++;
}

if (start > 0) {
    input_string.erase(0, start);
}

// Define the OS directory separator
#ifdef _WIN32
    const char dir_separator = '\\';
#else
    const char dir_separator = '/';
#endif

size_t pos = 0;
while (pos < input_string.length()) {
    // Skip over "://" sequence (common in URLs)
    if (pos > 0 && pos + 2 < input_string.length() && 
        input_string[pos] == ':' && input_string[pos + 1] == '/' && input_string[pos + 2] == '/') {
        pos += 3;  // Skip over the sequence
        continue;
    }

    // Skip over "\\\\" sequence (common in Windows UNC paths)
    if (pos + 3 < input_string.length() && 
        input_string[pos] == '\\' && input_string[pos + 1] == '\\' && 
        input_string[pos + 2] == '\\' && input_string[pos + 3] == '\\') {
        pos += 4;  // Skip over the sequence
        continue;
    }

    // Handle URI hex sequences (e.g., %20 for space)
    if (input_string[pos] == '%' && pos + 2 < input_string.length() && 
        std::isxdigit(input_string[pos + 1]) && std::isxdigit(input_string[pos + 2])) {
        std::string hex_str = input_string.substr(pos + 1, 2);
        try {
            int hex_value = std::stoi(hex_str, nullptr, 16);
            input_string.replace(pos, 3, 1, static_cast<char>(hex_value));
        } catch (...) {
            // If conversion fails, just move on
            pos++;
        }
        continue;
    }

    // Standardize path separators
    if (input_string[pos] == '/' || input_string[pos] == '\\') {
        input_string[pos] = dir_separator;
        
        // Reduce multiple consecutive directory separators to a single one
        while (pos + 1 < input_string.length() && 
               (input_string[pos + 1] == '/' || input_string[pos + 1] == '\\')) {
            input_string.erase(pos + 1, 1);
        }
    }
    
    pos++;
}