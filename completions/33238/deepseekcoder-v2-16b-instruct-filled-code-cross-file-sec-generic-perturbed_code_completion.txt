if (input_string.empty()) {
    return;
}

// Remove leading spaces or new lines from the path
size_t start = input_string.find_first_not_of(" \n\r\t");
if (start != std::string::npos) {
    input_string = input_string.substr(start);
}

// Replace both forward slashes ('/') and backslashes ('\\') with the operating system's directory separator
std::string os_separator;
#ifdef _WIN32
os_separator = "\\";
#else
os_separator = "/";
#endif

for (size_t i = 0; i < input_string.size(); ++i) {
    if (input_string[i] == '/' || input_string[i] == '\\') {
        input_string[i] = os_separator[0];
    }
}

// Ensure double delimiters are reduced to single delimiters
std::string::size_type pos = 0;
while ((pos = input_string.find(os_separator + os_separator, pos)) != std::string::npos) {
    input_string.replace(pos, 2, os_separator);
    ++pos; // Move past the replaced delimiter
}

// Detect and convert hexadecimal sequences (e.g., %20) in URIs to their respective characters
pos = 0;
while ((pos = input_string.find("%", pos)) != std::string::npos) {
    if (pos + 2 < input_string.size() && isxdigit(input_string[pos + 1]) && isxdigit(input_string[pos + 2])) {
        std::string hex = input_string.substr(pos + 1, 2);
        char ch = static_cast<char>(std::stoi(hex, nullptr, 16));
        input_string.replace(pos, 3, 1, ch);
    } else {
        ++pos; // Move past the non-hexadecimal sequence
    }
}