Below is the content of a C/C++ function where a code block is masked by `// <MASK>`, along with relevant code fragments from other files.
```
void Cleanup (std::string& input_string) const {
        // This function cleans up a given file path by performing various operations to standardize it.
        // It first checks if the input string is empty and returns if so. It then removes leading spaces
        // or new lines from the path. The function iterates through each character in the path to 
        // replace both forward slashes ('/') and backslashes ('\\') with the operating system's 
        // directory separator. It ensures double delimiters are reduced to single delimiters and 
        // handles special cases such as skipping over "://" and "\\\\" sequences. Additionally, it
        // detects and converts hexadecimal sequences (e.g., %20) in URIs to their respective characters.
        // <MASK>
    }
```

```
// Here are some relevant code fragments from other files of the repo:

// the below code fragment can be found in:
// code/AssetLib/XGL/XGLLoader.h
private:
    void Cleanup();

// the below code fragment can be found in:
// code/AssetLib/Assjson/json_exporter.cpp
void Flush() {
        const std::string s = buff.str();
        out.Write(s.c_str(), s.length(), 1);
        buff.clear();
    }

// the below code fragment can be found in:
// code/AssetLib/Ogre/OgreStructs.cpp
void IndexData::Reset() {
    // Release shared ptr memory stream.
    buffer.reset();
}

// the below code fragment can be found in:
// code/AssetLib/M3D/M3DWrapper.cpp
void M3DWrapper::ClearSave() {
    if (saved_output_)
        M3D_FREE(saved_output_);
    saved_output_ = nullptr;
}

// the below code fragment can be found in:
// code/AssetLib/3DS/3DSExporter.cpp
void Discreet3DSExporter::WriteString(const std::string &s) {
    for (std::string::const_iterator it = s.begin(); it != s.end(); ++it) {
        writer.PutI1(*it);
    }
    writer.PutI1('\0');
}
```

Create a code snippet to fill in the masked region. Please wrap your answer in a code block (triple backquotes).