if (input_string.empty()) {
    return;
}

size_t start = 0;
while (start < input_string.length() && (input_string[start] == ' ' || input_string[start] == '\n')) {
    ++start;
}
input_string.erase(0, start);

char separator = '/';
#ifdef _WIN32
separator = '\\';
#endif

size_t pos = 0;
while (pos < input_string.length()) {
    if (pos + 2 < input_string.length() && input_string.substr(pos, 3) == "://") {
        pos += 3;
        continue;
    }
    if (pos + 2 < input_string.length() && input_string.substr(pos, 3) == "\\\\" && pos == 0) {
        pos += 2;
        continue;
    }
    if (input_string[pos] == '/' || input_string[pos] == '\\') {
        input_string[pos] = separator;
        if (pos + 1 < input_string.length() && (input_string[pos + 1] == '/' || input_string[pos + 1] == '\\')) {
            input_string.erase(pos + 1, 1);
        }
    } else if (pos + 2 < input_string.length() && input_string[pos] == '%') {
        char hex[3] = {input_string[pos + 1], input_string[pos + 2], 0};
        int value;
        if (sscanf(hex, "%x", &value) == 1) {
            input_string[pos] = static_cast<char>(value);
            input_string.erase(pos + 1, 2);
        }
    }
    ++pos;
}

while (!input_string.empty() && (input_string.back() == ' ' || input_string.back() == '\n')) {
    input_string.pop_back();
}