if (input_string.empty()) {
            return;
        }

        // Remove leading spaces or new lines
        input_string.erase(0, input_string.find_first_not_of(" \n\r\t"));

        std::string::iterator it = input_string.begin();
        std::string::iterator end = input_string.end();

        bool last_was_delim = false;
        while (it != end) {
            char& c = *it;

            // Replace slashes with the OS separator
            if (c == '/' || c == '\\') {
                c = mSep;
                if (last_was_delim) {
                    it = input_string.erase(it);
                    end = input_string.end();
                    continue;
                }
                last_was_delim = true;
            } else {
                last_was_delim = false;
            }

            // Skip over "://" and "\\\\" sequences
            if (c == ':' && (it + 1) != end && *(it + 1) == '/' && (it + 2) != end && *(it + 2) == '/') {
                it += 3;
                continue;
            }
            if (c == '\\' && (it + 1) != end && *(it + 1) == '\\') {
                it += 2;
                continue;
            }

            // Decode %xx hex sequences
            if (c == '%' && (it + 2) < end && IsHex(*(it + 1)) && IsHex(*(it + 2))) {
                char hex[3] = { *(it + 1), *(it + 2), '\0' };
                c = static_cast<char>(strtol(hex, nullptr, 16));
                it = input_string.erase(it + 1, it + 3);
                end = input_string.end();
            } else {
                ++it;
            }
        }