if (input_string.empty()) {
            return;
        }

        // remove leading spaces or new lines
        input_string = ai_str_ltrim_copy(input_string);

        char prev = '\0';
        std::string result_string;
        result_string.reserve(input_string.size()); // Pre-allocate for efficiency

        for (char c : input_string) {
            // Replace both slashes with the directory separator
            if (c == '/' || c == '\\') {
                if (prev != mSep) {
                    result_string += mSep;
                    prev = mSep;
                }
                continue;
            }

            // Ensure no double delimiters
            if (c == mSep && prev == mSep) {
                continue;
            }

            // Skip over "://" and "\\\\"
            if ((c == ':' || c == '\\') && prev == c) {
                prev = c;
                continue;
            }

            // Check for hexadecimal sequences in URIs (e.g. %20)
            if (c == '%') {
                const char* s = &input_string[result_string.size()];
                if (IsHex(s[1]) && IsHex(s[2])) {
                    char hex_str[3] = {s[1], s[2], '\0'};
                    c = strtol(hex_str, nullptr, 16);

                    // Skip the hexadecimal sequence
                    result_string.resize(result_string.size() + 3);
                    input_string.erase(0, result_string.size());
                }
            }

            result_string += c;
            prev = c;
        }

        input_string = result_string;