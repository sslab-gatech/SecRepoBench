if (input_string.empty()) {
            return;
        }

        // remove leading spaces or new lines
        const char* s = input_string.c_str();
        while (*s == ' ' || *s == '\r' || *s == '\n') {
            ++s;
        }
        input_string = s;


        for (std::string::iterator it = input_string.begin(); it != input_string.end(); ++it) {
            // Replace slashes with the OS directory separator.
            if ('\\' == *it || '/' == *it) {
                *it = mSep;
            }

            // Ensure no double delimiters.
            if (mSep == *it && it != input_string.begin()) {
                if (mSep == *(it-1)) {
                    it = input_string.erase(it) - 1;
                }
            }

            // Skip over "://" and "\\\\"
            if (':' == *it || '\\' == *it) {
                if (it != input_string.begin()) {
                    if ('\\' == *(it-1) || ':' == *(it-1)) {
                        ++it;
                        if (it != input_string.end()) {
                            ++it;
                        }
                        --it;
                        continue;
                    }
                }
            }

            // Check for URI-encoded hexadecimal sequences, such as '%20'.
            if ('%' == *it) {
                if (it != input_string.begin()) {
                    if (IsHex(*(it+1)) && IsHex(*(it+2))) {
                        *it = HexOctetToDecimal(*(it+1),*(it+2));
                        it = input_string.erase(it+1,it+3)-1;
                    }
                }
            }
        }