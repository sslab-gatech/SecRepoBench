if (pos == std::string::npos) {  // not in group
  if (str[st] == *p) {
    // skip the next character
    ++st;
    while ((opts & aeUTF8) && st < str.size() && (str[st] & 0xc0) == 0x80)
      ++st;
  } else {
    return 0;  // word does not match condition
  }
} else {  // in group
  if (str[st] == *p) {
    ingroup = true;
    // skip the next character
    ++st;
    while ((opts & aeUTF8) && st < str.size() && (str[st] & 0xc0) == 0x80)
      ++st;
  }
}
p = nextchar(p);