if (pos == std::string::npos) {
    if (*p == *st) {
        p = nextchar(p);
        st--;
        while ((opts & aeUTF8) && st >= beg && (*st & 0xc0) == 0x80) {
            st--;
        }
        if (st < beg && p) {
            return 0;  // word <= condition
        }
    } else {
        return 0;
    }
} else {
    if (*p == *st) {
        p = nextchar(p);
        ingroup = true;
    } else {
        p = nextchar(p);
    }
}