if (pos != std::string::npos) {
  if (str[st] == *p) {
    ingroup = true;
  }
  p = nextchar(p);
} else {
  if (str[st] == *p) {
    ++st;
    while ((opts & aeUTF8) && st < str.size() && (str[st] & 0xc0) == 0x80)
      ++st;
    if (st == str.size() && p)
      return 0;  // word <= condition
  }
  p = nextchar(p);
}