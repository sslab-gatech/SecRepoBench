p = nextchar(p);
        if (pos != std::string::npos)
          ingroup = ingroup || (st < str.size() ? (str[st] == *p) : false);
        else if (st < str.size() && str[st] != *p)
          return 0;

        ++st;
        while ((opts & aeUTF8) && st < str.size() && (str[st] & 0xc0) == 0x80)
          ++st;

        if (st == str.size() && p)
          return 0;  // word <= condition
        break;