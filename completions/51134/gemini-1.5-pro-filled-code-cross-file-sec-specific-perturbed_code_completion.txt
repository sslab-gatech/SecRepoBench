const char* cstr = str.c_str();
        if (pos == std::string::npos) {
          if (st >= str.size() || *p != cstr[st])
            return 0;
          ++st;
          while ((opts & aeUTF8) && st < str.size() && (str[st] & 0xc0) == 0x80)
            ++st;
          p = nextchar(p);
        } else {
          if (st >= str.size())
            break;
          if (*p == cstr[st]) {
            ingroup = true;
            ++st;
            while ((opts & aeUTF8) && st < str.size() && (str[st] & 0xc0) == 0x80)
              ++st;
            p = nextchar(p);
          } else {
            p = nextchar(p);
          }
        }
        if (st == str.size() && p)
          return 0;  // word <= condition