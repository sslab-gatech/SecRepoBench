if (*p == '\\') {  // escape character
          p = nextchar(p);
          if (st < str.size() && *p == str[st]) {
            ingroup = true;  // character matches
            ++st;
            while ((opts & aeUTF8) && st < str.size() && (str[st] & 0xc0) == 0x80)
              ++st;
          } else {
            return 0;  // character does not match
          }
        } else if (st < str.size() && *p == str[st]) {
          ingroup = true;  // character matches
          ++st;
          while ((opts & aeUTF8) && st < str.size() && (str[st] & 0xc0) == 0x80)
            ++st;
        } else {
          ingroup = false;  // character does not match
          return 0;  // condition failed
        }