{
    memcpy(p, e->stack, sizeof(mrb_value)*len);
    e->stack = p;
    MRB_ENV_CLOSE(e);
    return TRUE;
  }
  if (!noraise) {
      mrb_state->gc.out_of_memory = TRUE;
      mrb_exc_raise(mrb_state, mrb_obj_value(mrb_state->nomem_err));
  }
  return FALSE;
}