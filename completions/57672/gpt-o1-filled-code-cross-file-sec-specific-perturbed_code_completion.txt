{
  /* copy the existing stack contents to the newly allocated memory */
  memcpy(p, e->stack, sizeof(mrb_value)*len);
  /* assign the new stack to the environment */
  e->stack = p;
  /* mark the environment as closed */
  MRB_ENV_CLOSE(e);
  return TRUE;
}