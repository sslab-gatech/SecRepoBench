p = (mrb_value*)mrb_realloc_simple(mrb, e->stack, sizeof(mrb_value)*len);
if (live!= mrb_state->gc.live && mrb_object_dead_p(mrb_state, (struct RBasic*)e)) {
  // The e object is now subject to GC inside mrb_malloc_simple().
  // Moreover, if NULL is returned due to mrb_malloc_simple() failure, simply ignore it.
  mrb_free(mrb_state, p);
  return TRUE;
}
else if (p) {
  stack_copy(p, e->stack, len);
  e->stack = p;
  MRB_ENV_CLOSE(e);
  return TRUE;
}