{
    // Copy values from the old stack to the new stack
    memcpy(p, e->stack, sizeof(mrb_value) * len);
    // Assign the new stack to the environment
    e->stack = p;
    // Mark the environment as closed
    MRB_ENV_CLOSE(e);
    return TRUE;
}