{
  memcpy(p, e->stack, sizeof(mrb_value)*len);
  e->stack = p;
  MRB_ENV_CLOSE(e);
  return TRUE;
}
else {
  if (!noraise) {
    mrb_exc_raise(mrb_state, mrb_obj_value(mrb_state->nomem_err));
  }
  return FALSE;
}