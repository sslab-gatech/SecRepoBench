{
  if ((checkcompoundrep && cpdrep_check(word, len)) || cpdwordpair_check(word, len)) {
    st[i + compound_result->blen] = r;  // restore original character
    continue;  // skip this compound candidate and continue the loop
  }
  struct hentry* rv = lookup(st.c_str(), st.size());
  if (rv && rv->astr && TESTAFF(rv->astr, forbiddenword, rv->alen)) {
    st[i + compound_result->blen] = r;  // restore original character
    return NULL;  // compound word is forbidden
  }
}