if (TESTAFF(word.c_str(), forbiddenword, len)) {
                    st[i + compound_result->blen] = r;  // Restore the character
                    return NULL;  // The compound word is forbidden
                  }
                  st[i + compound_result->blen] = r;  // Restore the character