// Check if the current compound word part has a typical fault or forms a forbidden word pair.
// If any such faults or forbidden word pairs are detected, reset the position in the string and continue the loop.
// If the 'forbiddenword' flag is set, look up the entire word in the dictionary to see if it's forbidden.
// If the word is found to be forbidden, return NULL to indicate the compound word is not acceptable.
// Restore the original character at the current position after the checks.
st[i + compound_result->blen] = r;
if (checkcompoundrep && cpdrep_check(st.substr(0, i + compound_result->blen), i + compound_result->blen))
{
  i = soldi;
  continue;
}
if (cpdwordpair_check(st.substr(0, i + compound_result->blen), i + compound_result->blen))
{
  i = soldi;
  continue;
}
if (forbiddenword) {
  struct hentry* hw = lookup(st.c_str(), i + compound_result->blen);
  if (hw && hw->astr && TESTAFF(hw->astr, forbiddenword, hw->alen))
    return NULL;
}
st[i + compound_result->blen] = r;