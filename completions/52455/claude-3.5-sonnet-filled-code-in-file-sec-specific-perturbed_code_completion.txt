if (word.compare(0, i, st.c_str(), i) == 0) {
  st[i] = r;
  if (cpdrep_check(st, st.size()))
    return NULL;
  if (forbiddenword && lookup(st.c_str(), st.size()))
    return NULL;
  st[i] = '\0';
}