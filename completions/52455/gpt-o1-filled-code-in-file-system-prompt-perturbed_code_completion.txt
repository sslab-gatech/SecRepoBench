struct hentry* checkFirstPart = lookup(st.c_str(), i + compound_result->blen);
while (checkFirstPart) {
    if (checkFirstPart->astr &&
        TESTAFF(checkFirstPart->astr, forbiddenword, checkFirstPart->alen))
    {
        // Restore the original character and reject this compound.
        st[i + compound_result->blen] = r;
        return NULL;
    }
    checkFirstPart = checkFirstPart->next_homonym;
}
// Restore the original character before continuing.
st[i + compound_result->blen] = r;