if (checkcompoundrep && cpdrep_check(st, i)) {
                    st[i + compound_result->blen] = r;
                    continue;
                  }

                  if (forbiddenword) {
                    struct hentry* rv = lookup(st.c_str(), i);
                    while (rv) {
                      if (rv->astr && TESTAFF(rv->astr, forbiddenword, rv->alen)) {
                        st[i + compound_result->blen] = r;
                        return NULL;
                      }
                      rv = rv->next_homonym;
                    }
                  }
                  st[i + compound_result->blen] = r;