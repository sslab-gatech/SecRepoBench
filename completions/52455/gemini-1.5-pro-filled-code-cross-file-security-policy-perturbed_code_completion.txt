if (i + compound_result->blen <= st.size()) { // check for out-of-bounds access
                    char r = st[i + compound_result->blen];
                    st[i + compound_result->blen] = '\0';
                    if ((checkcompoundrep && cpdrep_check(st, i + compound_result->blen)) ||
                        cpdwordpair_check(st, i + compound_result->blen) ||
                        (forbiddenword && pAMgr->lookup(st.c_str(), i + compound_result->blen) &&
                         TESTAFF(pAMgr->lookup(st.c_str(), i + compound_result->blen)->astr, forbiddenword,
                                 pAMgr->lookup(st.c_str(), i + compound_result->blen)->alen))) {
                      st[i + compound_result->blen] = r;
                      continue; // continue with the next iteration
                    }
                    st[i + compound_result->blen] = r;
                  } else {
                    continue; // continue with the next iteration if the index is out of bounds
                  }