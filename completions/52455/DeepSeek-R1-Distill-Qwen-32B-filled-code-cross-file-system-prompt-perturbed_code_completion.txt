std::string current_part = word.substr(i, compound_result->blen);
struct hentry* part_entry = lookup(current_part.c_str(), current_part.size());
if (part_entry && part_entry->astr && TESTAFF(part_entry->astr, forbiddenword, part_entry->alen)) {
    return NULL;
}
struct hentry* full_entry = lookup(word.c_str(), word.size());
if (full_entry && full_entry->astr && TESTAFF(full_entry->astr, forbiddenword, full_entry->alen)) {
    return NULL;
}
st[i + compound_result->blen] = r;