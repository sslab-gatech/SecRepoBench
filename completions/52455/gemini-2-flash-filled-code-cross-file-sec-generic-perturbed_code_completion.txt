st[i + compound_result->blen] = r;
                  if (checkcompoundrep && cpdrep_check(st, len)) {
                    continue;
                  }

                  if (forbiddenword) {
                    struct hentry* rv = lookup(st.c_str(), i + compound_result->blen);
                    if (rv && rv->astr &&
                        TESTAFF(rv->astr, forbiddenword, rv->alen)) {
                      return NULL;
                    }
                  }