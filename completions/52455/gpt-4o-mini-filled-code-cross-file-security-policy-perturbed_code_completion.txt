if (compound_result->blen + (i + compound_result->blen) <= st.size()) {
                    if (TESTAFF(st.c_str(), forbiddenword, st.size())) {
                      st[i + compound_result->blen] = r; // Restore the character
                      return NULL; // Forbidden word found
                    }
                  }
                  st[i + compound_result->blen] = r; // Restore the character