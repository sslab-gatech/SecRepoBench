if (!checkcpdtable.empty() && !simplifiedcpd && scpd < checkcpdtable.size()) {
          size_t oldlen = len;
          int oldcmin = cmin;
          int oldcmax = cmax;
          size_t lenp = checkcpdtable[scpd].pattern.size();
          size_t lenp2 = checkcpdtable[scpd].pattern2.size();
          size_t lenp3 = checkcpdtable[scpd].pattern3.size();

          if ((lenp <= i) &&
              strncmp(st.c_str() + i - lenp,
                      checkcpdtable[scpd].pattern.c_str(), lenp) == 0 &&
              isSubset(checkcpdtable[scpd].pattern2.c_str(),
                       st.c_str() + i)) {
            st.replace(i - lenp, lenp + lenp2,
                       checkcpdtable[scpd].pattern3);
            len = st.size();
            soldi = i + (int)lenp3 - (int)lenp - (int)lenp2;
            setcminmax(&cmin, &cmax, st.c_str(), len);
            i = cmin - 1;
            continue;
          }
        }