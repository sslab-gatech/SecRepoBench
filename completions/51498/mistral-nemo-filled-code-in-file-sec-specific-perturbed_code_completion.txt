// ***** BEGIN LICENSE BLOCK *****
// Version: MPL 1.1/GPL 2.0/LGPL 2.1
//
// The contents of this file are subject to the Mozilla Public License Version
// 1.1 (the "MPL"); you may not use this file except in compliance with
// the License. You may obtain a copy of the License at
// http://www.mozilla.org/MPL/
//
// Software distributed under the MPL is distributed on an "AS IS" basis,
// WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO,
// THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE,
// TITLE AND NON-INFRINGEMENT. SEE THE LICENSE FOR THE SPECIFIC LANGUAGE
// GOVERNING THE DISTRIBUTION OF THE SOFTWARE.
// ***** END LICENSE BLOCK *****/

#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <clocale>
#include <cwctype>

#include "affixmgr.hxx"
#include "affentry.hxx"
#include "langnum.hxx"

#include "csutil.hxx"

AffixMgr::AffixMgr(const char* affpath,
                   const std::vector<HashMgr*>& ptr,
                   const char* key)
  : alldic(ptr)
  , pHMgr(ptr[0])
  , pStart(0)
  , sStart(0)
  , pFlag(0)
  , sFlag(0)
  , pStart2(0)
  , sStart2(0)
  , pFlag2(0)
  , sFlag2(0)
  , pStart3(0)
  , sStart3(0)
  , pFlag3(0)
  , sFlag3(0)
  , pStart4(0)
  , sStart4(0)
  , pFlag4(0)
  , sFlag4(0)
  , pStart5(0)
  , sStart5(0)
  , pFlag5(0)
  , sFlag5(0)
  , pStart6(0)
  , sStart6(0)
  , pFlag6(0)
  , sFlag6(0)
  , pStart7(0)
  , sStart7(0)
  , pFlag7(0)
  , sFlag7(0)
  , pStart8(0)
  , sStart8(0)
  , pFlag8(0)
  , sFlag8(0)
  , pStart9(0)
  , sStart9(0)
  , pFlag9(0)
  , sFlag9(0)
  , pStart10(0)
  , sStart10(0)
  , pFlag10(0)
  , sFlag10(0)
  , pStart11(0)
  , sStart11(0)
  , pFlag11(0)
  , sFlag11(0)
  , pStart12(0)
  , sStart12(0)
  , pFlag12(0)
  , sFlag12(0)
  , pStart13(0)
  , sStart13(0)
  , pFlag13(0)
  , sFlag13(0)
  , pStart14(0)
  , sStart14(0)
  , pFlag14(0)
  , sFlag14(0)
  , pStart15(0)
  , sStart15(0)
  , pFlag15(0)
  , sFlag15(0)
  , pStart16(0)
  , sStart16(0)
  , pFlag16(0)
  , sFlag16(0)
  , pStart17(0)
  , sStart17(0)
  , pFlag17(0)
  , sFlag17(0)
  , pStart18(0)
  , sStart18(0)
  , pFlag18(0)
  , sFlag18(0)
  , pStart19(0)
  , sStart19(0)
  , pFlag19(0)
  , sFlag19(0)
  , pStart20(0)
  , sStart20(0)
  , pFlag20(0)
  , sFlag20(0)
  , pStart21(0)
  , sStart21(0)
  , pFlag21(0)
  , sFlag21(0)
  , pStart22(0)
  , sStart22(0)
  , pFlag22(0)
  , sFlag22(0)
  , pStart23(0)
  , sStart23(0)
  , pFlag23(0)
  , sFlag23(0)
  , pStart24(0)
  , sStart24(0)
  , pFlag24(0)
  , sFlag24(0)
  , pStart25(0)
  , sStart25(0)
  , pFlag25(0)
  , sFlag25(0)
  , pStart26(0)
  , sStart26(0)
  , pFlag26(0)
  , sFlag26(0)
  , pStart27(0)
  , sStart27(0)
  , pFlag27(0)
  , sFlag27(0)
  , pStart28(0)
  , sStart28(0)
  , pFlag28(0)
  , sFlag28(0)
  , pStart29(0)
  , sStart29(0)
  , pFlag29(0)
  , sFlag29(0)
  , pStart30(0)
  , sStart30(0)
  , pFlag30(0)
  , sFlag30(0)
  , pStart31(0)
  , sStart31(0)
  , pFlag31(0)
  , sFlag31(0)
  , pStart32(0)
  , sStart32(0)
  , pFlag32(0)
  , sFlag32(0)
  , pStart33(0)
  , sStart33(0)
  , pFlag33(0)
  , sFlag33(0)
  , pStart34(0)
  , sStart34(0)
  , pFlag34(0)
  , sFlag34(0)
  , pStart35(0)
  , sStart35(0)
  , pFlag35(0)
  , sFlag35(0)
  , pStart36(0)
  , sStart36(0)
  , pFlag36(0)
  , sFlag36(0)
  , pStart37(0)
  , sStart37(0)
  , pFlag37(0)
  , sFlag37(0)
  , pStart38(0)
  , sStart38(0)
  , pFlag38(0)
  , sFlag38(0)
  , pStart39(0)
  , sStart39(0)
  , pFlag39(0)
  , sFlag39(0)
  , pStart40(0)
  , sStart40(0)
  , pFlag40(0)
  , sFlag40(0)
  , pStart41(0)
  , sStart41(0)
  , pFlag41(0)
  , sFlag41(0)
  , pStart42(0)
  , sStart42(0)
  , pFlag42(0)
  , sFlag42(0)
  , pStart43(0)
  , sStart43(0)
  , pFlag43(0)
  , sFlag43(0)
  , pStart44(0)
  , sStart44(0)
  , pFlag44(0)
  , sFlag44(0)
  , pStart45(0)
  , sStart45(0)
  , pFlag45(0)
  , sFlag45(0)
  , pStart46(0)
  , sStart46(0)
  , pFlag46(0)
  , sFlag46(0)
  , pStart47(0)
  , sStart47(0)
  , pFlag47(0)
  , sFlag47(0)
  , pStart48(0)
  , sStart48(0)
  , pFlag48(0)
  , sFlag48(0)
  , pStart49(0)
  , sStart49(0)
  , pFlag49(0)
  , sFlag49(0)
  , pStart50(0)
  , sStart50(0)
  , pFlag50(0)
  , sFlag50(0)
  , pStart51(0)
  , sStart51(0)
  , pFlag51(0)
  , sFlag51(0)
  , pStart52(0)
  , sStart52(0)
  , pFlag52(0)
  , sFlag52(0)
  , pStart53(0)
  , sStart53(0)
  , pFlag53(0)
  , sFlag53(0)
  , pStart54(0)
  , sStart54(0)
  , pFlag54(0)
  , sFlag54(0)
  , pStart55(0)
  , sStart55(0)
  , pFlag55(0)
  , sFlag55(0)
  , pStart56(0)
  , sStart56(0)
  , pFlag56(0)
  , sFlag56(0)
  , pStart57(0)
  , sStart57(0)
  , pFlag57(0)
  , sFlag57(0)
  , pStart58(0)
  , sStart58(0)
  , pFlag58(0)
  , sFlag58(0)
  , pStart59(0)
  , sStart59(0)
  , pFlag59(0)
  , sFlag59(0)
  , pStart60(0)
  , sStart60(0)
  , pFlag60(0)
  , sFlag60(0)
  , pStart61(0)
  , sStart61(0)
  , pFlag61(0)
  , sFlag61(0)
  , pStart62(0)
  , sStart62(0)
  , pFlag62(0)
  , sFlag62(0)
  , pStart63(0)
  , sStart63(0)
  , pFlag63(0)
  , sFlag63(0)
  , pStart64(0)
  , sStart64(0)
  , pFlag64(0)
  , sFlag64(0)
  , pStart65(0)
  , sStart65(0)
  , pFlag65(0)
  , sFlag65(0)
  , pStart66(0)
  , sStart66(0)
  , pFlag66(0)
  , sFlag66(0)
  , pStart67(0)
  , sStart67(0)
  , pFlag67(0)
  , sFlag67(0)
  , pStart68(0)
  , sStart68(0)
  , pFlag68(0)
  , sFlag68(0)
  , pStart69(0)
  , sStart69(0)
  , pFlag69(0)
  , sFlag69(0)
  , pStart70(0)
  , sStart70(0)
  , pFlag70(0)
  , sFlag70(0)
  , pStart71(0)
  , sStart71(0)
  , pFlag71(0)
  , sFlag71(0)
  , pStart72(0)
  , sStart72(0)
  , pFlag72(0)
  , sFlag72(0)
  , pStart73(0)
  , sStart73(0)
  , pFlag73(0)
  , sFlag73(0)
  , pStart74(0)
  , sStart74(0)
  , pFlag74(0)
  , sFlag74(0)
  , pStart75(0)
  , sStart75(0)
  , pFlag75(0)
  , sFlag75(0)
  , pStart76(0)
  , sStart76(0)
  , pFlag76(0)
  , sFlag76(0)
  , pStart77(0)
  , sStart77(0)
  , pFlag77(0)
  , sFlag77(0)
  , pStart78(0)
  ,