oldnumsyllable2 = numsyllable;
        oldwordnum2 = wordnum;
        oldlen = len;
        oldcmin = cmin;
        oldcmax = cmax;
        soldi = i;

        if (!checkcpdtable.empty()) {
          for (scpd = 0; scpd < checkcpdtable.size(); scpd++) {
            if (isSubset(checkcpdtable[scpd].pattern3.c_str(), st.c_str() + i) &&
                (!words || !checkcpdtable[scpd].cond ||
                 (words[wnum]->astr &&
                  TESTAFF(words[wnum]->astr, checkcpdtable[scpd].cond,
                          words[wnum]->alen)))) {
              size_t lenp = checkcpdtable[scpd].pattern3.size();
              st.replace(i, lenp, checkcpdtable[scpd].pattern);
              len = st.size();
              setcminmax(&cmin, &cmax, st.c_str(), len);
              break;
            }
          }
        }