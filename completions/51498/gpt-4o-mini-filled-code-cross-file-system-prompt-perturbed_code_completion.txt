rv = lookup(st.c_str(), i);  // lookup the first part of the compound word

        if (rv) {
            // Check if the found entry has any affix conditions
            if (TESTAFF(rv->astr, needaffix, rv->alen)) {
                st[i] = ch;  // restore character
                return NULL; // return if it needs an affix
            }

            // Check for forbidden words
            if (TESTAFF(rv->astr, forbiddenword, rv->alen)) {
                st[i] = ch;  // restore character
                return NULL; // return if it is a forbidden word
            }

            // Update syllable count and word number
            numsyllable += get_syllable(st.substr(0, i));
            wordnum++;

            // Update the minimum and maximum character indices for further processing
            setcminmax(&cmin, &cmax, st.c_str(), st.size());
        }