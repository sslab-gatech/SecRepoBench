if (!checkcpdtable.empty() && !checked_prefix) {
  for (size_t k = 0; k < checkcpdtable.size(); k++) {
    if (checkcpdtable[k].match(compound_word.c_str(), i)) {
      scpd = k + 1;
      if (i < compound_word.size()) { // Ensure i is within bounds
        soldi = i;
        oldcmin = cmin;
        oldcmax = cmax;
        oldlen = len;

        std::string buf = checkcpdtable[k].replace(st);
        st.assign(buf);
        len = st.size();

        setcminmax(&cmin, &cmax, st.c_str(), len);
        i = cmin;

        break;
      }
    }
  }
}