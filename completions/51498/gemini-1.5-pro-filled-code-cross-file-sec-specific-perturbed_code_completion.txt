if (!checkcpdtable.empty() && !onlycpdrule) {
          int res = cpdpat_check(st.c_str(), i, NULL, NULL, 0);
          if (res > 0) {
            // store old values for restoring
            soldi = i;
            oldlen = len;
            oldcmin = cmin;
            oldcmax = cmax;

            // replace a part of compound word with a pattern from the
            // compound pattern table
            st.replace(i, checkcpdtable[res - 1].striplen,
                       checkcpdtable[res - 1].pattern);

            // adjust parameters to reflect the changes made to the string 'st'
            len = st.size();
            setcminmax(&cmin, &cmax, st.c_str(), len);

            // adjust character minimum and maximum values for further
            // processing
            i = i - checkcpdtable[res - 1].striplen +
                checkcpdtable[res - 1].patternlen;
            if (utf8) {
              for (; (st[i] & 0xc0) == 0x80; i++);
            }
            scpd = res;
          }
        }