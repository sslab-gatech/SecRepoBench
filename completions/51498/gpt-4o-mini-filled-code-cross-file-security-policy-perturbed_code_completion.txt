if (i < st.size()) {
            // Perform the replacement or substring operation safely
            std::string prefix = st.substr(0, i);
            std::string suffix = st.substr(i + 1);
            st = prefix + new_pattern + suffix; // Assuming new_pattern is defined elsewhere
            // Update cmin, cmax, and other necessary variables based on the new string
            len = st.size();
            cmin = 0; // Reset or adjust as necessary
            cmax = len; // Update to the new length
        }