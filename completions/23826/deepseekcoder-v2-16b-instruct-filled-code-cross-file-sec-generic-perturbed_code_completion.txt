if (envvar != NULL) {
    if (strcmp(envvar, "TRUE") == 0) {
      dctx = blosc2_create_dctx(BLOSC2_DPARAMS_DEFAULTS);
      result = blosc2_decompress_ctx(dctx, src, srcsize, outputbuffer, destsize);
      blosc2_destroy_dctx(dctx);
    } else {
      result = blosc2_decompress(src, srcsize, outputbuffer, destsize);
    }
  } else {
    result = blosc2_decompress(src, srcsize, outputbuffer, destsize);
  }
  return result;