if (envvar != NULL) {
    dctx = blosc2_create_dctx(dparams);
    compressed_sum = blosc2_decompress(dctx, src, srcsize, outputbuffer, destsize);
    blosc2_free_dctx(dctx);
    return compressed_sum;
  }
  else {
    blosc_mutex_lock(&g_mutex);
    result = blosc2_decompress(src, srcsize, outputbuffer, destsize);
    blosc_mutex_unlock(&g_mutex);
    return result;
  }