// <MASK>
if (ptr->sampleSize==4) {
    for (index = 0; index < ptr->sampleCount; index += 2) {
        ptr->sizes[index] = gf_bs_read_int(bs, 4);
        if (index+1 < ptr->sampleCount) {
            ptr->sizes[index+1] = gf_bs_read_int(bs, 4);
        } else {
            gf_bs_read_int(bs, 4); //0 padding in odd sample count
        }
    }
} else {
    for (index = 0; index < ptr->sampleCount; index++) {
        ptr->sizes[index] = gf_bs_read_int(bs, ptr->sampleSize);
    }
}