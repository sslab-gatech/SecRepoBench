u32 val, nb_read, to_read = ptr->sampleCount;
u8 buffer;
while (to_read) {
	nb_read = (to_read > 2) ? 2 : to_read;
	to_read -= nb_read;
	gf_bs_read_data(bs, (char *) &buffer, (nb_read+1)/2);
	for (val=0; val<nb_read; val++) {
		u8 s = (val==0) ? (buffer >> 4) : (buffer & 0x0F);
		ptr->sizes[index] = s;
		if (ptr->max_size < s) ptr->max_size = s;
		ptr->total_size += s;
		ptr->total_samples++;
		index++;
	}
}