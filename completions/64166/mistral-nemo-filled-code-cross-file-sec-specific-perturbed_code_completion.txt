if (DeviceLink == NULL) {
        cmsSignalError(m ->ContextID, cmsERROR_NULL_POINTER, "DeviceLink is NULL");
        cmsDeleteTransform(xform);
        return 0;
    }

    // Force the use of a CLUT by setting the cmsFLAGS_FORCE_CLUT flag.
    cmsPipelineSetFlags(DeviceLink, cmsFLAGS_FORCE_CLUT);

    // Optimize the pipeline for color rendering using the _cmsOptimizePipeline function.
    _cmsOptimizePipeline(DeviceLink);