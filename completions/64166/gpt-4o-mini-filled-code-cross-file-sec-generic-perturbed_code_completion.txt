if (DeviceLink == NULL) {
        cmsSignalError(m ->ContextID, cmsERROR_COLORSPACE_CHECK, "DeviceLink is NULL, cannot proceed with transformation");
        cmsDeleteTransform(xform);
        return 0;
    }

    // Force the use of a CLUT
    dwFlags |= cmsFLAGS_FORCE_CLUT;

    // Optimize the pipeline for color rendering
    if (!cmsOptimizePipeline(DeviceLink, dwFlags)) {
        cmsSignalError(m ->ContextID, cmsERROR_COLORSPACE_CHECK, "Failed to optimize pipeline");
        cmsPipelineFree(DeviceLink);
        cmsDeleteTransform(xform);
        return 0;
    }