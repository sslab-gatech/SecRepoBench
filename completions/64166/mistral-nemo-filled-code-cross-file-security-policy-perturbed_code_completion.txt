if (DeviceLink == NULL) {
        cmsSignalError(m ->ContextID, cmsERROR_NULL_POINTER, "Cannot create transform Lab -> Profile in CRD creation");
        cmsDeleteTransform(xform);
        return 0;
    }

    // Force the use of a CLUT by setting the cmsFLAGS_FORCE_CLUT flag.
    cmsPipelineSetFlags(DeviceLink, cmsFLAGS_FORCE_CLUT);

    // Optimize the pipeline for color rendering using the _cmsOptimizePipeline function.
    if (!_cmsOptimizePipeline(DeviceLink, NULL, NULL, NULL)) {
        cmsSignalError(m ->ContextID, cmsERROR_INTERNAL, "Cannot optimize pipeline for color rendering");
        cmsPipelineFree(DeviceLink);
        cmsDeleteTransform(xform);
        return 0;
    }