{
    flb_sds_t type_str;
    char *endptr;
    long ltype;

    type_str = get_parser_key(config, cf, s, "type");
    if (!type_str) {
        flb_error("[multiline_parser] no 'type' defined in file '%s'", cfg);
        goto fconf_error;
    }

    ltype = strtol(type_str, &endptr, 10);
    if (*endptr != '\0') {
        flb_error("[multiline_parser] invalid 'type' value in file '%s'", cfg);
        flb_sds_destroy(type_str);
        goto fconf_error;
    }
    type = (int) ltype;
    flb_sds_destroy(type_str);
}