for (unsigned int i = 0; i < effectiveaxiscount; ++i) {
      coords[i] = map->transform(coords[i]);
      map++;
    }
    if (version >= 2) {
      std::vector<int> transformedCoords(effectiveaxiscount);
      VariationStoreCache variationStoreCache;
      for (unsigned int i = 0; i < effectiveaxiscount; ++i) {
        int delta = variationIndexMap[i]->getDelta(coords[i], variationStoreCache);
        transformedCoords[i] = coords[i] + static_cast<int>(round(delta));
        transformedCoords[i] = hb_clamp(transformedCoords[i], minCoordValue, maxCoordValue);
      }
      variationStoreCache.clear();
      for (unsigned int i = 0; i < effectiveaxiscount; ++i) {
        coords[i] = transformedCoords[i];
      }
    }