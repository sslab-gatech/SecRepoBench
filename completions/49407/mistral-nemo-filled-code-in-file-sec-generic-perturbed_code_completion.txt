for (unsigned int i = 0; i < effectiveaxiscount; i++)
    {
      coords[i] = map->map (coords[i]);
      map = &StructAfter<SegmentMaps> (*map);
#ifndef HB_NO_VARIATIONS2
      if (version.major >= 2)
      {
        const auto &v2 = * (const avarV2Tail *) map;
        int varIdx = v2.varIdxMap.map (coords[i]);
        int delta = v2.varStore.get (varIdx);
        coords[i] = roundf (coords[i] + delta);
        coords[i] = hb_clamp (coords[i], -100000, 100000);
      }
#endif
    }