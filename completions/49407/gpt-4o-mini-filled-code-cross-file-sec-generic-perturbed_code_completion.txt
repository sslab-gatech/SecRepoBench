std::vector<int> transformedCoords(effectiveaxiscount);
    for (unsigned int i = 0; i < effectiveaxiscount; ++i) {
        // Apply mapping transformation
        transformedCoords[i] = map->transform(coords[i]);

        // If version is 2 or higher, apply variation data
        if (version >= 2) {
            int variationIndex = getVariationIndex(coords[i]);
            int delta = variationStore[variationIndex];
            transformedCoords[i] += delta;

            // Clamp the result to a specified range
            transformedCoords[i] = std::max(minValue, std::min(transformedCoords[i], maxValue));
        }

        // Advance to the next SegmentMaps object
        map = map->next();
    }

    // Update the original coordinates array with transformed values
    std::copy(transformedCoords.begin(), transformedCoords.end(), coords);

    // Deallocate the variation store cache if necessary
    clearVariationStore();