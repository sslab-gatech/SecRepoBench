for (unsigned int i = 0; i < effectiveaxiscount; i++)
    {
      coords[i] = map->map (coords[i]);
      map = &StructAfter<SegmentMaps> (*map);
    }

    if (version >= 0x00020000)
    {
      hb_vector_t<int> out;
      if (unlikely (!out.resize (effectiveaxiscount))) return;

      for (unsigned int i = 0; i < effectiveaxiscount; i++)
      {
        uint32_t varidx = varIdxMap.map (i);
        float delta = varStore->get_delta (varidx, coords, coords_length);
        int rounded = (int) roundf (delta);
        int v = coords[i] + rounded;
        v = hb_clamp (v, -0x7FFFFFFF, 0x7FFFFFFF);
        out[i] = v;
      }

      memcpy (coords, out.arrayZ, effectiveaxiscount * sizeof (int));
      varStore->destroy_cache ();
    }