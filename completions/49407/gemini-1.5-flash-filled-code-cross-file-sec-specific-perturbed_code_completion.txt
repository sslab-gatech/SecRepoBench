for (unsigned int i = 0; i < effectiveaxiscount; ++i)
    {
      int coord = coords[i];
      int transformed_coord = map->transform(coord);

      if (version >= 2)
      {
        //Further processing for version 2 and higher.  Error handling omitted for brevity but crucial in production code.
        int delta = 0; // Placeholder, needs actual calculation based on variation data.
        transformed_coord += delta;
        //Clamp transformed_coord to a valid range.  Range needs to be defined.
      }
      coords[i] = transformed_coord;
      map++;
    }