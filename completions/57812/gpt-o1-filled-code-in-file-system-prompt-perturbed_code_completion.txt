for (int i = 0; i < pictureparameterset->num_ref_loc_offsets; i++) {
        // Read the layer ID for this reference offset.
        unsigned int ref_layer_id = get_bits(gb, 6);

        // Check if scaled reference layer offsets are present and parse them if so.
        unsigned int scaled_ref_layer_offset_present_flag = get_bits1(gb);
        if (scaled_ref_layer_offset_present_flag) {
            int scaled_ref_layer_left_offset   = get_se_golomb(gb);
            int scaled_ref_layer_top_offset    = get_se_golomb(gb);
            int scaled_ref_layer_right_offset  = get_se_golomb(gb);
            int scaled_ref_layer_bottom_offset = get_se_golomb(gb);
            // These offsets could be stored or processed further as needed.
        }

        // Check if reference region offsets are present and parse them if so.
        unsigned int reference_region_offset_present_flag = get_bits1(gb);
        if (reference_region_offset_present_flag) {
            int reference_region_left_offset   = get_se_golomb(gb);
            int reference_region_top_offset    = get_se_golomb(gb);
            int reference_region_right_offset  = get_se_golomb(gb);
            int reference_region_bottom_offset = get_se_golomb(gb);
            // Optional: parse additional fields if the specification requires.

            // Example: sometimes there's a "reference_to_scaled_offset_region_offset_present_flag"
            // or similar condition, which could then lead to more offset parsing.
        }

        // Check if the resample phase set is present and parse if so.
        unsigned int resample_phase_set_present_flag = get_bits1(gb);
        if (resample_phase_set_present_flag) {
            unsigned int phase_hor_luma   = get_ue_golomb_long(gb);
            unsigned int phase_ver_luma   = get_ue_golomb_long(gb);
            unsigned int phase_hor_chroma = get_ue_golomb_long(gb);
            unsigned int phase_ver_chroma = get_ue_golomb_long(gb);
            // These phase values could be stored or used for further processing.
        }
    }