for (int i = 0; i < pictureparameterset->num_ref_loc_offsets; i++) {
        pictureparameterset->ref_loc_offsets[i].layer_id = get_bits(gb, 6);
        pictureparameterset->ref_loc_offsets[i].scaled_ref_layer_offset_present_flag = get_bits1(gb);
        if (pictureparameterset->ref_loc_offsets[i].scaled_ref_layer_offset_present_flag)
            pictureparameterset->ref_loc_offsets[i].scaled_ref_layer_offset = get_se_golomb_long(gb);

        pictureparameterset->ref_loc_offsets[i].reference_region_offsets_present_flag = get_bits1(gb);
        if (pictureparameterset->ref_loc_offsets[i].reference_region_offsets_present_flag) {
            pictureparameterset->ref_loc_offsets[i].num_ref_region_offsets = get_ue_golomb_long(gb);
            for (int j = 0; j < pictureparameterset->ref_loc_offsets[i].num_ref_region_offsets; j++) {
                pictureparameterset->ref_loc_offsets[i].ref_region_offsets[j].x = get_se_golomb_long(gb);
                pictureparameterset->ref_loc_offsets[i].ref_region_offsets[j].y = get_se_golomb_long(gb);
            }
        }

        pictureparameterset->ref_loc_offsets[i].resample_phase_set_present_flag = get_bits1(gb);
        if (pictureparameterset->ref_loc_offsets[i].resample_phase_set_present_flag) {
            pictureparameterset->ref_loc_offsets[i].resample_phase_set = get_bits(gb, 2);
            pictureparameterset->ref_loc_offsets[i].resample_phase_luma = get_bits(gb, 2);
            pictureparameterset->ref_loc_offsets[i].resample_phase_chroma = get_bits(gb, 2);
        }
    }