for (int i = 0; i < pictureparameterset->num_ref_loc_offsets; i++) {
    int layer_id = get_bits(gb, 6);
    int scaled_ref_layer_offset_present_flag = get_bits1(gb);
    if (scaled_ref_layer_offset_present_flag) {
        int scaled_ref_layer_offset = get_ue_golomb_long(gb);
        // Handle scaled reference layer offset
    }
    int ref_region_offset_present_flag = get_bits1(gb);
    if (ref_region_offset_present_flag) {
        int ref_region_offset = get_ue_golomb_long(gb);
        // Handle reference region offset
    }
    int resample_phase_set_present_flag = get_bits1(gb);
    if (resample_phase_set_present_flag) {
        int resample_phase_set = get_ue_golomb_long(gb);
        // Handle resample phase set
        if (resample_phase_set) {
            int luma_resample_phase = get_bits(gb, 5);
            int chroma_resample_phase = get_bits(gb, 5);
            // Handle luma and chroma resample phases
        }
    }
}