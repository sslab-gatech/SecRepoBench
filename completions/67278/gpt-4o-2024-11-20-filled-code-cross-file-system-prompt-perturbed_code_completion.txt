u32 frame_size = 0;
		u32 sample_rate_index = 0;

		// Parse LATM frame header
		if (gf_latm_get_frame_info(bs, &frame_size, &sample_rate_index) != GF_OK) {
			// If parsing fails, skip one byte and continue
			if (gf_bs_available(bs) < 8) break;
			gf_bs_skip_bits(bs, 8);
			nb_skip++;
			continue;
		}

		// Check if sample rate index is valid
		if (sample_rate_index >= 12) {
			break;
		}

		// Move to the next frame
		if (gf_bs_skip_bytes(bs, frame_size) != GF_OK) {
			break;
		}

		numframes++;