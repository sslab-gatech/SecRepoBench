if (gf_bs_eof(bs))
    break;

u32 start_pos = gf_bs_get_position(bs);
if (latm_parse_frame(bs, &acfg) < 0) {
    nb_skip++;
    /* On parse error, skip one byte (8 bits) to attempt resynchronization. */
    gf_bs_seek(bs, start_pos + 8);
    continue;
}

/* Validate that the sample rate index is in the expected range (0â€“12) */
if (acfg.sampling_frequency_index > 12) {
    nb_skip++;
    gf_bs_seek(bs, start_pos + 8);
    continue;
}

numframes++;