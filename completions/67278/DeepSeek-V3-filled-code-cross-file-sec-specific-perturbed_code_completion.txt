u64 pos = gf_bs_get_position(bs);
u32 hdr_size = 0;
if (gf_m4a_parse_config(bs, &acfg, &hdr_size) != GF_OK) {
    if (pos + 1 >= size) break;
    nb_skip++;
    gf_bs_seek(bs, pos + 1);
    continue;
}
if (acfg.base_sr_index >= GF_M4A_SR_COUNT) {
    if (pos + 1 >= size) break;
    nb_skip++;
    gf_bs_seek(bs, pos + 1);
    continue;
}
numframes++;
if (gf_bs_available(bs) < 1) break;