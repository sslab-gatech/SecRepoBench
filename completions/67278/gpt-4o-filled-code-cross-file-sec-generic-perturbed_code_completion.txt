u32 frame_length;
        u8 sample_rate_index;
        
        // Read the frame length from the bitstream
        if (!gf_bs_read_int(bs, &frame_length, 13)) break;
        
        // Skip the frame length bits
        if (!gf_bs_skip_bits(bs, frame_length * 8)) break;
        
        // Read the sample rate index
        if (!gf_bs_read_int(bs, &sample_rate_index, 4)) break;
        
        // Check if the sample rate index is valid
        if (sample_rate_index < 12) {
            numframes++;
        } else {
            nb_skip++;
        }
        
        // If we have read enough frames, exit the loop
        if (numframes >= 2) break;