u32 frame_length, sample_rate_index;
        if (gf_bs_available(bs) < 3) break; // Ensure there are enough bits to read

        // Read the frame length and sample rate index
        frame_length = gf_bs_read_int(bs, 13);
        sample_rate_index = gf_bs_read_int(bs, 4);

        // Validate the sample rate index
        if (sample_rate_index >= 13) {
            nb_skip++;
            continue;
        }

        // Check if the frame length is valid and can be skipped
        if (frame_length < 3 || frame_length > size - gf_bs_get_position(bs)) {
            nb_skip++;
            continue;
        }

        // Move the bitstream position forward by the frame length
        gf_bs_skip_bytes(bs, frame_length - 3);
        numframes++;