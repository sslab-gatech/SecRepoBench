u64 pos = gf_bs_get_position(bs);
u32 hdr_size = 0;
if (gf_m4a_parse_header(bs, &acfg, &hdr_size) != GF_OK) {
    nb_skip++;
    gf_bs_seek(bs, pos+1);
    if (gf_bs_available(bs) < 4) break;
    continue;
}
if (acfg.base_sr_index >= 0xF) {
    nb_skip++;
    gf_bs_seek(bs, pos+1);
    if (gf_bs_available(bs) < 4) break;
    continue;
}
numframes++;
gf_bs_seek(bs, pos + hdr_size);
if (gf_bs_available(bs) < 4) break;