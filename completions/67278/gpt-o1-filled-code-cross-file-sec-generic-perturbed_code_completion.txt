while (gf_bs_available(bs) >= 4) {
	u32 pos = gf_bs_get_position(bs);
	/* Read 4 bits to check the sampling frequency index (valid range is 0..12). */
	u32 freq_index = gf_bs_read_int(bs, 4);

	/* If the index is invalid, skip a bit and increment skip counter. */
	if (freq_index >= 13) {
		gf_bs_seek(bs, pos + 1, GF_BITSTREAM_SEEK_SET);
		nb_skip++;
		if (nb_skip > 64) break; /* Prevent excessive skipping. */
		continue;
	}

	/* Valid sample rate index, count frame and stop if we have at least two. */
	numframes++;
	if (numframes >= 2) break;
}