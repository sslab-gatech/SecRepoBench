while (latm_dmx_sync_frame_bs(bs, &acfg, 0, NULL, NULL)) {
    if (acfg.base_sr_index < GF_ARRAY_LENGTH(GF_M4ASampleRates) && GF_M4ASampleRates[acfg.base_sr_index]) {
        numframes++;
    } else {
        GF_LOG(GF_LOG_ERROR, GF_LOG_MEDIA, ("[LATMDmx] Wrong sample rate in audio config, broken stream\n"));
    }
    nb_skip += gf_bs_get_position(bs) - gf_bs_get_position(bs) % 8;
}