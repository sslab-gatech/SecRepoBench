u32 frame_size, sample_rate_idx;
		if (gf_bs_available(bs) < 3) break;

		// Read the frame size and sample rate index from the bitstream
		frame_size = gf_bs_read_int(bs, 13); // LATM frame size is 13 bits
		sample_rate_idx = gf_bs_read_int(bs, 4); // Sample rate index is 4 bits

		// Validate the sample rate index (must be within the valid range)
		if (sample_rate_idx >= 12) {
			nb_skip++;
			gf_bs_skip_bytes(bs, 1); // Skip one byte and continue
			continue;
		}

		// Check if the frame size is valid and can be skipped
		if (frame_size == 0 || frame_size > gf_bs_available(bs)) {
			nb_skip++;
			break;
		}

		// Skip the frame data
		gf_bs_skip_bytes(bs, frame_size);
		numframes++;