u32 sample_rate_index;
		if (gf_bs_read(bs, &sample_rate_index, sizeof(sample_rate_index)) != sizeof(sample_rate_index)) {
			break; // End of stream or read error
		}
		
		// Validate the sample rate index
		if (sample_rate_index < 0 || sample_rate_index >= MAX_SAMPLE_RATE_INDEX) {
			nb_skip++;
			continue; // Skip this frame
		}
		
		numframes++;