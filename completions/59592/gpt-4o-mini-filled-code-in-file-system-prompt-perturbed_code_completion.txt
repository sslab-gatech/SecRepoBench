hb_vector_t<glyf_impl::SubsetGlyph> subset_glyphs;
    if (!_populate_subset_glyphs(context->plan, font, subset_glyphs))
    {
      if (font)
        hb_font_destroy(font);
      return_trace(false);
    }

    glyf new_glyf;
    hb_serialize_context_t serialize_context;
    if (!new_glyf.serialize(&serialize_context, subset_glyphs, use_short_loca, context->plan))
    {
      if (font)
        hb_font_destroy(font);
      return_trace(false);
    }

    if (font)
      hb_font_destroy(font);

    // Here we would typically write the serialized data to the output
    // For this example, we assume the result is successful
    result = true;