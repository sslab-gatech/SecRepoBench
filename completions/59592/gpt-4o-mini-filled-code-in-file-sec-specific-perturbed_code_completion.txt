bool result = false;
    hb_vector_t<glyf_impl::SubsetGlyph> subset_glyphs;

    if (!_populate_subset_glyphs(context->plan, font, subset_glyphs))
      goto cleanup;

    // Serialize the subset glyphs into the glyf object
    result = serialize(c, subset_glyphs.begin(), use_short_loca, context->plan);

cleanup:
    if (font)
      hb_font_destroy(font);
    return result;