mrb_int base = 10;
  mrb_value value;

  mrb_get_args(state, "o|i", &value, &base);

  if (!mrb_integer_p(value)) {
    return mrb_nil_value();
  }

  mrb_int num = mrb_integer(value);
  char buf[MRB_INT_BIT + 1];
  snprintf(buf, sizeof(buf), "%lld", (long long)num); // Use snprintf for security

  return mrb_str_new_cstr(state, buf);