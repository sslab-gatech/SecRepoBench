mrb_int base = 10;
  mrb_int len;
  char *str;
  mrb_value strv;

  mrb_get_args(mrb, "|i", &base);
  if (base < 2 || base > 36) {
    mrb_raisef(mrb, E_ARGUMENT_ERROR, "invalid radix %S", mrb_fixnum_value(base));
  }

  str = mrb_int_to_str(mrb, mrb_integer(obj), base);
  len = strlen(str);
  strv = mrb_str_new(mrb, str, len);
  mrb_free(mrb, str);
  return strv;