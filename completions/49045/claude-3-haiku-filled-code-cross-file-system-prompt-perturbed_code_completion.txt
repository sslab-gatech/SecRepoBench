mrb_value
str;
char buf[64];
int base;

mrb_get_args(state, "|i", &base);
if (mrb_nil_p(self)) {
  return mrb_str_new_lit(state, "nil");
}
if (base == 0) {
  base = 10;
}
snprintf(buf, sizeof(buf), "%.*" PRId64, (int)sizeof(buf) - 1, mrb_integer(self));
str = mrb_str_new_cstr(state, buf);
return str;