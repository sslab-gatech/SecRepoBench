mrb_value
str;
char buf[64];
int base;

mrb_get_args(mrb, "|i", &base);
if (mrb_nil_p(obj)) {
  return mrb_str_new_lit(mrb, "nil");
}
if (base == 0) {
  base = 10;
}
snprintf(buf, sizeof(buf), "%.*" PRId64, (int)sizeof(buf) - 1, mrb_integer(obj));
str = mrb_str_new_cstr(mrb, buf);
return str;