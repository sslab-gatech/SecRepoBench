mrb_int value;
  mrb_int base = 10; // Default base

  mrb_get_args(mrb, "i|i", &value, &base); // Get integer and optional base

  if (base < 2 || base > 36) {
    mrb_raise(mrb, E_ARGUMENT_ERROR, "base must be between 2 and 36");
  }

  char buffer[36]; // Buffer to hold the string representation
  char *ptr = &buffer[sizeof(buffer) - 1];
  *ptr = '\0';

  mrb_int num = value;
  mrb_bool is_negative = (num < 0);
  if (is_negative) {
    num = -num;
  }

  do {
    *--ptr = "0123456789abcdefghijklmnopqrstuvwxyz"[num % base];
    num /= base;
  } while (num != 0);

  if (is_negative) {
    *--ptr = '-';
  }

  return mrb_str_new_cstr(mrb, ptr);