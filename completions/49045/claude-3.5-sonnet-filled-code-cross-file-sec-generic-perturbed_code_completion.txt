mrb_int base = 10;
mrb_int n;
char buf[MRB_INT_BIT+1];
char *p;

mrb_get_args(mrb, "i|i", &n, &base);

if (base < 2 || base > 36) {
  mrb_raisef(mrb, E_ARGUMENT_ERROR, "invalid radix %i", base);
}

p = mrb_int_to_cstr(buf, sizeof(buf), n, base);
return mrb_str_new_cstr(mrb, p);