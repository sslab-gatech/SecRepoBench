mrb_int base = 10;
  mrb_int argc = mrb_get_argc(state);
  if (argc > 0) {
    mrb_value base_value = mrb_get_arg1(state);
    base = mrb_integer(base_value);
    if (base < 2 || base > 36) {
      mrb_raise(state, E_ARGUMENT_ERROR, "base must be between 2 and 36");
    }
  }
  mrb_value num = mrb_get_arg1(state);
  mrb_int n = mrb_integer(num);
  char buf[32];
  snprintf(buf, sizeof(buf), "%"PRIdMRB, n);
  return mrb_str_new_cstr(state, buf);