mrb_value base = mrb_nil_value();
mrb_value str;

if (mrb_get_argc(mrb) > 0) {
  base = mrb_get_arg1(mrb);
}

if (mrb_nil_p(base)) {
  base = mrb_fixnum_value(10);
}

str = mrb_str_new(mrb, 0, 0);
mrb_str_format(mrb, &str, "%S", obj, base);

return str;