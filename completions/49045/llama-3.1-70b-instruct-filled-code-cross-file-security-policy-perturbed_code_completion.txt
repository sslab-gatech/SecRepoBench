mrb_value str;
mrb_int base = 10;
mrb_get_args(mrb, "i|i", &obj, &base);

if (base < 2 || base > 36) {
  mrb_raise(mrb, E_ARGUMENT_ERROR, "invalid base");
}

str = mrb_str_new(mrb, 0, 0);
mrb_str_concat(mrb, str, mrb_fixnum_value(obj));
mrb_str_to_inum(mrb, str, base, NULL);

return str;