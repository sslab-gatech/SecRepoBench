mrb_int base;
mrb_value str;

mrb_get_args(state, "i|o", &base, &str);

if (mrb_nil_p(str)) {
  str = mrb_str_new(state, 0, 0);
}

if (base < 2 || base > 36) {
  mrb_raise(state, E_ARGUMENT_ERROR, "invalid radix %d", base);
}

mrb_str_resize(state, str, 0);
mrb_int_to_s(state, str, self, base, 0);

return str;