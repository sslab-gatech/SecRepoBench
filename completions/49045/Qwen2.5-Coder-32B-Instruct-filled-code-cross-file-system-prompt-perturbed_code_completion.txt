mrb_int num, base = 10;
mrb_get_args(mrb, "|i", &base);
num = mrb_integer(obj);
char buf[32];
mrb_int len = snprintf(buf, sizeof(buf), "%" PRId64, num);
if (base != 10) {
  len = snprintf(buf, sizeof(buf), "%" PRId64, num);
  // Additional logic to handle different bases would go here
}
return mrb_str_new(mrb, buf, len);