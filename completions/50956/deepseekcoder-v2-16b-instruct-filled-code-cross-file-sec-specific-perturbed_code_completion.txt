// Multiply the matrices to combine them into a single result matrix.
_cmsMAT3per(&res, (cmsMAT3*)Data2->Double, (cmsMAT3*)Data1->Double);

// Determine if the resulting matrix is an identity matrix and whether the offset is null.
if (_cmsMAT3isIdentity(&res) && Data2->Offset == NULL) {
    isIdentityMatrix = TRUE;
}

// Set the appropriate flags to indicate if the matrix can be optimized away due to being an identity matrix.
if (isIdentityMatrix) {
    *dwFlags |= cmsFLAGS_MATRIX_IS_IDENTITY;
} else {
    *dwFlags &= ~cmsFLAGS_MATRIX_IS_IDENTITY;
}