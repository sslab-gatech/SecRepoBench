if (*expression == '(')
  {
    register char
      *q;

    /*
      Check if the expression starts with a parenthesis '('.
      If it does, increase the recursion depth counter.
      Throw an exception if the recursion depth exceeds the maximum allowed depth.
      Copy the expression without the outer parentheses to a subexpression string.
      Evaluate the subexpression recursively by calling FxEvaluateSubexpression.
      Decrease the recursion depth counter after evaluation.
      Return the result of the evaluated subexpression.
    */
    (*recursion_depth)++;
    if (*recursion_depth > FxMaxParenthesisDepth)
      {
        (void) ThrowMagickException(exception,GetMagickModule(),OptionError,
          "UnableToParseExpression","`%s'",expression);
        FxResult(0.0);
      }
    q=subexpression;
    (void) CopyMagickString(subexpression,expression+1,MagickPathExtent);
    subexpression[strlen(subexpression)-1]='\0';
    gamma=FxEvaluateSubexpression(fx_info,channel,x,y,subexpression,recursion_depth,
      beta,exception);
    (*recursion_depth)--;
    FxResult(gamma);
  }