mrb_define_method(mrbstateptr, io, "sysseek",      io_sysseek,      MRB_ARGS_REQ(2));
  mrb_define_method(mrbstateptr, io, "seek",         io_seek,         MRB_ARGS_ARG(1,1));
  mrb_define_method(mrbstateptr, io, "tell",         io_tell,         MRB_ARGS_NONE());
  mrb_define_method(mrbstateptr, io, "rewind",       io_rewind,       MRB_ARGS_NONE());
  mrb_define_method(mrbstateptr, io, "flush",        io_flush,        MRB_ARGS_NONE());
  mrb_define_method(mrbstateptr, io, "fsync",        io_fsync,        MRB_ARGS_NONE());
  mrb_define_method(mrbstateptr, io, "fdatasync",    io_fdatasync,    MRB_ARGS_NONE());
  mrb_define_method(mrbstateptr, io, "truncate",     io_truncate,     MRB_ARGS_REQ(1));
  mrb_define_method(mrbstateptr, io, "close",        io_close,        MRB_ARGS_NONE());    /* 15.2.20.5.7  */
  mrb_define_method(mrbstateptr, io, "closed?",      io_is_closed,    MRB_ARGS_NONE());
  mrb_define_method(mrbstateptr, io, "isatty",       io_isatty,       MRB_ARGS_NONE());
  mrb_define_method(mrbstateptr, io, "tty?",         io_isatty,       MRB_ARGS_NONE());
  mrb_define_method(mrbstateptr, io, "sync",         io_sync,         MRB_ARGS_NONE());
  mrb_define_method(mrbstateptr, io, "sync=",        io_set_sync,     MRB_ARGS_REQ(1));
  mrb_define_method(mrbstateptr, io, "each_byte",    io_each_byte,    MRB_ARGS_NONE());
  mrb_define_method(mrbstateptr, io, "each_line",  io_each_line,    MRB_ARGS_OPT(1));
  mrb_define_method(mrbstateptr, io, "readlines",    io_readlines,    MRB_ARGS_OPT(1));
  mrb_define_method(mrbstateptr, io, "printf",       io_printf,       MRB_ARGS_ANY());
  mrb_define_method(mrbstateptr, io, "print",        io_print,        MRB_ARGS_ANY());
  mrb_define_method(mrbstateptr, io, "putc",         io_putc,         MRB_ARGS_REQ(1));
  mrb_define_method(mrbstateptr, io, "puts",         io_puts,         MRB_ARGS_ANY());
  mrb_define_method(mrbstateptr, io, "read",         io_read,         MRB_ARGS_OPT(1));     /* 15.2.20.5.16 */
  mrb_define_method(mrbstateptr, io, "readpartial",  io_readpartial,  MRB_ARGS_REQ(1));
  mrb_define_method(mrbstateptr, io, "readline",     io_readline,     MRB_ARGS_OPT(1));
  mrb_define_method(mrbstateptr, io, "gets",         io_readline,     MRB_ARGS_OPT(1));
  mrb_define_method(mrbstateptr, io, "ungetc",       io_ungetc,       MRB_ARGS_REQ(1));
  mrb_define_method(mrbstateptr, io, "write_nonblock", io_write_nonblock, MRB_ARGS_ARG(1,1));
  mrb_define_method(mrbstateptr, io, "read_nonblock",  io_read_nonblock,  MRB_ARGS_ARG(1,1));
  mrb_define_method(mrbstateptr, io, "<<",           io_print,        MRB_ARGS_ANY());
  mrb_define_method(mrbstateptr, io, "eof",          io_eof,          MRB_ARGS_NONE());
  mrb_define_method(mrbstateptr, io, "eof?",         io_eof,          MRB_ARGS_NONE());
  mrb_define_method(mrbstateptr, io, "binmode",      io_binmode,      MRB_ARGS_NONE());
  mrb_define_method(mrbstateptr, io, "reopen",       io_reopen,       MRB_ARGS_ARG(1,2));
  mrb_define_method(mrbstateptr, io, "copy_stream",  io_copy_stream,  MRB_ARGS_REQ(1));
  mrb_define_method(mrbstateptr, io, "each",         io_each_line,    MRB_ARGS_OPT(1));
  mrb_define_method(mrbstateptr, io, "fileno",     io_fileno,     MRB_ARGS_NONE());
  mrb_define_method(mrbstateptr, io, "to_i",         io_fileno,     MRB_ARGS_NONE());
  mrb_define_method(mrbstateptr, io, "stat",         io_stat,         MRB_ARGS_NONE());
  mrb_define_method(mrbstateptr, io, "fcntl",        io_fcntl,        MRB_ARGS_ARG(1,2));
  mrb_define_method(mrbstateptr, io, "internal_encoding", io_internal_encoding, MRB_ARGS_NONE());
  mrb_define_method(mrbstateptr, io, "external_encoding", io_external_encoding, MRB_ARGS_NONE());