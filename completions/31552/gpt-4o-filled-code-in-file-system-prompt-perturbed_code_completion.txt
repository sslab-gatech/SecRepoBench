// Increment the total compressed bytes counter by 1 for the token
      ctbytes += 1;

      // Check if the token indicates a run of non-zero bytes
      if (token & 0x1) {
        // If so, validate that the run length does not exceed a specific limit
        if (ntbytes + neblock > destsize) {
          return 0;  // Non-compressible data
        }
        // Use the token to determine the byte value for the run and fill the destination buffer with it
        memset(comp_buffer, -cbytes, (unsigned int)neblock);
        // Set decompressed bytes to the number of elements in the block
        nbytes = neblock;
        // Ensure the compressed bytes for this stream is zeroed, as it is fully encoded in the token
        cbytes = 0;
      } else {
        // A run of 0's
        memset(comp_buffer, 0, (unsigned int)neblock);
        nbytes = neblock;
      }