// <MASK>
if (runlen_type == BLOSC2_VALUE_RUNLEN) {
  // All repeated values
  rc = set_values(header, src, dest, destsize);
}
else if (runlen_type == BLOSC2_NAN_RUNLEN) {
  rc = set_nans(header, src, dest, destsize);
}
else if (runlen_type == BLOSC2_ZERO_RUNLEN) {
  memset(dest, 0, destsize);
  rc = header->nbytes;
}
else {
  // The token is a run of non-zero bytes
  // Get the value of the token
  uint8_t token = src[0];
  src += 1;
  // Increment the total compressed bytes counter by 1 for the token
  cbytes += 1;
  // Set decompressed bytes to the number of elements in the block
  nbytes = neblock;
  // Ensure the compressed bytes for this stream is zeroed, as it is fully encoded in the token
  memset((char*)comp_buffer + cbytes, 0, (unsigned int)(neblock - cbytes));
}
// </MASK>