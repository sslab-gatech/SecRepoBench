if (token == 0) {
        // Token indicates a run of zeros
        memset(comp_buffer, 0, (unsigned int)neblock);
        nbytes = neblock;
      }
      else {
        // Token indicates a run of a specific byte value
        uint8_t run_value = token;
        memset(comp_buffer, run_value, (unsigned int)neblock);
        nbytes = neblock;
      }
      cbytes = 0;  // The compressed bytes for this stream is zeroed