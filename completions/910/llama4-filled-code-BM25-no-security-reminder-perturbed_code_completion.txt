// Seek to the tag's location in the IO handler.
if (!io->Seek(io, Offset)) goto Error;

// Check if the tag is supported.
TagDescriptor = _cmsGetTagDescriptor(Icc->ContextID, tagSignature);
if (TagDescriptor == NULL) goto Error;

BaseType = Icc->TagTypeHandlers[n]->Signature;
if (!IsTypeSupported(TagDescriptor, BaseType)) goto Error;

// If the type is unsupported, exit.
if (Icc->TagSaveAsRaw[n]) goto Error;  // We don't support read raw tags as cooked

// Change the tag size to account for the tag's base type header.
TagSize += _cmsGetTypeBaseSize(BaseType);