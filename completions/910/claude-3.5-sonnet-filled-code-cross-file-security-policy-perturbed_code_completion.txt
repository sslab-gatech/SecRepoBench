if (!io->Seek(io, Offset)) goto Error;

TagDescriptor = _cmsGetTagDescriptor(Icc->ContextID, tagSignature);
if (TagDescriptor == NULL) goto Error;

if (TagSize < 8) goto Error;  // Ensure TagSize is at least 8 bytes

if (!_cmsReadTypeBase(io, &BaseType)) goto Error;

if (!IsTypeSupported(TagDescriptor, BaseType)) goto Error;

TagSize -= 8;  // Subtract the tag's base type header size