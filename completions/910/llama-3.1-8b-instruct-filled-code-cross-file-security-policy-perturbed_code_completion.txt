// Seek to the tag's location in the IO handler.
// Check if the tag is supported.
// If the type is unsupported, exit. 
// Change the tag size to account for the tag's base type header.
if (TagSize < 8) {
    cmsSignalError(Icc->ContextID, cmsERROR_RANGE, "Tag size is too small (%d)", TagSize);
    goto Error;
}

// Check if the tag is supported
if (!IsTypeSupported(TagDescriptor, BaseType)) goto Error;

// Change the tag size to account for the tag's base type header
TagSize += cmsGetTagBaseSize(BaseType);