// Seek to begin of tag
if (!io -> Seek(io, Offset)) goto Error;

// Read tag type signature
if (!_cmsReadTypeBase(io, &BaseType)) goto Error;

// Check profile version and tag type
TagDescriptor = _cmsGetTagDescriptor(Icc->ContextID, tagSignature);
if (TagDescriptor == NULL) goto Error;

// Check if the type is supported by this tag
if (!IsTypeSupported(TagDescriptor, BaseType)) goto Error;

// Subtract the size of the tag type header from the tag size
TagSize -= 2 * sizeof(cmsTagTypeSignature);