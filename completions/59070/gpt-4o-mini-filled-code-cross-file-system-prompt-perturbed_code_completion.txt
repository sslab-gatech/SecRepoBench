len = strnlen((const char*)curin, 128);
if (len == 128) return EXR_ERR_CORRUPT_CHUNK; // Ensure the string is null-terminated

mem = alloc_fn(len + 1); // Allocate memory for the string plus null terminator
if (!mem) return EXR_ERR_ALLOC_FAILED; // Check for allocation failure

memcpy(mem, curin, len); // Copy the string into the allocated memory
mem[len] = '\0'; // Null-terminate the string

out->_suffix = mem; // Store the pointer in the output structure
out->_isDynamicSuffix = DWA_CLASSIFIER_TRUE; // Mark as dynamically allocated