len = 0;
while (len < 128 && curin[len] != '\0')
    len++;
if (len == 128)
    return EXR_ERR_CORRUPT_CHUNK;
len++; // Include null terminator in length
memcpy(suffix, curin, len);
mem = (char*)alloc_fn(len);
if (!mem)
    return EXR_ERR_OUT_OF_MEMORY;
memcpy(mem, suffix, len);
out->_suffix = mem;
out->_suffix_allocated = 1;