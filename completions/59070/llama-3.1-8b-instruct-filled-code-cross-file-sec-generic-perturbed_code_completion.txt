// Allocate memory using the provided allocation function to store the string, including its null terminator.
// Copy the string into the newly allocated memory and store the pointer in the output structure.
// Mark the string in the output structure as dynamically allocated.
mem = (char*) alloc_fn (128 + 1);
memcpy (mem, suffix, 128);
mem[128] = '\0'; // null terminate the string
out->_suffix = mem;
out->_suffix_is_dynamic = true;