mem = alloc_fn (suffix_size + 1);
strncpy ((char*) mem, (const char*) curin, suffix_size);
((char*) mem)[suffix_size] = '\0';
out->_suffix = (char*) mem;
out->_suffix_allocated = true;