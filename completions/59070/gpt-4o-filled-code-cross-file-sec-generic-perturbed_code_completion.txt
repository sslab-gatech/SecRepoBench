// Find the suffix in the channel name
    const char* suffix_start = Classifier_find_suffix((const char*)curin);
    len = strlen(suffix_start);

    // Check if the length of the suffix is within the allowed limit
    if (len > 128) return EXR_ERR_CORRUPT_CHUNK;

    // Copy the suffix into the local buffer
    strncpy(suffix, suffix_start, len);
    suffix[len] = '\0'; // Ensure null-termination

    // Allocate memory for the suffix using the provided allocation function
    mem = (char*)alloc_fn(len + 1);
    if (!mem) return EXR_ERR_OUT_OF_MEMORY;

    // Copy the suffix into the allocated memory
    strcpy(mem, suffix);

    // Store the pointer in the output structure and mark it as dynamically allocated
    out->_suffix = mem;
    out->_suffixAllocated = true;