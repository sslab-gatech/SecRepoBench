// Extract a null-terminated string from the input data into a buffer, checking for maximum length.
len = strlen ((const char*) curin);
if (len >= 128) return EXR_ERR_CORRUPT_CHUNK;

// Allocate memory using the provided allocation function to store the string, including its null terminator.
mem = alloc_fn (len + 1);
if (!mem) return EXR_ERR_NO_MEMORY;

// Copy the string into the newly allocated memory and store the pointer in the output structure.
strcpy (mem, (const char*) curin);

// Mark the string in the output structure as dynamically allocated.
out->_suffix = mem;
out->_suffixAllocated = true;