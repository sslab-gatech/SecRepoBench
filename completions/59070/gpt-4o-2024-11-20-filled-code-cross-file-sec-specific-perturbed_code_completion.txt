// Ensure the input length is sufficient for the string length byte
        if (*length < 1) return EXR_ERR_CORRUPT_CHUNK;

        // Read the length of the string
        len = curin[0];
        curin += 1;
        *length -= 1;

        // Check if the length is valid and does not exceed the buffer size
        if (len > 128 || *length < len) return EXR_ERR_CORRUPT_CHUNK;

        // Copy the string into the suffix buffer and ensure null termination
        memcpy(suffix, curin, len);
        suffix[len] = '\0';

        // Allocate memory for the string using the provided allocation function
        mem = (char*)alloc_fn(len + 1);
        if (!mem) return EXR_ERR_OUT_OF_MEMORY;

        // Copy the string into the allocated memory
        memcpy(mem, suffix, len + 1);

        // Store the allocated string in the output structure
        out->_suffix = mem;
        out->_suffix_allocated = 1;

        // Advance the input pointer and reduce the remaining length
        curin += len;
        *length -= len;