// Find the suffix in the channel name
    const char* suffix_start = Classifier_find_suffix((const char*)curin);
    size_t suffix_length = strlen(suffix_start);

    // Check if the suffix length exceeds the buffer size
    if (suffix_length >= sizeof(suffix)) return EXR_ERR_CORRUPT_CHUNK;

    // Copy the suffix to the buffer
    strncpy(suffix, suffix_start, sizeof(suffix) - 1);
    suffix[sizeof(suffix) - 1] = '\0'; // Ensure null termination

    // Allocate memory for the suffix string
    mem = (char*)alloc_fn(suffix_length + 1);
    if (!mem) return EXR_ERR_OUT_OF_MEMORY;

    // Copy the suffix into the allocated memory
    strcpy(mem, suffix);

    // Store the pointer in the output structure
    out->_suffix = mem;
    out->_suffixAllocated = true;

    // Update the length to account for the suffix
    len = (suffix_start - (const char*)curin) + suffix_length + 1;