const char* str_suffix = Classifier_find_suffix((const char*) curin);
        len = strlen(str_suffix);
        if (len > 128) return EXR_ERR_CORRUPT_CHUNK;

        memcpy(suffix, str_suffix, len + 1);

        mem = (char*) alloc_fn(len + 1);
        if (!mem) return EXR_ERR_OUT_OF_MEMORY;

        memcpy(mem, suffix, len + 1);
        out->_suffix = mem;
        out->_suffix_allocated = 1;