// Extract a null-terminated string from the input data into a buffer, checking for maximum length.
// Allocate memory using the provided allocation function to store the string, including its null terminator.
// Copy the string into the newly allocated memory and store the pointer in the output structure.
// Mark the string in the output structure as dynamically allocated.
len = 0;
while (len < 128 && curin[len] != 0)
{
    len++;
}
if (len >= 128)
{
    return EXR_ERR_CORRUPT_CHUNK;
}
mem = (char*)alloc_fn(len + 1);
if (mem == NULL)
{
    return EXR_ERR_OUT_OF_MEMORY;
}
memcpy(mem, curin, len);
mem[len] = 0;
out->_suffix = mem;
out->_suffixAllocated = true;
*ptr = curin + len + 1;
*length -= len + 1;