size_t suffix_len = 0;

// Calculate the length of the string in the input data, ensuring it does not exceed the maximum allowed length.
while (suffix_len < 128 && curin[suffix_len] != '\0') {
    suffix_len++;
}
if (suffix_len == 128 && curin[suffix_len] != '\0') {
    return EXR_ERR_CORRUPT_CHUNK; // String exceeds maximum allowed length
}

// Copy the string into the local buffer, ensuring null termination.
memcpy(suffix, curin, suffix_len);
suffix[suffix_len] = '\0';

// Allocate memory for the string using the provided allocation function, including space for the null terminator.
mem = (char*) alloc_fn(suffix_len + 1);
if (!mem) {
    return EXR_ERR_OUT_OF_MEMORY;
}
memcpy(mem, suffix, suffix_len + 1);

// Store the pointer in the output structure and mark it as dynamically allocated.
out->_suffix = mem;
out->_isDynamic = true;

len = suffix_len + 1;