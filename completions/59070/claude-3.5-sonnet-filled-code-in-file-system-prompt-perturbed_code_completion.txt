len = 0;
while (len < 128 && curin[len] != '\0')
{
    suffix[len] = curin[len];
    ++len;
}
if (len == 128 || curin[len] != '\0') return EXR_ERR_CORRUPT_CHUNK;

mem = (char*)alloc_fn(len + 1);
if (!mem) return EXR_ERR_OUT_OF_MEMORY;

memcpy(mem, suffix, len + 1);
out->_suffix = mem;
out->_stringStatic = DWA_CLASSIFIER_FALSE;