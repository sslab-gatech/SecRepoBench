// Extract a null-terminated string from the input data into a buffer, checking for maximum length.
    // Allocate memory using the provided allocation function to store the string, including its null terminator.
    // Copy the string into the newly allocated memory and store the pointer in the output structure.
    // Mark the string in the output structure as dynamically allocated.
    mem = EXR_CONST_CAST (char*, alloc_fn (128 + 1));
    if (!mem) return EXR_ERR_OUT_OF_MEMORY;
    len = strnlen ((const char*) curin, 128);
    if (len > 128) return EXR_ERR_CORRUPT_CHUNK;
    memcpy (mem, curin, len + 1);
    out->_suffix = mem;
    out->_stringStatic = DWA_CLASSIFIER_FALSE;