if (cur_gid == prev_gid + 1 && cur_klass == prev_klass)
      {
        range_rec.last = cur_gid;
      }
      else
      {
        range_rec.last = prev_gid;
        auto *record = c->copy (range_rec);
        if (unlikely (!record)) return_trace (false);
        rangeRecord.push (record);
        range_rec.first = cur_gid;
        range_rec.value = cur_klass;
      }
      prev_gid = cur_gid;
      prev_klass = cur_klass;
    }

    range_rec.last = prev_gid;
    auto *record = c->copy (range_rec);
    if (unlikely (!record)) return_trace (false);
    rangeRecord.push (record);

    rangeRecord.sort ();
    return_trace (true);