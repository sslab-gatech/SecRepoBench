size_t max_out_size = input_size * 1.1 + 12; // 10% overhead plus 8 bytes for CRC32
    void *out_buf = flb_malloc(max_out_size);