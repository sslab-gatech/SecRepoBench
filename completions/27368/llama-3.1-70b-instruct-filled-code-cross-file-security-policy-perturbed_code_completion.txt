// Declare necessary variables
int status;
uint8_t *pb;
uint32_t crc;
size_t footer_start;
size_t out_size = compressBound(input_size);
uint8_t *out_buf = flb_malloc(out_size);
z_stream strm;

// Allocate memory for the output buffer based on the calculated maximum size
if (!out_buf) {
    flb_errno();
    flb_error("[gzip] could not allocate outgoing buffer");
    return -1;
}