int status;
    size_t out_size;
    uint8_t *out_buf;

    // Calculate the maximum size for the output buffer
    out_size = compressBound(input_size) + FLB_GZIP_HEADER_OFFSET + 8;

    // Allocate memory for the output buffer
    out_buf = flb_malloc(out_size);