int status;
    unsigned long crc;
    uint8_t *pb;
    size_t out_size;
    void *out_buf;
    mz_stream strm;
    size_t footer_start;

    out_size = input_size * 2 + FLB_GZIP_HEADER_OFFSET + 8;
    out_buf = flb_malloc(out_size);