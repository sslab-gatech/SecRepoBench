int status;
size_t footer_start;
uint8_t *pb;
size_t out_size;
void *out_buf;
z_stream strm;
uint32_t crc;

// Determine the maximum required size for the output buffer to store the compressed data.
// This calculation accounts for the potential worst-case size expansion due to compression.
out_size = input_size + (input_size / 100) + 16;

// Allocate memory for the output buffer based on the calculated maximum size.
out_buf = flb_malloc(out_size);