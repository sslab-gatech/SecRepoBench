static void TIFFGetProperties(TIFF *tiff,Image *img,ExceptionInfo *exception)
{
  char
    message[MagickPathExtent],
    *text;

  uint32
    count,
    length,
    type;

  // Retrieve artist tag
  if (TIFFGetField(tiff,TIFFTAG_ARTIST,&text) == 1)
    if (text != (char *) NULL)
      (void) SetImageProperty(img,"tiff:artist",text,exception);

  // Retrieve copyright tag
  if (TIFFGetField(tiff,TIFFTAG_COPYRIGHT,&text) == 1)
    if (text != (char *) NULL)
      (void) SetImageProperty(img,"tiff:copyright",text,exception);

  // Retrieve document name tag
  if (TIFFGetField(tiff,TIFFTAG_DOCUMENTNAME,&text) == 1)
    if (text != (char *) NULL)
      (void) SetImageProperty(img,"tiff:document-name",text,exception);

  // Retrieve image description tag
  if (TIFFGetField(tiff,TIFFTAG_IMAGEDESCRIPTION,&text) == 1)
    if (text != (char *) NULL)
      (void) SetImageProperty(img,"tiff:image-description",text,exception);

  // Retrieve host computer tag
  if (TIFFGetField(tiff,TIFFTAG_HOSTCOMPUTER,&text) == 1)
    if (text != (char *) NULL)
      (void) SetImageProperty(img,"tiff:host-computer",text,exception);

  // Retrieve make tag
  if (TIFFGetField(tiff,TIFFTAG_MAKE,&text) == 1)
    if (text != (char *) NULL)
      (void) SetImageProperty(img,"tiff:make",text,exception);

  // Retrieve model tag
  if (TIFFGetField(tiff,TIFFTAG_MODEL,&text) == 1)
    if (text != (char *) NULL)
      (void) SetImageProperty(img,"tiff:model",text,exception);

  // Retrieve software tag
  if (TIFFGetField(tiff,TIFFTAG_SOFTWARE,&text) == 1)
    if (text != (char *) NULL)
      (void) SetImageProperty(img,"tiff:software",text,exception);

  // Retrieve page name tag
  if (TIFFGetField(tiff,TIFFTAG_PAGENAME,&text) == 1)
    if (text != (char *) NULL)
      (void) SetImageProperty(img,"tiff:page-name",text,exception);

  // Retrieve date time tag
  if (TIFFGetField(tiff,TIFFTAG_DATETIME,&text) == 1)
    if (text != (char *) NULL)
      (void) SetImageProperty(img,"tiff:timestamp",text,exception);

  // Special handling for OPIIMAGEID tag
  if ((TIFFGetField(tiff,TIFFTAG_OPIIMAGEID,&count,&text) == 1) &&
      ((count >= 1) && (text != (char *) NULL)))
    {
      char
        id[MagickPathExtent];

      (void) CopyMagickString(id,text,MagickMin(count,MagickPathExtent));
      (void) SetImageProperty(img,"tiff:image-id",id,exception);
    }

  // Retrieve subfiletype tag
  if (TIFFGetField(tiff,TIFFTAG_SUBFILETYPE,&type) == 1)
    {
      if (type & FILETYPE_REDUCEDIMAGE)
        (void) SetImageProperty(img,"tiff:subfiletype","REDUCEDIMAGE",exception);
      else if (type & FILETYPE_PAGE)
        (void) SetImageProperty(img,"tiff:subfiletype","PAGE",exception);
      else if (type & FILETYPE_MASK)
        (void) SetImageProperty(img,"tiff:subfiletype","MASK",exception);
    }
}