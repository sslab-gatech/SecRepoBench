if (TIFFGetField(tiff, TIFFTAG_IMAGEDESCRIPTION, &text) == 1 && text != (char *) NULL)
  SetImageProperty(img, "tiff:imagedescription", text, exception);
if (TIFFGetField(tiff, TIFFTAG_ARTIST, &text) == 1 && text != (char *) NULL)
  SetImageProperty(img, "tiff:artist", text, exception);
if (TIFFGetField(tiff, TIFFTAG_DATETIME, &text) == 1 && text != (char *) NULL)
  SetImageProperty(img, "tiff:timestamp", text, exception);
if (TIFFGetField(tiff, TIFFTAG_MAKE, &text) == 1 && text != (char *) NULL)
  SetImageProperty(img, "tiff:make", text, exception);
if (TIFFGetField(tiff, TIFFTAG_MODEL, &text) == 1 && text != (char *) NULL)
  SetImageProperty(img, "tiff:model", text, exception);
if (TIFFGetField(tiff, TIFFTAG_SOFTWARE, &text) == 1 && text != (char *) NULL)
  SetImageProperty(img, "tiff:software", text, exception);
if (TIFFGetField(tiff, TIFFTAG_COPYRIGHT, &text) == 1 && text != (char *) NULL)
  SetImageProperty(img, "tiff:copyright", text, exception);
if (TIFFGetField(tiff, TIFFTAG_DOCUMENTNAME, &text) == 1 && text != (char *) NULL)
  SetImageProperty(img, "tiff:document", text, exception);
if (TIFFGetField(tiff, TIFFTAG_HOSTCOMPUTER, &text) == 1 && text != (char *) NULL)
  SetImageProperty(img, "tiff:hostcomputer", text, exception);

/* Special handling for OPIIMAGEID if available */
#ifdef TIFFTAG_OPIIMAGEID
  if (TIFFGetField(tiff, TIFFTAG_OPIIMAGEID, &count, &text) == 1 && text != (char *) NULL)
  {
    length = (uint32) strlen(text);
    if (length < MagickPathExtent)
      (void) CopyMagickString(message, text, MagickPathExtent);
    else
      (void) CopyMagickString(message, text, MagickPathExtent-1);
    SetImageProperty(img, "tiff:OPIImageID", message, exception);
  }
#endif

/* Retrieve and set the subfiletype property */
{
  uint32 subfiletype;
  if (TIFFGetField(tiff, TIFFTAG_SUBFILETYPE, &subfiletype) == 1)
  {
    if (subfiletype == FILETYPE_REDUCEDIMAGE)
      SetImageProperty(img, "tiff:subfiletype", "REDUCEDIMAGE", exception);
    else if (subfiletype == FILETYPE_PAGE)
      SetImageProperty(img, "tiff:subfiletype", "PAGE", exception);
    else if (subfiletype == FILETYPE_MASK)
      SetImageProperty(img, "tiff:subfiletype", "MASK", exception);
  }
}