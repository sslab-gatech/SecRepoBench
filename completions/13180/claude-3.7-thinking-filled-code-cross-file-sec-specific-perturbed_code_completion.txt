text=(char *) NULL;
if (TIFFGetField(tiff,TIFFTAG_ARTIST,&text) != 0)
  if (text != (char *) NULL)
    (void) SetImageProperty(img,"tiff:Artist",text,exception);
if (TIFFGetField(tiff,TIFFTAG_COPYRIGHT,&text) != 0)
  if (text != (char *) NULL)
    (void) SetImageProperty(img,"tiff:Copyright",text,exception);
if (TIFFGetField(tiff,TIFFTAG_DOCUMENTNAME,&text) != 0)
  if (text != (char *) NULL)
    (void) SetImageProperty(img,"tiff:DocumentName",text,exception);
if (TIFFGetField(tiff,TIFFTAG_IMAGEDESCRIPTION,&text) != 0)
  if (text != (char *) NULL)
    (void) SetImageProperty(img,"tiff:ImageDescription",text,exception);
if (TIFFGetField(tiff,TIFFTAG_MAKE,&text) != 0)
  if (text != (char *) NULL)
    (void) SetImageProperty(img,"tiff:Make",text,exception);
if (TIFFGetField(tiff,TIFFTAG_MODEL,&text) != 0)
  if (text != (char *) NULL)
    (void) SetImageProperty(img,"tiff:Model",text,exception);
if (TIFFGetField(tiff,TIFFTAG_PAGENAME,&text) != 0)
  if (text != (char *) NULL)
    (void) SetImageProperty(img,"tiff:PageName",text,exception);
if (TIFFGetField(tiff,TIFFTAG_SOFTWARE,&text) != 0)
  if (text != (char *) NULL)
    (void) SetImageProperty(img,"tiff:Software",text,exception);
if (TIFFGetField(tiff,TIFFTAG_HOSTCOMPUTER,&text) != 0)
  if (text != (char *) NULL)
    (void) SetImageProperty(img,"tiff:HostComputer",text,exception);
if (TIFFGetField(tiff,TIFFTAG_DATETIME,&text) != 0)
  if (text != (char *) NULL)
    (void) SetImageProperty(img,"tiff:DateTime",text,exception);

if (TIFFGetField(tiff,33423,&text) != 0)
  if (text != (char *) NULL)
    (void) SetImageProperty(img,"kodak-33423",text,exception);
if (TIFFGetField(tiff,36867,&text) != 0)
  if (text != (char *) NULL)
    (void) SetImageProperty(img,"kodak-36867",text,exception);

/* Handle OPIIMAGEID safely */
if (TIFFGetField(tiff,TIFFTAG_OPIIMAGEID,&count,&text) != 0)
{
  if ((text != (char *) NULL) && (count < MagickPathExtent))
  {
    size_t safe_count = MagickMin(count, MagickPathExtent-1);
    (void) memcpy(message, text, safe_count);
    message[safe_count] = '\0'; /* Ensure null-termination */
    (void) SetImageProperty(img,"tiff:OPIImageID",message,exception);
  }
}

/* Handle subfiletype tag */
uint16 subfiletype;
if (TIFFGetField(tiff,TIFFTAG_SUBFILETYPE,&subfiletype) != 0)
{
  if ((subfiletype & FILETYPE_REDUCEDIMAGE) != 0)
    (void) SetImageProperty(img,"tiff:subfiletype","REDUCEDIMAGE",exception);
  else if ((subfiletype & FILETYPE_PAGE) != 0)
    (void) SetImageProperty(img,"tiff:subfiletype","PAGE",exception);
  else if ((subfiletype & FILETYPE_MASK) != 0)
    (void) SetImageProperty(img,"tiff:subfiletype","MASK",exception);
}