char
  *ascii;

uint16
  subfiletype;

/*
  Get TIFF text-based properties.
*/
if ((TIFFGetField(tiff,TIFFTAG_ARTIST,&ascii) == 1) && (ascii != (char *) NULL))
  (void) SetImageProperty(img,"tiff:artist",ascii,exception);
if ((TIFFGetField(tiff,TIFFTAG_COPYRIGHT,&ascii) == 1) && (ascii != (char *) NULL))
  (void) SetImageProperty(img,"tiff:copyright",ascii,exception);
if ((TIFFGetField(tiff,TIFFTAG_DOCUMENTNAME,&ascii) == 1) && (ascii != (char *) NULL))
  (void) SetImageProperty(img,"tiff:document",ascii,exception);
if ((TIFFGetField(tiff,TIFFTAG_HOSTCOMPUTER,&ascii) == 1) && (ascii != (char *) NULL))
  (void) SetImageProperty(img,"tiff:hostcomputer",ascii,exception);
if ((TIFFGetField(tiff,TIFFTAG_IMAGEDESCRIPTION,&ascii) == 1) && (ascii != (char *) NULL))
  (void) SetImageProperty(img,"comment",ascii,exception);
if ((TIFFGetField(tiff,TIFFTAG_DATETIME,&ascii) == 1) && (ascii != (char *) NULL))
  (void) SetImageProperty(img,"tiff:timestamp",ascii,exception);
if ((TIFFGetField(tiff,TIFFTAG_MAKE,&ascii) == 1) && (ascii != (char *) NULL))
  (void) SetImageProperty(img,"tiff:make",ascii,exception);
if ((TIFFGetField(tiff,TIFFTAG_MODEL,&ascii) == 1) && (ascii != (char *) NULL))
  (void) SetImageProperty(img,"tiff:model",ascii,exception);
if ((TIFFGetField(tiff,TIFFTAG_SOFTWARE,&ascii) == 1) && (ascii != (char *) NULL))
  (void) SetImageProperty(img,"tiff:software",ascii,exception);
if ((TIFFGetField(tiff,TIFFTAG_PAGENAME,&ascii) == 1) && (ascii != (char *) NULL))
  (void) SetImageProperty(img,"label",ascii,exception);

/*
  Get TIFF OPIIMAGEID property.
*/
if ((TIFFGetField(tiff,33423,&count,&text) == 1) && (count <= MagickPathExtent) && 
    (text != (char *) NULL))
  {
    text[count-1]='\0';
    (void) SetImageProperty(img,"kodak-33423",text,exception);
  }

/*
  Get TIFF OPIPROXY property.
*/
if ((TIFFGetField(tiff,36867,&count,&text) == 1) && (count <= MagickPathExtent) && 
    (text != (char *) NULL))
  {
    text[count-1]='\0';
    (void) SetImageProperty(img,"kodak-36867",text,exception);
  }

/*
  Get TIFF subfiletype property.
*/
if (TIFFGetField(tiff,TIFFTAG_SUBFILETYPE,&subfiletype) == 1)
  {
    if (subfiletype & FILETYPE_REDUCEDIMAGE)
      (void) SetImageProperty(img,"tiff:subfiletype","REDUCEDIMAGE",exception);
    else if (subfiletype & FILETYPE_PAGE)
      (void) SetImageProperty(img,"tiff:subfiletype","PAGE",exception);
    else if (subfiletype & FILETYPE_MASK)
      (void) SetImageProperty(img,"tiff:subfiletype","MASK",exception);
  }

uint32
  page,
  pages;

/*
  Get TIFF page property.
*/
if (TIFFGetField(tiff,TIFFTAG_PAGENUMBER,&page,&pages) == 1)
  {
    (void) FormatLocaleString(message,MagickPathExtent,"%u",page);
    (void) SetImageProperty(img,"tiff:page",message,exception);
    (void) FormatLocaleString(message,MagickPathExtent,"%u",pages);
    (void) SetImageProperty(img,"tiff:pages",message,exception);
  }