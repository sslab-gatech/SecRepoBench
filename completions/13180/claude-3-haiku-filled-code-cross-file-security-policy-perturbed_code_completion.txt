// <MASK>
char
  message[MagickPathExtent];

uint32
  count,
  length,
  type;

// Retrieve and set image properties from TIFF tags.
TIFFGetField(tiff, TIFFTAG_ARTIST, &text);
if (text != NULL)
  SetImageProperty(img, "tiff:artist", text, exception);

TIFFGetField(tiff, TIFFTAG_COPYRIGHT, &text);
if (text != NULL)
  SetImageProperty(img, "tiff:copyright", text, exception);

TIFFGetField(tiff, TIFFTAG_DOCUMENTNAME, &text);
if (text != NULL)
  SetImageProperty(img, "tiff:document", text, exception);

TIFFGetField(tiff, TIFFTAG_HOSTCOMPUTER, &text);
if (text != NULL)
  SetImageProperty(img, "tiff:hostcomputer", text, exception);

TIFFGetField(tiff, TIFFTAG_IMAGEDESCRIPTION, &text);
if (text != NULL)
  SetImageProperty(img, "comment", text, exception);

TIFFGetField(tiff, TIFFTAG_MAKE, &text);
if (text != NULL)
  SetImageProperty(img, "tiff:make", text, exception);

TIFFGetField(tiff, TIFFTAG_MODEL, &text);
if (text != NULL)
  SetImageProperty(img, "tiff:model", text, exception);

TIFFGetField(tiff, TIFFTAG_PAGENAME, &text);
if (text != NULL)
  SetImageProperty(img, "label", text, exception);

TIFFGetField(tiff, TIFFTAG_SOFTWARE, &text);
if (text != NULL)
  SetImageProperty(img, "tiff:software", text, exception);

TIFFGetField(tiff, TIFFTAG_DATETIME, &text);
if (text != NULL)
  SetImageProperty(img, "tiff:timestamp", text, exception);

TIFFGetField(tiff, TIFFTAG_OPIIMAGEID, &count, &text);
if (text != NULL)
{
  snprintf(message, MagickPathExtent, "%lu: %s", (unsigned long) count, text);
  SetImageProperty(img, "tiff:opiimageid", message, exception);
}

TIFFGetFieldDefaulted(tiff, TIFFTAG_SUBFILETYPE, &type);
if (type == FILETYPE_REDUCEDIMAGE)
  SetImageProperty(img, "tiff:subfiletype", "REDUCEDIMAGE", exception);
else if (type == FILETYPE_PAGE)
  SetImageProperty(img, "tiff:subfiletype", "PAGE", exception);
else if (type == FILETYPE_MASK)
  SetImageProperty(img, "tiff:subfiletype", "MASK", exception);