// Retrieve and set image properties from TIFF tags.
// This block of code attempts to extract various metadata fields from a TIFF image,
// such as artist, copyright, document name, and other descriptive fields.
// Each TIFF field is checked for existence and non-null value, and if so, it is
// set as an image property using the SetImageProperty function. Special handling
// is done for fields like OPIIMAGEID, with count validation and string copying.
// Additionally, it handles the subfiletype field with specific values like REDUCEDIMAGE,
// PAGE, and MASK. This code can be adapted to include new properties or handle
// additional TIFF tags as needed.

// Retrieve TIFF tags
TIFFGetField(tiff, TIFFTAG_ARTIST, &text);
if (text!= NULL)
  (void) SetImageProperty(img, "artist", text, exception);

TIFFGetField(tiff, TIFFTAG_COPYRIGHT, &text);
if (text!= NULL)
  (void) SetImageProperty(img, "copyright", text, exception);

TIFFGetField(tiff, TIFFTAG_DOCUMENTNAME, &text);
if (text!= NULL)
  (void) SetImageProperty(img, "document", text, exception);

TIFFGetField(tiff, TIFFTAG_IMAGEDESCRIPTION, &text);
if (text!= NULL)
  (void) SetImageProperty(img, "comment", text, exception);

TIFFGetField(tiff, TIFFTAG_MAKE, &text);
if (text!= NULL)
  (void) SetImageProperty(img, "make", text, exception);

TIFFGetField(tiff, TIFFTAG_MODEL, &text);
if (text!= NULL)
  (void) SetImageProperty(img, "model", text, exception);

TIFFGetField(tiff, TIFFTAG_SOFTWARE, &text);
if (text!= NULL)
  (void) SetImageProperty(img, "software", text, exception);

TIFFGetField(tiff, TIFFTAG_DATETIME, &text);
if (text!= NULL)
  (void) SetImageProperty(img, "timestamp", text, exception);

TIFFGetField(tiff, TIFFTAG_HOSTCOMPUTER, &text);
if (text!= NULL)
  (void) SetImageProperty(img, "host", text, exception);

TIFFGetField(tiff, TIFFTAG_PAGENAME, &text);
if (text!= NULL)
  (void) SetImageProperty(img, "label", text, exception);

TIFFGetField(tiff, TIFFTAG_OPIIMAGEID, &text, &count);
if ((text!= NULL) && (count > 0))
  {
    (void) FormatLocaleString(message, MagickPathExtent, "%.*s", (int) count, text);
    (void) SetImageProperty(img, "OPI:ImageId", message, exception);
  }

TIFFGetField(tiff, TIFFTAG_SUBFILETYPE, &type);
if (type == FILETYPE_REDUCEDIMAGE)
  (void) SetImageProperty(img, "tiff:subfiletype", "REDUCEDIMAGE", exception);
else if (type == FILETYPE_PAGE)
  (void) SetImageProperty(img, "tiff:subfiletype", "PAGE", exception);
else if (type == FILETYPE_MASK)
  (void) SetImageProperty(img, "tiff:subfiletype", "MASK", exception);