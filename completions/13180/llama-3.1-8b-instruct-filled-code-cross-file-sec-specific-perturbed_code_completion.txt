static void TIFFGetProperties(TIFF *tiff,Image *img,ExceptionInfo *exception)
{
  char
    message[MagickPathExtent],
    *text;

  uint32
    count,
    length,
    type;

  // Retrieve and set image properties from TIFF tags.
  // This block of code attempts to extract various metadata fields from a TIFF image,
  // such as artist, copyright, document name, and other descriptive fields.
  // Each TIFF field is checked for existence and non-null value, and if so, it is
  // set as an image property using the SetImageProperty function. Special handling
  // is done for fields like OPIIMAGEID, with count validation and string copying.
  // Additionally, it handles the subfiletype field with specific values like REDUCEDIMAGE,
  // PAGE, and MASK. This code can be adapted to include new properties or handle
  // additional TIFF tags as needed.
  // <MASK>
  value=GetImageArtifact(img,"tiff:document");
  if (value!= (const char *) NULL)
    (void) SetImageProperty(img,"document",value,exception);
  value=GetImageArtifact(img,"tiff:hostcomputer");
  if (value!= (const char *) NULL)
    (void) SetImageProperty(img,"hostcomputer",value,exception);
  value=GetImageArtifact(img,"tiff:artist");
  if (value!= (const char *) NULL)
    (void) SetImageProperty(img,"artist",value,exception);
  value=GetImageArtifact(img,"tiff:timestamp");
  if (value!= (const char *) NULL)
    (void) SetImageProperty(img,"timestamp",value,exception);
  value=GetImageArtifact(img,"tiff:make");
  if (value!= (const char *) NULL)
    (void) SetImageProperty(img,"make",value,exception);
  value=GetImageArtifact(img,"tiff:model");
  if (value!= (const char *) NULL)
    (void) SetImageProperty(img,"model",value,exception);
  value=GetImageArtifact(img,"tiff:software");
  if (value!= (const char *) NULL)
    (void) SetImageProperty(img,"software",value,exception);
  value=GetImageArtifact(img,"tiff:copyright");
  if (value!= (const char *) NULL)
    (void) SetImageProperty(img,"copyright",value,exception);
  value=GetImageArtifact(img,"kodak-33423");
  if (value!= (const char *) NULL)
    (void) SetImageProperty(img,"kodak-33423",value,exception);
  value=GetImageArtifact(img,"kodak-36867");
  if (value!= (const char *) NULL)
    (void) SetImageProperty(img,"kodak-36867",value,exception);
  value=GetImageProperty(img,"label",exception);
  if (value!= (const char *) NULL)
    (void) SetImageProperty(img,"label",value,exception);
  value=GetImageProperty(img,"comment",exception);
  if (value!= (const char *) NULL)
    (void) SetImageProperty(img,"comment",value,exception);
  value=GetImageArtifact(img,"tiff:subfiletype");
  if (value!= (const char *) NULL)
    {
      if (LocaleCompare(value,"REDUCEDIMAGE") == 0)
        (void) SetImageProperty(img,"subfiletype","REDUCEDIMAGE",exception);
      else
        if (LocaleCompare(value,"PAGE") == 0)
          (void) SetImageProperty(img,"subfiletype","PAGE",exception);
        else
          if (LocaleCompare(value,"MASK") == 0)
            (void) SetImageProperty(img,"subfiletype","MASK",exception);
    }
  else
    {
      uint16
        page,
        pages;

      page=(uint16) img->scene;
      pages=(uint16) GetImageListLength(img);
      if ((adjoin!= MagickFalse) && (pages > 1))
        (void) SetImageProperty(img,"subfiletype","PAGE",exception);
      (void) SetImageProperty(img,"pagenumber",page,pages,exception);
    }
}