// Retrieve and set image properties from TIFF tags.
  // This block of code attempts to extract various metadata fields from a TIFF image,
  // such as artist, copyright, document name, and other descriptive fields.
  // Each TIFF field is checked for existence and non-null value, and if so, it is
  // set as an image property using the SetImageProperty function. Special handling
  // is done for fields like OPIIMAGEID, with count validation and string copying.
  // Additionally, it handles the subfiletype field with specific values like REDUCEDIMAGE,
  // PAGE, and MASK. This code can be adapted to include new properties or handle
  // additional TIFF tags as needed.

  char *text;
  uint32 length;

  // Check for artist tag
  if (TIFFGetField(tiff, TIFFTAG_ARTIST, &text) == 1)
    SetImageProperty(image, "artist", text, exception);

  // Check for copyright tag
  if (TIFFGetField(tiff, TIFFTAG_COPYRIGHT, &text) == 1)
    SetImageProperty(image, "copyright", text, exception);

  // Check for document name tag
  if (TIFFGetField(tiff, TIFFTAG_DOCUMENTNAME, &text) == 1)
    SetImageProperty(image, "document-name", text, exception);

  // Check for OPIIMAGEID tag
  if (TIFFGetField(tiff, TIFFTAG_OPIIMAGEID, &text) == 1)
    SetImageProperty(image, "OPIIMAGEID", text, exception);

  // Check for subfiletype tag
  if (TIFFGetField(tiff, TIFFTAG_SUBFILETYPE, &length) == 1)
  {
    if (length == FILETYPE_REDUCEDIMAGE)
      SetImageProperty(image, "subfiletype", "REDUCEDIMAGE", exception);
    else if (length == FILETYPE_PAGE)
      SetImageProperty(image, "subfiletype", "PAGE", exception);
    else if (length == FILETYPE_MASK)
      SetImageProperty(image, "subfiletype", "MASK", exception);
  }