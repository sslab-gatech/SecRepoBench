std::string* word = const_cast<std::string*>(&in_word);
std::string* desc = const_cast<std::string*>(inputdesc);
std::string* word_copy = nullptr;
std::string* desc_copy = nullptr;

if (!ignorechars.empty() || complexprefixes) {
    word_copy = new std::string(in_word);
    if (!ignorechars.empty()) {
        remove_ignored_chars_utf(*word_copy, ignorechars);
    }
    if (complexprefixes) {
        if (utf8) {
            std::vector<w_char> u16;
            u8_u16(u16, *word_copy);
            std::reverse(u16.begin(), u16.end());
            u16_u8(*word_copy, u16);
        } else {
            std::reverse(word_copy->begin(), word_copy->end());
        }
    }
    word = word_copy;
}

if (desc && !aliasm.empty()) {
    desc_copy = new std::string(*desc);
    if (complexprefixes) {
        if (utf8) {
            std::vector<w_char> u16;
            u8_u16(u16, *desc_copy);
            std::reverse(u16.begin(), u16.end());
            u16_u8(*desc_copy, u16);
        } else {
            std::reverse(desc_copy->begin(), desc_copy->end());
        }
    }
    desc = desc_copy;
}