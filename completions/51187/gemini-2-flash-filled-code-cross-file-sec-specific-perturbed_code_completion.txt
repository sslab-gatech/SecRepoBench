std::string* word_copy = NULL;
  std::string* desc_copy = NULL;
  const std::string* word = &in_word;
  const std::string* desc = inputdesc;

  if (complexprefix || need_clean_up(in_word)) {
    word_copy = new std::string(in_word);
    if (!word_copy) {
      free_flag(aff, al);
      return 1;
    }
    std::string& wrd = *word_copy;
    if (need_clean_up(in_word)) {
      clean_up(wrd);
    }
    if (complexprefix) {
      std::reverse(wrd.begin(), wrd.end());
    }
    word = &wrd;
  }

  if (desc && aliasm.empty()) {
    desc_copy = new std::string(*desc);
    if (!desc_copy) {
      delete word_copy;
      free_flag(aff, al);
      return 1;
    }
    std::string& dsc = *desc_copy;
    if (complexprefix) {
      std::reverse(dsc.begin(), dsc.end());
    }
    desc = &dsc;
  }