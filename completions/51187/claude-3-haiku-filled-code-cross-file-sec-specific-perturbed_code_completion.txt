// <MASK>
std::string* word_copy = NULL;
std::string* desc_copy = NULL;

if (onlyupcase || TESTAFF(aff, ONLYUPCASEFLAG, al)) {
  word_copy = new std::string(*word);
  std::transform(word_copy->begin(), word_copy->end(), word_copy->begin(), ::toupper);
  word = word_copy;
  if (desc) {
    desc_copy = new std::string(*desc);
    std::transform(desc_copy->begin(), desc_copy->end(), desc_copy->begin(), ::toupper);
    desc = desc_copy;
  }
} else if (pAMgr->get_complexprefixes()) {
  word_copy = new std::string(*word);
  std::reverse(word_copy->begin(), word_copy->end());
  word = word_copy;
  if (desc && !aliasm.empty()) {
    desc_copy = new std::string(*desc);
    std::reverse(desc_copy->begin(), desc_copy->end());
    desc = desc_copy;
  }
}