// <MASK>
std::string* word_copy = NULL;
std::string* desc_copy = NULL;

if (inputdesc && (!aliasm.empty() || onlyupcase)) {
  // Create a copy of the word and description if necessary
  word_copy = new std::string(*word);
  if (!aliasm.empty() || onlyupcase) {
    desc_copy = new std::string(*inputdesc);
  }

  // Remove ignored characters if necessary
  if (onlyupcase) {
    std::string temp;
    for (char c : *word_copy) {
      if (isupper(c)) {
        temp += c;
      }
    }
    *word_copy = std::move(temp);
  }

  // Reverse the word and description if complex prefixes are enabled
  if (!aliasm.empty()) {
    std::reverse(word_copy->begin(), word_copy->end());
    if (desc_copy) {
      std::reverse(desc_copy->begin(), desc_copy->end());
    }
  }

  // Update the word and description pointers
  word = word_copy;
  if (desc_copy) {
    desc = desc_copy;
  }
}