// Initialize pointers for word and description
  const std::string* word = &in_word;
  const std::string* desc = inputdesc;

  // Create copies if necessary
  std::string* word_copy = nullptr;
  std::string* desc_copy = nullptr;

  // Check if ignored characters need to be removed or complex prefixes are enabled
  if (!ignorechars.empty() || complexprefixes) {
    word_copy = new std::string(*word);
    if (!ignorechars.empty()) {
      remove_ignored_chars(*word_copy);
    }
    if (complexprefixes) {
      reverse_word(*word_copy);
    }
    word = word_copy;
  }

  // Handle description if provided
  if (desc) {
    desc_copy = new std::string(*desc);
    if (complexprefixes) {
      reverse_word(*desc_copy);
    }
    desc = desc_copy;
  }

  // Ensure pointers are valid
  if (!word || (inputdesc && !desc)) {
    delete word_copy;
    delete desc_copy;
    free_flag(aff, al);
    return 1;
  }