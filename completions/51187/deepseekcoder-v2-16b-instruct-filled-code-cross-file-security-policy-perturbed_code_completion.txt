// If the word contains ignored characters or complex prefixes are being handled:
  //   - Create a new copy of the word and remove ignored characters if necessary.
  //   - Reverse the word if complex prefixes are enabled.
  //   - If a description is provided and aliasing is not used, create a copy and reverse it if complex prefixes are enabled.
  // Update the word and description pointers to point to the new copies.
  std::string word_copy_str;
  std::string desc_copy_str;
  if (inputdesc && !aliasm.empty()) {
    word_copy_str = *inputdesc;
    desc_copy_str = *inputdesc;
  } else if (inputdesc) {
    word_copy_str = *inputdesc;
    desc_copy_str = *inputdesc;
  } else {
    word_copy_str = in_word;
    desc_copy_str = in_word;
  }

  if (onlyupcase) {
    for (char& c : word_copy_str) {
      c = toupper(c);
    }
    for (char& c : desc_copy_str) {
      c = toupper(c);
    }
  }

  if (!aliasm.empty()) {
    std::reverse(word_copy_str.begin(), word_copy_str.end());
    std::reverse(desc_copy_str.begin(), desc_copy_str.end());
  }

  word = &word_copy_str;
  if (inputdesc) {
    inputdesc = &desc_copy_str;
  }