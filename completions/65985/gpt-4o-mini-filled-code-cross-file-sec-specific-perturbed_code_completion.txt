// Check if there are any bytes stored in the header buffer that need processing.
if (ctx->bytes_in_header > 0) {
    // Attempt to find a start code within these bytes by appending new data.
    current = mpgviddmx_next_start_code(ctx->hdr_store, ctx->bytes_in_header);
    if (current >= 0) {
        // A valid start code was found, process it accordingly.
        start = ctx->hdr_store + current;
        remain = ctx->bytes_in_header - current;
        ctx->bytes_in_header = 0; // Reset the header buffer after processing.
    } else {
        // No valid start code found, treat the stored bytes as continuation of the previous data.
        memcpy(ctx->hdr_store + ctx->bytes_in_header, start, remain);
        ctx->bytes_in_header += remain;
        return GF_OK; // Wait for more data to process.
    }
}