if (!file_path || !*file_path) {
    return FALSE;
}
/* If the path starts with the joinchar, it's a full path. */
if (*file_path == joinchar) {
    return TRUE;
}
/* On Windows, a full path can be like C:\foo or C:/foo */
if (((file_path[0] >= 'A' && file_path[0] <= 'Z') ||
     (file_path[0] >= 'a' && file_path[0] <= 'z')) &&
    file_path[1] == ':' &&
    (file_path[2] == '\\' || file_path[2] == '/')) {
    return TRUE;
}