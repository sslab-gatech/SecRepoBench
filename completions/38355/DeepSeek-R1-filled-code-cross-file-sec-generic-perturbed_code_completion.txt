if (get_type () == LookupType::Extension)
{
  unsigned int extension_type = 0;
  bool first = true;
  for (unsigned i = 0; i < subtablecount; i++)
  {
    const auto &subtable = this + get_subtable<TSubTable> (i);
    if (subtable.format != 0)
      continue;

    if (first)
    {
      extension_type = subtable.extensionLookupType;
      first = false;
    }
    else if (subtable.extensionLookupType != extension_type)
      return_trace (false);
  }
}