if (lookupType == 7) {
      unsigned int extension_type = 0;
      for (unsigned int i = 0; i < subtablecount; ++i)
      {
        unsigned int subtable_offset = subTable.arrayZ[i];
        if (subtable_offset == 0) return_trace (false);
        const OT::ExtensionLookup *ext = reinterpret_cast<const OT::ExtensionLookup*>(this + subtable_offset);
        if (!ext->sanitize(c, this)) return_trace(false);

        unsigned int current_type = (this + ext->extSubTable)->get_type ();
        if (i == 0)
        {
          extension_type = current_type;
        }
        else if (current_type != extension_type)
        {
          return_trace(false);
        }
      }
    }