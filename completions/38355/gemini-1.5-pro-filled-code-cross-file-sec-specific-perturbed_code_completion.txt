if (get_type () == ot::LookupType::Extension)
    {
      unsigned num_subtables = get_subtable_count ();
      if (num_subtables > 0)
      {
        ot::LookupSubtable *first_subtable = get_subtables<ot::LookupSubtable> ()[0];
        auto first_subtable_type = first_subtable->get_type ();

        for (unsigned i = 1; i < num_subtables; ++i)
        {
          ot::LookupSubtable *current_subtable = get_subtables<ot::LookupSubtable> ()[i];
          if (current_subtable->get_type () != first_subtable_type)
          {
            return_trace (false);
          }
        }
      }
    }