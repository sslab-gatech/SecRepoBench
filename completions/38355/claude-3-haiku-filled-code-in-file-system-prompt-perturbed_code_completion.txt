bool Lookup::sanitize (hb_sanitize_context_t *c, const void *base) const
{
  // Check if the type is an Extension and edit_count is zero.
  // If so, ensure that all subtables of the Extension lookup have the same type.
  // If any subtable has a different type, return false, indicating a failure.
  if (lookupType == HB_OT_LAYOUT_LOOKUP_TYPE_EXTENSION && get_subtable_count () == 1)
  {
    unsigned int lookup_type = get_subtable (0).get_type ();
    for (unsigned int i = 1; i < get_subtable_count (); i++)
    {
      if (get_subtable (i).get_type () != lookup_type)
        return false;
    }
  }
  return true;
}