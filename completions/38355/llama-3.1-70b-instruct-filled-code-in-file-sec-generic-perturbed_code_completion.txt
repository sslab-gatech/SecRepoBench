if (unlikely (!get_subtables<TSubTable> ().sanitize (c, this, get_type ())))
  return_trace (false);

// Check if the type is an Extension and edit_count is zero.
// If so, ensure that all subtables of the Extension lookup have the same type.
// If any subtable has a different type, return false, indicating a failure.
if (lookupType == HB_OT_LOOKUP_TYPE_EXTENSION &&
   !c->get_edit_count ())
{
  unsigned int count = get_subtable_count ();
  unsigned int subtable_type = (this+get_subtables<TSubTable> ()[0]).get_type ();
  for (unsigned int i = 1; i < count; i++)
  {
    if ((this+get_subtables<TSubTable> ()[i]).get_type ()!= subtable_type)
      return_trace (false);
  }
}