// Check if the type is an Extension and edit_count is zero.
// If so, ensure that all subtables of the Extension lookup have the same type.
// If any subtable has a different type, return false, indicating a failure.
unsigned int subtablecount = get_subtable_count ();
unsigned int type = get_type ();
if (type == HB_OT_LAYOUT_LOOKUP_TYPE_EXTENSION && subtablecount == 1)
{
  unsigned int ext_type = get_subtable<Extension> (0).lookup_type;
  for (unsigned int i = 1; i < subtablecount; i++)
  {
    if (get_subtable<Extension> (i).lookup_type != ext_type)
      return_trace (false);
  }
}