if (unlikely (!get_subtables<TSubTable> ().sanitize (c, this, get_type ())))
  return_trace (false);

// Check if the type is an Extension and edit_count is zero.
// If so, ensure that all subtables of the Extension lookup have the same type.
// If any subtable has a different type, return false, indicating a failure.
if (lookupType == HB_OT_LOOKUP_TYPE_EXTENSION && c->edit_count == 0)
{
  unsigned int count = get_subtable_count ();
  for (unsigned int i = 0; i < count; i++)
  {
    if ((this+get_subtables<TSubTable> ()[i]).get_type ()!= lookupType)
      return_trace (false);
  }
}
return_trace (true);