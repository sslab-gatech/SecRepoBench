for (; p < end && *p >= '0' && *p <= '9'; p++) {
    if (nextnumber > MRB_INT_MAX/10) {
      return NULL;
    }
    if (nextnumber == MRB_INT_MAX/10 && *p - '0' > MRB_INT_MAX%10) {
      return NULL;
    }
    nextnumber = nextnumber * 10 + (*p - '0');
  }