while (isdigit(*p)) {
  nextnumber = nextnumber * 10 + (*p - '0');
  p++;
}