while (p < end && ISDIGIT(*p)) {
    int n = *p - '0';
    if (nextnumber > (INT_MAX - n) / 10) {
      mrb_raisef(mrb, E_ARGUMENT_ERROR, "too big number: %S", mrb_str_new(mrb, p, end - p));
    }
    nextnumber = nextnumber * 10 + n;
    p++;
  }
  if (p == end) {
    mrb_raisef(mrb, E_ARGUMENT_ERROR, "malformed format string - %%*[0-9]");
  }