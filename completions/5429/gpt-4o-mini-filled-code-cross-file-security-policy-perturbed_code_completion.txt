size_t num_colors = image->colors; // Get the actual number of colors in the image
  c_mp_i = (ssize_t *) AcquireQuantumMemory(num_colors, sizeof(*c_mp_i));
  if (c_mp_i == (ssize_t *) NULL)
    {
      ThrowBinaryException(ResourceLimitError,"MemoryAllocationFailed",
        image->filename);
    }