#define CheckPathExtent(needed) \
  if (p+needed > path_p+stroke_limit) \
    { \
      stroke_limit = stroke_limit ? stroke_limit * 2 : 2 * number_vertices; \
      path_p = (PointInfo *) ResizeQuantumMemory(path_p, stroke_limit, sizeof(*path_p)); \
      if (path_p == (PointInfo *) NULL) \
        return (PrimitiveInfo *) NULL; \
    } \
  if (q+needed > path_q+stroke_limit) \
    { \
      stroke_limit = stroke_limit ? stroke_limit * 2 : 2 * number_vertices; \
      path_q = (PointInfo *) ResizeQuantumMemory(path_q, stroke_limit, sizeof(*path_q)); \
      if (path_q == (PointInfo *) NULL) \
        return (PrimitiveInfo *) NULL; \
    }