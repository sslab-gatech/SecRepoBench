#define CheckPathExtent(pad) \
  if (((p+pad) >= stroke_limit) || ((q+pad) >= stroke_limit)) \
  { \
    size_t new_size = (size_t)(stroke_limit + MaxStrokePad); \
    PointInfo *temp_path_p = (PointInfo *) ResizeQuantumMemory(path_p, \
      new_size * sizeof(*path_p)); \
    PointInfo *temp_path_q = (PointInfo *) ResizeQuantumMemory(path_q, \
      new_size * sizeof(*path_q)); \
    if (temp_path_p == (PointInfo *) NULL || temp_path_q == (PointInfo *) NULL) \
    { \
      path_p = (PointInfo *) RelinquishMagickMemory(path_p); \
      path_q = (PointInfo *) RelinquishMagickMemory(path_q); \
      polygon_primitive = (PrimitiveInfo *) RelinquishMagickMemory(polygon_primitive); \
      return((PrimitiveInfo *) NULL); \
    } \
    path_p = temp_path_p; \
    path_q = temp_path_q; \
    stroke_limit = new_size; \
  }