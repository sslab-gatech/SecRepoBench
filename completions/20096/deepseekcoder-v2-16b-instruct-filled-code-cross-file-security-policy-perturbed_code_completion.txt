#define MaxStrokePad  (6*BezierQuantum+360)

#define CheckPathExtent(extent) \
  do { \
    if ((p + extent) >= (path_p + (stroke_limit + MaxStrokePad))) { \
      size_t new_size = (stroke_limit + MaxStrokePad) * 2; \
      path_p = (PointInfo *) ReallocateQuantumMemory(path_p, new_size, sizeof(*path_p)); \
      if (path_p == (PointInfo *) NULL) { \
        path_q = (PointInfo *) RelinquishMagickMemory(path_q); \
        polygon_primitive = (PrimitiveInfo *) RelinquishMagickMemory(polygon_primitive); \
        return ((PrimitiveInfo *) NULL); \
      } \
      path_q = (PointInfo *) ReallocateQuantumMemory(path_q, new_size, sizeof(*path_q)); \
      if (path_q == (PointInfo *) NULL) { \
        path_p = (PointInfo *) RelinquishMagickMemory(path_p); \
        polygon_primitive = (PrimitiveInfo *) RelinquishMagickMemory(polygon_primitive); \
        return ((PrimitiveInfo *) NULL); \
      } \
      stroke_limit = new_size; \
    } \
  } while (0)