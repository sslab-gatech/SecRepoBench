#define CheckPathExtent(pad) \
{ \
  size_t \
    quantum; \
  \
  quantum=sizeof(*path_p); \
  if (((double) (p+pad) >= (double) GetMaxMemoryRequest()) || \
      ((double) (q+pad) >= (double) GetMaxMemoryRequest())) \
    { \
      path_p=(PointInfo *) RelinquishMagickMemory(path_p); \
      path_q=(PointInfo *) RelinquishMagickMemory(path_q); \
      (void) ThrowMagickException(mvg_info->exception,GetMagickModule(), \
        ResourceLimitError,"MemoryAllocationFailed","`%s'",""); \
      return((PrimitiveInfo *) NULL); \
    } \
  if ((double) (p+pad) > (double) stroke_limit) \
    { \
      stroke_limit+=pad+MaxStrokePad; \
      path_p=(PointInfo *) ResizeQuantumMemory(path_p,stroke_limit,quantum); \
      if (path_p == (PointInfo *) NULL) \
        { \
          path_q=(PointInfo *) RelinquishMagickMemory(path_q); \
          (void) ThrowMagickException(mvg_info->exception,GetMagickModule(), \
            ResourceLimitError,"MemoryAllocationFailed","`%s'",""); \
          return((PrimitiveInfo *) NULL); \
        } \
    } \
  if ((double) (q+pad) > (double) stroke_limit) \
    { \
      stroke_limit+=pad+MaxStrokePad; \
      path_q=(PointInfo *) ResizeQuantumMemory(path_q,stroke_limit,quantum); \
      if (path_q == (PointInfo *) NULL) \
        { \
          path_p=(PointInfo *) RelinquishMagickMemory(path_p); \
          (void) ThrowMagickException(mvg_info->exception,GetMagickModule(), \
            ResourceLimitError,"MemoryAllocationFailed","`%s'",""); \
          return((PrimitiveInfo *) NULL); \
        } \
    } \
}