#define CheckPathExtent(pad) \
  if (((p + (pad) + 1) >= stroke_limit) || ((q + (pad) + 1) >= stroke_limit)) \
  { \
    stroke_limit=(size_t) (MagickMax((p+q+2*pad+2),2*stroke_limit)); \
    path_p=(PointInfo *) ResizeQuantumMemory(path_p,stroke_limit+MaxStrokePad, \
      sizeof(*path_p)); \
    path_q=(PointInfo *) ResizeQuantumMemory(path_q,stroke_limit+MaxStrokePad, \
      sizeof(*path_q)); \
    if ((path_p == (PointInfo *) NULL) || (path_q == (PointInfo *) NULL)) \
    { \
      if (path_p != (PointInfo *) NULL) \
        path_p=(PointInfo *) RelinquishMagickMemory(path_p); \
      if (path_q != (PointInfo *) NULL) \
        path_q=(PointInfo *) RelinquishMagickMemory(path_q); \
      polygon_primitive=(PrimitiveInfo *) \
        RelinquishMagickMemory(polygon_primitive); \
      return((PrimitiveInfo *) NULL); \
    } \
  }