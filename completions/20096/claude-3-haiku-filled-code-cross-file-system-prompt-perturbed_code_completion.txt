// Define a macro to ensure sufficient memory is allocated for path arrays.
#define CheckPathExtent(pad) \
  if ((size_t) (p+pad) >= (size_t) stroke_limit) \
  { \
    size_t \
      extent = stroke_limit+2*number_vertices+MaxStrokePad; \
    path_p = (PointInfo *) ResizeQuantumMemory(path_p,extent,sizeof(*path_p)); \
    if (path_p == (PointInfo *) NULL) \
    { \
      path_q = (PointInfo *) RelinquishMagickMemory(path_q); \
      polygon_primitive = (PrimitiveInfo *) RelinquishMagickMemory(polygon_primitive); \
      return((PrimitiveInfo *) NULL); \
    } \
    path_q = (PointInfo *) ResizeQuantumMemory(path_q,extent,sizeof(*path_q)); \
    if (path_q == (PointInfo *) NULL) \
    { \
      path_p = (PointInfo *) RelinquishMagickMemory(path_p); \
      polygon_primitive = (PrimitiveInfo *) RelinquishMagickMemory(polygon_primitive); \
      return((PrimitiveInfo *) NULL); \
    } \
    stroke_limit = extent; \
  }