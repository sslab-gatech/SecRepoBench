#define CheckPathExtent(extent) \
  if ((p+extent) >= (ssize_t) (stroke_limit+MaxStrokePad) || \
      (q+extent) >= (ssize_t) (stroke_limit+MaxStrokePad)) \
    { \
      size_t extent_p = (size_t) (p + extent); \
      size_t extent_q = (size_t) (q + extent); \
      PointInfo *new_path_p = (PointInfo *) ResizeQuantumMemory(path_p, \
        extent_p, sizeof(*path_p)); \
      PointInfo *new_path_q = (PointInfo *) ResizeQuantumMemory(path_q, \
        extent_q, sizeof(*path_q)); \
      if ((new_path_p == (PointInfo *) NULL) || (new_path_q == (PointInfo *) NULL)) \
        { \
          if (new_path_p != (PointInfo *) NULL) \
            new_path_p = (PointInfo *) RelinquishMagickMemory(new_path_p); \
          if (new_path_q != (PointInfo *) NULL) \
            new_path_q = (PointInfo *) RelinquishMagickMemory(new_path_q); \
          polygon_primitive = (PrimitiveInfo *) RelinquishMagickMemory( \
            polygon_primitive); \
          path_p = (PointInfo *) RelinquishMagickMemory(path_p); \
          path_q = (PointInfo *) RelinquishMagickMemory(path_q); \
          return((PrimitiveInfo *) NULL); \
        } \
      path_p = new_path_p; \
      path_q = new_path_q; \
      stroke_limit = extent_p; \
    }