#define CheckPathExtent(pad) \
{ \
  if ((p+pad) > (ssize_t) stroke_limit) \
    { \
      PointInfo \
        *new_path_p, \
        *new_path_q; \
      stroke_limit+=2*number_vertices+MaxStrokePad; \
      new_path_p=(PointInfo *) AcquireQuantumMemory(stroke_limit,sizeof(*path_p)); \
      if (new_path_p == (PointInfo *) NULL) \
        { \
          path_p=(PointInfo *) RelinquishMagickMemory(path_p); \
          path_q=(PointInfo *) RelinquishMagickMemory(path_q); \
          polygon_primitive=(PrimitiveInfo *) RelinquishMagickMemory(polygon_primitive); \
          return((PrimitiveInfo *) NULL); \
        } \
      (void) memcpy(new_path_p,path_p,(size_t) p*sizeof(*path_p)); \
      path_p=(PointInfo *) RelinquishMagickMemory(path_p); \
      path_p=new_path_p; \
      new_path_q=(PointInfo *) AcquireQuantumMemory(stroke_limit,sizeof(*path_q)); \
      if (new_path_q == (PointInfo *) NULL) \
        { \
          path_p=(PointInfo *) RelinquishMagickMemory(path_p); \
          path_q=(PointInfo *) RelinquishMagickMemory(path_q); \
          polygon_primitive=(PrimitiveInfo *) RelinquishMagickMemory(polygon_primitive); \
          return((PrimitiveInfo *) NULL); \
        } \
      (void) memcpy(new_path_q,path_q,(size_t) q*sizeof(*path_q)); \
      path_q=(PointInfo *) RelinquishMagickMemory(path_q); \
      path_q=new_path_q; \
    } \
}