#define MaxStrokePad  (6*BezierQuantum+360)
// Define a macro to ensure sufficient memory is allocated for path arrays.
// Check if adding a specified padding to the current index would exceed the maximum allocated strokes.
// If so, increase the size of the allocated memory for path arrays or release memory and handle allocation failure.
#define CheckPathExtent(added_strokes) \
  do { \
    size_t new_size = (stroke_limit + added_strokes + MaxStrokePad); \
    if (new_size > stroke_limit) { \
      stroke_limit = new_size; \
      if ((path_p = (PointInfo *) AcquireQuantumMemory(stroke_limit + MaxStrokePad, sizeof(*path_p))) == (PointInfo *) NULL) { \
        (path_q = (PointInfo *) RelinquishMagickMemory(path_q)); \
        return((PrimitiveInfo *) NULL); \
      } \
      if ((path_q = (PointInfo *) AcquireQuantumMemory(stroke_limit + MaxStrokePad, sizeof(*path_q))) == (PointInfo *) NULL) { \
        (path_p = (PointInfo *) RelinquishMagickMemory(path_p)); \
        return((PrimitiveInfo *) NULL); \
      } \
    } \
  } while (0)