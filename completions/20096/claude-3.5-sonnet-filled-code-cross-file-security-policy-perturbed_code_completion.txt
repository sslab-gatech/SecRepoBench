#define CheckPathExtent(delta) \
{ \
  if ((p+delta) >= stroke_limit) \
  { \
    stroke_limit+=delta+MaxStrokePad; \
    PointInfo *new_path_p = (PointInfo *) ResizeQuantumMemory(path_p, \
      (size_t) stroke_limit, sizeof(*path_p)); \
    if (new_path_p == (PointInfo *) NULL) \
    { \
      path_p=(PointInfo *) RelinquishMagickMemory(path_p); \
      path_q=(PointInfo *) RelinquishMagickMemory(path_q); \
      polygon_primitive=(PrimitiveInfo *) RelinquishMagickMemory(polygon_primitive); \
      return((PrimitiveInfo *) NULL); \
    } \
    path_p = new_path_p; \
  } \
  if ((q+delta) >= stroke_limit) \
  { \
    stroke_limit+=delta+MaxStrokePad; \
    PointInfo *new_path_q = (PointInfo *) ResizeQuantumMemory(path_q, \
      (size_t) stroke_limit, sizeof(*path_q)); \
    if (new_path_q == (PointInfo *) NULL) \
    { \
      path_p=(PointInfo *) RelinquishMagickMemory(path_p); \
      path_q=(PointInfo *) RelinquishMagickMemory(path_q); \
      polygon_primitive=(PrimitiveInfo *) RelinquishMagickMemory(polygon_primitive); \
      return((PrimitiveInfo *) NULL); \
    } \
    path_q = new_path_q; \
  } \
}