#define CheckPathExtent(size) \
  do { \
    if ((size) > (MaxStrokePad + stroke_limit)) { \
      size_t new_size = (size) + MaxStrokePad; \
      PointInfo *temp_path_p = (PointInfo *) ResizeQuantumMemory(path_p, new_size * sizeof(*path_p)); \
      if (temp_path_p == (PointInfo *) NULL) { \
        ThrowMagickException(exception, GetMagickModule(), ResourceLimitError, "MemoryAllocationFailed", "`%s'", "path_p"); \
        return((PrimitiveInfo *) NULL); \
      } \
      path_p = temp_path_p; \
      PointInfo *temp_path_q = (PointInfo *) ResizeQuantumMemory(path_q, new_size * sizeof(*path_q)); \
      if (temp_path_q == (PointInfo *) NULL) { \
        ThrowMagickException(exception, GetMagickModule(), ResourceLimitError, "MemoryAllocationFailed", "`%s'", "path_q"); \
        path_p = (PointInfo *) RelinquishMagickMemory(path_p); \
        return((PrimitiveInfo *) NULL); \
      } \
      path_q = temp_path_q; \
    } \
  } while (0)