case 's':
      case 'S':
      {
        if (LocaleCompare("scale",keyword) == 0)
          {
            (void) GetNextToken(q,&q,extent,token);
            affine.sx=StringToDouble(token,&next_token);
            (void) GetNextToken(q,&q,extent,token);
            if (*token == ',')
              (void) GetNextToken(q,&q,extent,token);
            affine.sy=StringToDouble(token,&next_token);
            break;
          }
        if (LocaleCompare("skewX",keyword) == 0)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,"transform=\"skewX(%s)\" ",
              token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (LocaleCompare("skewY",keyword) == 0)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,"transform=\"skewY(%s)\" ",
              token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (LocaleCompare("stroke",keyword) == 0)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,"stroke:%s;",
              token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (LocaleCompare("stroke-dasharray",keyword) == 0)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "stroke-dasharray:%s;",token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (LocaleCompare("stroke-dashoffset",keyword) == 0)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "stroke-dashoffset:%s;",token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (LocaleCompare("stroke-linecap",keyword) == 0)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "stroke-linecap:%s;",token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (LocaleCompare("stroke-linejoin",keyword) == 0)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "stroke-linejoin:%s;",token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (LocaleCompare("stroke-miterlimit",keyword) == 0)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "stroke-miterlimit:%s;",token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (LocaleCompare("stroke-opacity",keyword) == 0)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "stroke-opacity:%s;",token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (LocaleCompare("stroke-width",keyword) == 0)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "stroke-width:%s;",token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (LocaleCompare("text",keyword) == 0)
          {
            primitive_type=TextPrimitive;
            break;
          }
        status=MagickFalse;
        break;
      }
      case 't':
      case 'T':
      {
        if (LocaleCompare("text-decoration",keyword) == 0)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "text-decoration:%s;",token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (LocaleCompare("translate",keyword) == 0)
          {
            (void) GetNextToken(q,&q,extent,token);
            affine.tx=StringToDouble(token,&next_token);
            (void) GetNextToken(q,&q,extent,token);
            if (*token == ',')
              (void) GetNextToken(q,&q,extent,token);
            affine.ty=StringToDouble(token,&next_token);
            break;
          }
        status=MagickFalse;
        break;
      }
      case 'u':
      case 'U':
      {
        if (LocaleCompare("underline",keyword) == 0)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "text-decoration:%s;",token);
            (void) WriteBlobString(image,message);
            break;
          }
        status=MagickFalse;
        break;
      }
      case 'v':
      case 'V':
      {
        if (LocaleCompare("vector-graphics",keyword) == 0)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,"%s\n",token);
            (void) WriteBlobString(image,message);
            break;
          }
        status=MagickFalse;
        break;
      }
      case 'x':
      case 'X':
      {
        if (LocaleCompare("xlink:href",keyword) == 0)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "xlink:href=\"%s\"",token);
            (void) WriteBlobString(image,message);
            break;
          }
        status=MagickFalse;
        break;
      }
      default:
        status=MagickFalse;
        break;
    }
    if (status == MagickFalse)
      break;
    if (active != MagickFalse)
      {
        AffineToTransform(image,&affine);
        active=MagickFalse;
      }
    if (primitive_type != UndefinedPrimitive)
      {
        if (primitive_type == AlphaPrimitive)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "alpha=\"%s\"",token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (primitive_type == ArcPrimitive)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "arc x1=\"%s\" y1=\"%s\" x2=\"%s\" y2=\"%s\"",token,token,token,
              token);
            (void) WriteBlobString(image,message);
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              " startAngle=\"%s\" endAngle=\"%s\"",token,token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (primitive_type == BezierPrimitive)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "bezier x1=\"%s\" y1=\"%s\" x2=\"%s\" y2=\"%s\" x3=\"%s\" "
              "y3=\"%s\" x4=\"%s\" y4=\"%s\"",token,token,token,token,token,
              token,token,token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (primitive_type == CirclePrimitive)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "circle cx=\"%s\" cy=\"%s\" r=\"%s\"",token,token,token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (primitive_type == ColorPrimitive)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "color=\"%s\"",token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (primitive_type == EllipsePrimitive)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "ellipse cx=\"%s\" cy=\"%s\" rx=\"%s\" ry=\"%s\"",token,token,
              token,token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (primitive_type == ImagePrimitive)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "image x=\"%s\" y=\"%s\" width=\"%s\" height=\"%s\"",token,token,
              token,token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (primitive_type == LinePrimitive)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "line x1=\"%s\" y1=\"%s\" x2=\"%s\" y2=\"%s\"",token,token,token,
              token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (primitive_type == PathPrimitive)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "path d=\"%s\"",token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (primitive_type == PolylinePrimitive)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "polyline points=\"%s\"",token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (primitive_type == PolygonPrimitive)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "polygon points=\"%s\"",token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (primitive_type == RectanglePrimitive)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "rect x=\"%s\" y=\"%s\" width=\"%s\" height=\"%s\"",token,token,
              token,token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (primitive_type == RoundRectanglePrimitive)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "roundRect x=\"%s\" y=\"%s\" width=\"%s\" height=\"%s\" "
              "rx=\"%s\" ry=\"%s\"",token,token,token,token,token,token);
            (void) WriteBlobString(image,message);
            break;
          }
        if (primitive_type == TextPrimitive)
          {
            (void) GetNextToken(q,&q,extent,token);
            (void) FormatLocaleString(message,MagickPathExtent,
              "text x=\"%s\" y=\"%s\" text-anchor=\"%s\"",token,token,token);
            (void) WriteBlobString(image,message);
            break;
          }
      }
  }
  if (active != MagickFalse)
    {
      AffineToTransform(