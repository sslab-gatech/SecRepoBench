#define CheckPathExtent(extent) \
{ \
  if ((p+extent) >= stroke_limit || (q+extent) >= stroke_limit) \
  { \
    size_t \
      new_limit; \
    PointInfo \
      *new_path_p, \
      *new_path_q; \
    new_limit=(size_t) (stroke_limit+extent+MaxStrokePad); \
    new_path_p=(PointInfo *) AcquireQuantumMemory(new_limit,sizeof(*path_p)); \
    new_path_q=(PointInfo *) AcquireQuantumMemory(new_limit,sizeof(*path_q)); \
    if ((new_path_p == (PointInfo *) NULL) || (new_path_q == (PointInfo *) NULL)) \
    { \
      if (new_path_p != (PointInfo *) NULL) \
        new_path_p=(PointInfo *) RelinquishMagickMemory(new_path_p); \
      if (new_path_q != (PointInfo *) NULL) \
        new_path_q=(PointInfo *) RelinquishMagickMemory(new_path_q); \
      path_p=(PointInfo *) RelinquishMagickMemory(path_p); \
      path_q=(PointInfo *) RelinquishMagickMemory(path_q); \
      polygon_primitive=(PrimitiveInfo *) RelinquishMagickMemory(polygon_primitive); \
      return((PrimitiveInfo *) NULL); \
    } \
    memcpy(new_path_p,path_p,(size_t) p*sizeof(*path_p)); \
    memcpy(new_path_q,path_q,(size_t) q*sizeof(*path_q)); \
    path_p=(PointInfo *) RelinquishMagickMemory(path_p); \
    path_q=(PointInfo *) RelinquishMagickMemory(path_q); \
    path_p=new_path_p; \
    path_q=new_path_q; \
    stroke_limit=new_limit; \
  } \
}