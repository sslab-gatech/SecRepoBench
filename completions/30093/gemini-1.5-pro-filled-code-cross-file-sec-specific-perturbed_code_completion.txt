switch (v->o.type) {
    case MSGPACK_OBJECT_BOOLEAN:
        snprintf(str, sizeof(str), "%s", v->o.via.boolean ? "true" : "false");
        tmp = flb_sds_cat(buf, str, strlen(str));
        break;
    case MSGPACK_OBJECT_POSITIVE_INTEGER:
        snprintf(str, sizeof(str), "%" PRIu64, v->o.via.u64);
        tmp = flb_sds_cat(buf, str, strlen(str));
        break;
    case MSGPACK_OBJECT_NEGATIVE_INTEGER:
        snprintf(str, sizeof(str), "%" PRId64, v->o.via.i64);
        tmp = flb_sds_cat(buf, str, strlen(str));
        break;
    case MSGPACK_OBJECT_FLOAT32:
    case MSGPACK_OBJECT_FLOAT64:
        snprintf(str, sizeof(str), "%f", v->o.via.f64);
        tmp = flb_sds_cat(buf, str, strlen(str));
        break;
    case MSGPACK_OBJECT_STR:
        str_size = v->o.via.str.size;
        js = flb_ra_json_escape(v->o.via.str.ptr, str_size);
        if (js) {
            tmp = flb_sds_cat(buf, js, strlen(js));
            flb_free(js);
        }
        break;
    case MSGPACK_OBJECT_NIL:
        tmp = flb_sds_cat(buf, "null", 4);
        break;
    default:
        flb_warn("[ra] cannot process unknown key type %i", v->o.type);
        tmp = buf;
        break;
}