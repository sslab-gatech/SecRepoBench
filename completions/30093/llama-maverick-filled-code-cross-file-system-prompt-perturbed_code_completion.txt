if (v->type == FLB_RA_STRING) {
    str_size = snprintf(str, sizeof(str) - 1, "%s", v->val.string);
    js = str;
}
else if (v->type == FLB_RA_INT) {
    str_size = snprintf(str, sizeof(str) - 1, "%" PRId64, v->val.i64);
    js = str;
}
else if (v->type == FLB_RA_FLOAT) {
    str_size = snprintf(str, sizeof(str) - 1, "%f", v->val.f64);
    js = str;
}
else if (v->type == FLB_RA_BOOL) {
    if (v->val.boolean) {
        js = "true";
        str_size = strlen(js);
    }
    else {
        js = "false";
        str_size = strlen(js);
    }
}
else if (v->type == FLB_RA_NULL) {
    js = "null";
    str_size = strlen(js);
}
else {
    js = NULL;
    str_size = 0;
}

if (js) {
    tmp = flb_sds_cat(buf, js, str_size);
    if (!tmp) {
        flb_error("[record accessor] cannot append string");
        return NULL;
    }
}