switch (v->o.type) {
case MSGPACK_OBJECT_NIL:
    tmp = flb_sds_cat(buf, "null", 4);
    break;
case MSGPACK_OBJECT_BOOLEAN:
    tmp = flb_sds_cat(buf, v->o.via.boolean ? "true" : "false",
                      v->o.via.boolean ? 4 : 5);
    break;
case MSGPACK_OBJECT_POSITIVE_INTEGER:
    str_size = snprintf(str, sizeof(str), "%" PRIu64, v->o.via.u64);
    tmp = flb_sds_cat(buf, str, str_size);
    break;
case MSGPACK_OBJECT_NEGATIVE_INTEGER:
    str_size = snprintf(str, sizeof(str), "%" PRId64, v->o.via.i64);
    tmp = flb_sds_cat(buf, str, str_size);
    break;
case MSGPACK_OBJECT_FLOAT32:
case MSGPACK_OBJECT_FLOAT64:
    str_size = snprintf(str, sizeof(str), "%f", v->o.via.f64);
    tmp = flb_sds_cat(buf, str, str_size);
    break;
case MSGPACK_OBJECT_STR:
    tmp = flb_sds_cat(buf, v->o.via.str.ptr, v->o.via.str.size);
    break;
default:
    tmp = buf;
    break;
}