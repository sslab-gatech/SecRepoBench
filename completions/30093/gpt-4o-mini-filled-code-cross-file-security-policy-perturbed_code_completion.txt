switch (v->type) {
        case FLB_RA_VALUE_BOOL:
            str_size = snprintf(str, sizeof(str), "%s", v->value.boolean ? "true" : "false");
            break;
        case FLB_RA_VALUE_INT:
            str_size = snprintf(str, sizeof(str), "%d", v->value.integer);
            break;
        case FLB_RA_VALUE_DOUBLE:
            str_size = snprintf(str, sizeof(str), "%f", v->value.dbl);
            break;
        case FLB_RA_VALUE_STRING:
            str_size = snprintf(str, sizeof(str), "%s", v->value.str);
            break;
        case FLB_RA_VALUE_NULL:
            str_size = snprintf(str, sizeof(str), "null");
            break;
        default:
            str_size = 0; // Unknown type
            break;
    }

    if (str_size < 0 || str_size >= sizeof(str)) {
        flb_error("[record accessor] snprintf failed or output truncated");
        return buf; // Return the original buffer if there's an error
    }

    // Append the string representation to the buffer
    tmp = flb_sds_cat(buf, str, str_size);
    if (!tmp) {
        flb_error("[record accessor] buffer concatenation failed");
        return buf; // Return the original buffer if concatenation fails
    }