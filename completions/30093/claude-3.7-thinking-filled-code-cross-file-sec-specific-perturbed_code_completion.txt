if (v->type == FLB_RA_BOOL) {
    if (v->boolean) {
        tmp = flb_sds_cat(buf, "true", 4);
    }
    else {
        tmp = flb_sds_cat(buf, "false", 5);
    }
}
else if (v->type == FLB_RA_INT) {
    /* Use snprintf to safely convert integer to string */
    str_size = snprintf(str, sizeof(str) - 1, "%" PRId64, v->integer);
    if (str_size > 0) {
        tmp = flb_sds_cat(buf, str, str_size);
    }
}
else if (v->type == FLB_RA_FLOAT) {
    /* Use snprintf to safely convert float to string */
    str_size = snprintf(str, sizeof(str) - 1, "%f", v->numeric);
    if (str_size > 0) {
        tmp = flb_sds_cat(buf, str, str_size);
    }
}
else if (v->type == FLB_RA_STRING) {
    /* Add string value */
    tmp = flb_sds_cat(buf, v->string, flb_sds_len(v->string));
}
else if (v->type == FLB_RA_NULL) {
    /* Add null value as "null" string */
    tmp = flb_sds_cat(buf, "null", 4);
}
else {
    /* For any other type, keep the original buffer */
    tmp = buf;
}

/* If concatenation failed, keep the original buffer */
if (!tmp) {
    tmp = buf;
}