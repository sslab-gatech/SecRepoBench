/* Convert value to string */
if (v->type == FLB_RA_BOOL) {
    tmp = flb_sds_cat(buf, v->boolean ? "true" : "false", v->boolean ? 4 : 5);
}
else if (v->type == FLB_RA_INT) {
    str_size = snprintf(str, sizeof(str) - 1, "%" PRId64, v->i64);
    tmp = flb_sds_cat(buf, str, str_size);
}
else if (v->type == FLB_RA_FLOAT) {
    str_size = snprintf(str, sizeof(str) - 1, "%f", v->f64);
    tmp = flb_sds_cat(buf, str, str_size);
}
else if (v->type == FLB_RA_STRING) {
    tmp = flb_sds_cat(buf, v->string, flb_sds_len(v->string));
}
else if (v->type == FLB_RA_NULL) {
    tmp = flb_sds_cat(buf, "null", 4);
}
else {
    /* Serialize as JSON */
    js = flb_msgpack_obj_to_json_str(2048, &v->o);
    if (js) {
        tmp = flb_sds_cat(buf, js, strlen(js));
        flb_free(js);
    }
    else {
        tmp = buf;
    }
}