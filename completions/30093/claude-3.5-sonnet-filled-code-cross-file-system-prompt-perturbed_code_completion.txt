if (v->type == FLB_RA_BOOL) {
    tmp = flb_sds_printf(&buf, "%s", v->val.boolean ? "true" : "false");
}
else if (v->type == FLB_RA_INT) {
    tmp = flb_sds_printf(&buf, "%"PRId64, v->val.i64);
}
else if (v->type == FLB_RA_FLOAT) {
    tmp = flb_sds_printf(&buf, "%f", v->val.f64);
}
else if (v->type == FLB_RA_STRING) {
    tmp = flb_sds_cat(buf, v->val.string, flb_sds_len(v->val.string));
}
else if (v->type == FLB_RA_NULL) {
    tmp = flb_sds_cat(buf, "null", 4);
}
else {
    flb_error("[record accessor] unknown data type %i", v->type);
    tmp = NULL;
}

if (!tmp) {
    flb_error("[record accessor] cannot compose outgoing buffer");
    return NULL;
}