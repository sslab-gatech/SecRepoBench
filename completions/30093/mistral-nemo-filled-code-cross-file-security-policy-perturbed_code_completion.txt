switch (v->type) {
        case MSGPACK_OBJECT_BOOLEAN:
            str_size = snprintf(str, sizeof(str), "%d", v->value.as Boolean);
            break;
        case MSGPACK_OBJECT_POSITIVE_INTEGER:
        case MSGPACK_OBJECT_NEGATIVE_INTEGER:
            str_size = snprintf(str, sizeof(str), "%lld", v->value.as Integer);
            break;
        case MSGPACK_OBJECT_FLOAT:
            str_size = snprintf(str, sizeof(str), "%g", v->value.as Float);
            break;
        case MSGPACK_OBJECT_STR:
            str_size = snprintf(str, sizeof(str), "%s", v->value.as String.ptr);
            break;
        case MSGPACK_OBJECT_ARRAY:
        case MSGPACK_OBJECT_MAP:
        case MSGPACK_OBJECT_NULL:
            str_size = snprintf(str, sizeof(str), "%s", flb_ra_type_to_str(v->type));
            break;
        default:
            str_size = snprintf(str, sizeof(str), "Unknown");
            break;
    }

    if (str_size >= sizeof(str)) {
        flb_error("[record accessor] buffer overflow");
        return buf;
    }

    js = flb_sds_create(str);
    if (!js) {
        flb_error("[record accessor] cannot create string");
        return buf;
    }

    buf = flb_sds_cat(buf, js);
    flb_sds_destroy(js);