if (v->type == MSGPACK_OBJECT_BOOLEAN) {
    tmp = flb_sds_copy(buf, v->boolean ? "true" : "false", v->boolean ? 4 : 5);
}
else if (v->type == MSGPACK_OBJECT_POSITIVE_INTEGER) {
    str_size = snprintf(str, sizeof(str) - 1, "%"PRIu64, v->u64);
    tmp = flb_sds_copy(buf, str, str_size);
}
else if (v->type == MSGPACK_OBJECT_NEGATIVE_INTEGER) {
    str_size = snprintf(str, sizeof(str) - 1, "%"PRId64, v->i64);
    tmp = flb_sds_copy(buf, str, str_size);
}
else if (v->type == MSGPACK_OBJECT_FLOAT) {
    str_size = snprintf(str, sizeof(str) - 1, "%f", v->f64);
    tmp = flb_sds_copy(buf, str, str_size);
}
else if (v->type == MSGPACK_OBJECT_STR) {
    tmp = flb_sds_copy(buf, v->str.ptr, v->str.size);
}
else if (v->type == MSGPACK_OBJECT_NIL) {
    tmp = flb_sds_copy(buf, "null", 4);
}
else {
    /* Unknown type */
    flb_error("[record accessor] unknown type %i", v->type);
    tmp = flb_sds_copy(buf, "null", 4);
}

if (!tmp) {
    flb_error("[record accessor] failed to compose message");
    tmp = buf;
}