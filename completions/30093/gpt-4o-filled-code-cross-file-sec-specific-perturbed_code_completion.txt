switch (v->type) {
    case MSGPACK_OBJECT_BOOLEAN:
        if (v->via.boolean) {
            tmp = flb_sds_cat(buf, "true", 4);
        }
        else {
            tmp = flb_sds_cat(buf, "false", 5);
        }
        break;
    case MSGPACK_OBJECT_POSITIVE_INTEGER:
        str_size = snprintf(str, sizeof(str), "%" PRIu64, v->via.u64);
        if (str_size < 0 || str_size >= sizeof(str)) {
            flb_ra_key_value_destroy(v);
            return NULL;
        }
        tmp = flb_sds_cat(buf, str, str_size);
        break;
    case MSGPACK_OBJECT_NEGATIVE_INTEGER:
        str_size = snprintf(str, sizeof(str), "%" PRId64, v->via.i64);
        if (str_size < 0 || str_size >= sizeof(str)) {
            flb_ra_key_value_destroy(v);
            return NULL;
        }
        tmp = flb_sds_cat(buf, str, str_size);
        break;
    case MSGPACK_OBJECT_FLOAT:
        str_size = snprintf(str, sizeof(str), "%f", v->via.f64);
        if (str_size < 0 || str_size >= sizeof(str)) {
            flb_ra_key_value_destroy(v);
            return NULL;
        }
        tmp = flb_sds_cat(buf, str, str_size);
        break;
    case MSGPACK_OBJECT_STR:
        tmp = flb_sds_cat(buf, v->via.str.ptr, v->via.str.size);
        break;
    case MSGPACK_OBJECT_NIL:
        tmp = flb_sds_cat(buf, "null", 4);
        break;
    default:
        flb_ra_key_value_destroy(v);
        return NULL;
    }