switch (v->o.type) {
    case MSGPACK_OBJECT_BOOLEAN:
        tmp = flb_sds_catprintf(buf, "%B", v->o.via.bool_);
        break;
    case MSGPACK_OBJECT_POSITIVE_INTEGER:
    case MSGPACK_OBJECT_NEGATIVE_INTEGER:
        tmp = flb_sds_catprintf(buf, "%d", v->o.via.i64);
        break;
    case MSGPACK_OBJECT_FLOAT:
        tmp = flb_sds_catprintf(buf, "%f", v->o.via.f64);
        break;
    case MSGPACK_OBJECT_STR:
        str_size = v->o.via.str.size;
        if (str_size >= sizeof(str)) {
            js = flb_malloc(str_size + 1);
            if (!js) {
                flb_errno();
                return NULL;
            }
            memcpy(js, v->o.via.str.ptr, str_size);
            js[str_size] = '\0';
            tmp = flb_sds_catprintf(buf, "%s", js);
            flb_free(js);
        } else {
            memcpy(str, v->o.via.str.ptr, str_size);
            str[str_size] = '\0';
            tmp = flb_sds_catprintf(buf, "%s", str);
        }
        break;
    case MSGPACK_OBJECT_nil:
        tmp = flb_sds_catprintf(buf, "null");
        break;
    default:
        flb_error("[ra key] cannot process key value");
        return NULL;
}