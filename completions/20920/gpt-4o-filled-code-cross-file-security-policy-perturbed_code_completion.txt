unsigned char *iptc_profile = (unsigned char *) NULL;

      if (TIFFIsByteSwapped(tiff) != 0)
      {
        iptc_profile = (unsigned char *) AcquireMagickMemory(length);
        if (iptc_profile == (unsigned char *) NULL)
          ThrowMagickException(exception, GetMagickModule(), ResourceLimitError,
            "MemoryAllocationFailed", "`%s'", img->filename);
        (void) memcpy(iptc_profile, profile, length);
        TIFFSwabArrayOfLong((uint32 *) iptc_profile, length / 4);
      }
      else
        iptc_profile = profile;

      status = ReadProfile(img, "iptc", iptc_profile, (ssize_t) length, exception);

      if (TIFFIsByteSwapped(tiff) != 0)
        iptc_profile = (unsigned char *) RelinquishMagickMemory(iptc_profile);