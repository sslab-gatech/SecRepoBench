{
  StringInfo
    *iptc_profile;

  iptc_profile=BlobToStringInfo(profile,(size_t) length);
  if (iptc_profile == (StringInfo *) NULL)
    ThrowBinaryException(ResourceLimitError,"MemoryAllocationFailed",
      img->filename);
  if (TIFFIsByteSwapped(tiff))
    {
      if ((length & 0x03) == 0)
        TIFFSwabArrayOfLong((uint32 *) GetStringInfoDatum(iptc_profile),
          (unsigned long) (length/4));
    }
  status=SetImageProfile(img,"iptc",iptc_profile,exception);
  iptc_profile=DestroyStringInfo(iptc_profile);
  if (status == MagickFalse)
    ThrowBinaryException(ResourceLimitError,"MemoryAllocationFailed",
      img->filename);
}