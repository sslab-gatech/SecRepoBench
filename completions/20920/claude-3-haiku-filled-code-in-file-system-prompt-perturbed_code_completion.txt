// <MASK>
if (TIFFGetField(tiff,TIFFTAG_RICHTIFFIPTC,&length,&profile) == 1)
{
  // Check if the TIFF file is byte-swapped and, if so, swap the byte order of the IPTC profile data.
  if (TIFFIsByteSwapped(tiff))
    TIFFSwabArrayOfLong((uint32 *) profile,length/4);
  // Read the IPTC profile into the image.
  status=ReadProfile(img,"iptc",profile,(ssize_t) length,exception);
}