StringInfo *iptc_profile;

      iptc_profile=BlobToStringInfo(profile,length);
      if (iptc_profile == (StringInfo *) NULL)
        {
          (void) ThrowMagickException(exception,GetMagickModule(),
            ResourceLimitError,"MemoryAllocationFailed","`%s'",img->filename);
          return(MagickFalse);
        }
      if (length > 0)
        {
          unsigned char *p = GetStringInfoDatum(iptc_profile);
          for (uint32 j = 0; j < length; j++)
            p[j] = profile[j];
        }
      (void) SetImageProfile(img,"iptc",iptc_profile,exception);
      iptc_profile=DestroyStringInfo(iptc_profile);