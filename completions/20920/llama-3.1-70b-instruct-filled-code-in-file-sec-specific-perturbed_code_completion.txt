profile = BlobToStringInfo(datum, (size_t) length);
if (profile == (StringInfo *) NULL)
  ThrowBinaryException(ResourceLimitError, "MemoryAllocationFailed", image->filename);
status = SetImageProfile(image, "iptc", profile, exception);
profile = DestroyStringInfo(profile);
if (status == MagickFalse)
  ThrowBinaryException(ResourceLimitError, "MemoryAllocationFailed", image->filename);