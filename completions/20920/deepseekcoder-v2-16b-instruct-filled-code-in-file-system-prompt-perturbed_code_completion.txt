image->chromaticity.white_point.y=chromaticity[1];
          }
      }
    if (TIFFGetField(tiff,TIFFTAG_PRIMARYCHROMA,&chromaticity) == 1)
      {
        if (chromaticity != (float *) NULL)
          {
            image->chromaticity.red_primary.x=chromaticity[0];
            image->chromaticity.red_primary.y=chromaticity[1];
          }
      }
    if (TIFFGetField(tiff,TIFFTAG_SECONDPARIMARY,&chromaticity) == 1)
      {
        if (chromaticity != (float *) NULL)
          {
            image->chromaticity.green_primary.x=chromaticity[0];
            image->chromaticity.green_primary.y=chromaticity[1];
          }
      }
    if (TIFFGetField(tiff,TIFFTAG_MATRIXCOLUMNA,&chromaticity) == 1)
      {
        if (chromaticity != (float *) NULL)
          {
            image->chromaticity.blue_primary.x=chromaticity[0];
            image->chromaticity.blue_primary.y=chromaticity[1];
          }
      }
    if (TIFFGetField(tiff,TIFFTAG_MATRIXCOLUMNB,&chromaticity) == 1)
      {
        if (chromaticity != (float *) NULL)
          {
            image->chromaticity.matrix_columns[0][0]=chromaticity[0];
            image->chromaticity.matrix_columns[0][1]=chromaticity[1];
            image->chromaticity.matrix_columns[0][2]=chromaticity[2];
          }
      }
    if (TIFFGetField(tiff,TIFFTAG_MATRIXCOLUMNC,&chromaticity) == 1)
      {
        if (chromaticity != (float *) NULL)
          {
            image->chromaticity.matrix_columns[1][0]=chromaticity[0];
            image->chromaticity.matrix_columns[1][1]=chromaticity[1];
            image->chromaticity.matrix_columns[1][2]=chromaticity[2];
          }
      }
    if (TIFFGetField(tiff,TIFFTAG_MATRIXCOLUMND,&chromaticity) == 1)
      {
        if (chromaticity != (float *) NULL)
          {
            image->chromaticity.matrix_columns[2][0]=chromaticity[0];
            image->chromaticity.matrix_columns[2][1]=chromaticity[1];
            image->chromaticity.matrix_columns[2][2]=chromaticity[2];
          }
      }
    if (TIFFGetField(tiff,TIFFTAG_TRANSFERFUNCTION,&chromaticity) == 1)
      {
        if (chromaticity != (float *) NULL)
          {
            image->chromaticity.transfer_function[0]=chromaticity[0];
            image->chromaticity.transfer_function[1]=chromaticity[1];
            image->chromaticity.transfer_function[2]=chromaticity[2];
            image->chromaticity.transfer_function[3]=chromaticity[3];
            image->chromaticity.transfer_function[4]=chromaticity[4];
            image->chromaticity.transfer_function[5]=chromaticity[5];
          }
      }
    if (TIFFGetField(tiff,TIFFTAG_SOFTWARE,&chromaticity) == 1)
      {
        if (chromaticity != (char *) NULL)
          (void) SetImageProperty(image,"tiff:software",chromaticity,exception);
      }
    if (TIFFGetField(tiff,TIFFTAG_ARTIST,&chromaticity) == 1)
      {
        if (chromaticity != (char *) NULL)
          (void) SetImageProperty(image,"tiff:artist",chromaticity,exception);
      }
    if (TIFFGetField(tiff,TIFFTAG_COPYRIGHT,&chromaticity) == 1)
      {
        if (chromaticity != (char *) NULL)
          (void) SetImageProperty(image,"tiff:copyright",chromaticity,exception);
      }
    if (TIFFGetField(tiff,TIFFTAG_DATETIME,&chromaticity) == 1)
      {
        if (chromaticity != (char *) NULL)
          (void) SetImageProperty(image,"tiff:timestamp",chromaticity,exception);
      }
    if (TIFFGetField(tiff,TIFFTAG_DOCUMENTNAME,&chromaticity) == 1)
      {
        if (chromaticity != (char *) NULL)
          (void) SetImageProperty(image,"tiff:document",chromaticity,exception);
      }
    if (TIFFGetField(tiff,TIFFTAG_HOSTCOMPUTER,&chromaticity) == 1)
      {
        if (chromaticity != (char *) NULL)
          (void) SetImageProperty(image,"tiff:hostcomputer",chromaticity,exception);
      }
    if (TIFFGetField(tiff,TIFFTAG_IMAGEDESCRIPTION,&chromaticity) == 1)
      {
        if (chromaticity != (char *) NULL)
          (void) SetImageProperty(image,"comment",chromaticity,exception);
      }
    if (TIFFGetField(tiff,TIFFTAG_MAKE,&chromaticity) == 1)
      {
        if (chromaticity != (char *) NULL)
          (void) SetImageProperty(image,"tiff:make",chromaticity,exception);
      }
    if (TIFFGetField(tiff,TIFFTAG_MODEL,&chromaticity) == 1)
      {
        if (chromaticity != (char *) NULL)
          (void) SetImageProperty(image,"tiff:model",chromaticity,exception);
      }
    if (TIFFGetField(tiff,TIFFTAG_OPIIMAGEID,&chromaticity) == 1)
      {
        if (chromaticity != (char *) NULL)
          (void) SetImageProperty(image,"tiff:image-id",chromaticity,exception);
      }
    if (TIFFGetField(tiff,TIFFTAG_PAGENAME,&chromaticity) == 1)
      {
        if (chromaticity != (char *) NULL)
          (void) SetImageProperty(image,"label",chromaticity,exception);
      }
    if (TIFFGetField(tiff,TIFFTAG_SOFTWARE,&chromaticity) == 1)
      {
        if (chromaticity != (char *) NULL)
          (void) SetImageProperty(image,"tiff:software",chromaticity,exception);
      }
    if (TIFFGetField(tiff,33423,&chromaticity) == 1)
      {
        if (chromaticity != (char *) NULL)
          (void) SetImageProperty(image,"tiff:kodak-33423",chromaticity,
            exception);
      }
    if (TIFFGetField(tiff,36867,&chromaticity) == 1)
      {
        if (chromaticity != (char *) NULL)
          (void) SetImageProperty(image,"tiff:kodak-36867",chromaticity,
            exception);
      }
    if (TIFFGetField(tiff,TIFFTAG_SUBFILETYPE,&value) == 1)
      {
        switch (value)
        {
          case 0x01:
          {
            (void) SetImageProperty(image,"tiff:subfiletype","REDUCEDIMAGE",
              exception);
            break;
          }
          case 0x02:
          {
            (void) SetImageProperty(image,"tiff:subfiletype","PAGE",exception);
            break;
          }
          case 0x04:
          {
            (void) SetImageProperty(image,"tiff:subfiletype","MASK",exception);
            break;
          }
          default:
            break;
        }
      }
    if (TIFFGetField(tiff,TIFFTAG_ORIENTATION,&value) == 1)
      image->orientation=(OrientationType) value;
    if (TIFFGetField(tiff,TIFFTAG_SAMPLESPERPIXEL,&sample_info) == 1)
      samples_per_pixel=sample_info[0];
    if (TIFFGetField(tiff,TIFFTAG_BITSPERSAMPLE,&sample_info) == 1)
      bits_per_sample=sample_info[0];
    if (TIFFGetField(tiff,TIFFTAG_PLANARCONFIG,&interlace) == 1)
      {
        if (interlace == PLANARCONFIG_CONTIG)
          image->endian=image->endian == MSBEndian ? MSBEndian : LSBEndian;
        else
          image->endian=image->endian == MSBEndian ? LSBEndian : MSBEndian;
      }
    if (TIFFGetField(tiff,TIFFTAG_PHOTOMETRIC,&photometric) == 1)
      {
        if (photometric == PHOTOMETRIC_SEPARATED)
          image->colorspace=CMYKColorspace;
        if (photometric == PHOTOMETRIC_YCBCR)
          image->colorspace=YCbCrColorspace;
      }
    if (TIFFGetField(tiff,TIFFTAG_COMPRESSION,&compress_tag) == 1)
      {
        if (compress_tag == COMPRESSION_ADOBE_DEFLATE)
          image->compression=DeflateCompression;
        if (compress_tag == COMPRESSION_LZW)
          image->compression=LZWCompression;
        if (compress_tag == COMPRESSION_PACKBITS)
          image->compression=PackBitsCompression;
        if (compress_tag == COMPRESSION_ZSTD)
          image->compression=ZSTDCompression;
      }
    if (TIFFGetField(tiff,TIFFTAG_PREDICTOR,&value) == 1)
      {
        if (value == PREDICTOR_HORIZONTAL)
          image->predictor=HorizontalPredictor;
      }
    if (TIFFGetField(tiff,TIFFTAG_ROWSPERSTRIP,&rows_per_strip) == 1)
      image->rows_per_strip=(size_t) rows_per_strip;
    if (TIFFGetField(tiff,TIFFTAG_RESOLUTIONUNIT,&units) == 1)
      {
        if (units == RESUNIT_INCH)
          image->units=PixelsPerInchResolution;
        if (units == RESUNIT_CENTIMETER)
          image->units=PixelsPerCentimeterResolution;
      }
    if (TIFFGetField(tiff,TIFFTAG_XRESOLUTION,&x_resolution) == 1)
      image->resolution.x=x_resolution;
    if (TIFFGetField(tiff,TIFFTAG_YRESOLUTION,&y_resolution) == 1)
      image->resolution.y=y_resolution;
    if (TIFFGetField(tiff,TIFFTAG_XMLPACKET,&chromaticity) == 1)
      {
        if (chromaticity != (unsigned char *) NULL)
          {
            StringInfo
              *dng;

            dng=BlobToStringInfo(chromaticity,TIFFGetBlobSize(tiff));
            if (dng != (StringInfo *) NULL)
              {
                const char
                  *target = "dc:format=\"image/dng\"";

                if (strstr((char *) GetStringInfoDatum(dng),target) != (char *) NULL)
                  (void) CopyMagickString(image->magick,"DNG",MagickPathExtent);
                dng=DestroyStringInfo(dng);
              }
          }
      }
    if (TIFFGetField(tiff,TIFFTAG_RICHTIFFIPTC,&chromaticity) == 1)
      {
        if (chromaticity != (unsigned char *) NULL)
          {
            StringInfo
              *iptc;

            iptc=BlobToStringInfo(chromaticity,TIFFGetBlobSize(tiff));
            if (iptc != (StringInfo *) NULL)
              {
                (void) SetImageProperty(image,"iptc",GetStringInfoDatum(iptc),
                  exception);
                iptc=DestroyStringInfo(iptc);
              }
          }
      }
    if (TIFFGetField(tiff,TIFFTAG_PHOTOSHOP,&chromaticity) == 1)
      {
        if (chromaticity != (unsigned char *) NULL)
          {
            PhotoshopProfile
              profile;

            profile.data=BlobToStringInfo(chromaticity,TIFFGetBlobSize(tiff));
            if (profile.data != (StringInfo *) NULL)
              {
                profile.length=TIFFGetBlobSize(tiff);
                profile.offset=0;
                TIFFReadPhotoshopLayers(image_info,image,exception);
                profile=DestroyStringInfo(profile.data);
              }
          }