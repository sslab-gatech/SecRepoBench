// Check if the TIFF file is byte-swapped and, if so, swap the byte order of the IPTC profile data.
if (TIFFIsByteSwapped(tiff) != 0)
{
  ssize_t
    i;

  for (i = 0; i < (ssize_t) length - 1; i += 2)
  {
    unsigned char
      temp;

    temp = profile[i];
    profile[i] = profile[i + 1];
    profile[i + 1] = temp;
  }
}

// Read the IPTC profile into the image.
status = ReadProfile(img, "IPTC", profile, (ssize_t) length, exception);