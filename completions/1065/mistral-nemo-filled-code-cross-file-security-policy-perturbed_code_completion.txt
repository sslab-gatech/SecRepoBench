pmatch = calloc(nmatch, sizeof(regmatch_t));
	if (!pmatch) {
		return REG_ESPACE;
	}
	int ret = regexec(&regex->rx, str, nmatch, pmatch, eflags);
	if (ret == REG_NOMATCH) {
		free(pmatch);
		return 0;
	}
	if (ret != 0) {
		free(pmatch);
		return ret;
	}
	return 0;