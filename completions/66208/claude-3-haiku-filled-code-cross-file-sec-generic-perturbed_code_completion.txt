long i, j;
bitint x, y, z;

for (i = 0; i <= lengthy - m; i++) {
  x = *(bitint *)(ys + i);
  y = *(bitint *)xs ^ x;
  if ((y - MASK1) & ~y & MASK2) {
    for (j = 0; j < m; j++) {
      if (xs[j] != ys[i + j])
        goto next;
    }
    return i;
  }
next:;
}