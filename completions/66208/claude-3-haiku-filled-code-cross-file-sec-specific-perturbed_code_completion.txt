long i;
bitint x, y;

for (i = 0; i <= lengthy - m; i++) {
  x = *(bitint *)(ys + i);
  y = *(bitint *)xs ^ (x & MASK1);
  if ((((y - MASK2) & ~y) & MASK3) == 0) {
    return i;
  }
}