for (long i = 0; i <= lengthy - m; i++) {
  const unsigned char *p = ys + i;
  bitint v = 0;

  for (long j = 0; j < m; j++) {
    v |= (bitint)(p[j] ^ xs[j]) << (j * 8);
  }

  if ((v & MASK2) == 0) {
    return i;
  }
}