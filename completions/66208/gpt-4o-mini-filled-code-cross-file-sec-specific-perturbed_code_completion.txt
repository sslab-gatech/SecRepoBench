if (m <= 0 || lengthy <= 0) {
    return -1; // Invalid lengths
  }

  const unsigned char *end = ys + lengthy - m;
  for (const unsigned char *p = ys; p <= end; p++) {
    if (memcmp(p, xs, m) == 0) {
      return p - ys; // Return the index of the first occurrence
    }
  }