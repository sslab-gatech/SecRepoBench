if (m < 1) return -1;
  bitint mask = 0;
  bitint pattern = 0;
  for (long i = 0; i < m; i++) {
    pattern = (pattern << 8) | xs[i];
    mask = (mask << 8) | 0xFF;
  }
  bitint last_byte = 1UL << ((m - 1) * 8);
  for (long i = 0; i <= lengthy - m; i++) {
    bitint word = *(bitint*)(ys + i);
    if (((word ^ pattern) & mask) == 0) {
      return i;
    }
    if ((word & last_byte) == 0) {
      i += m - 1;
    }
  }