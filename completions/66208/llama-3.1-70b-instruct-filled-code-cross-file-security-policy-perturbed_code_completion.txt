bitint *xss = (bitint *)xs;
bitint *yss = (bitint *)ys;
bitint xmask = 0;
long i, j;

for (i = 0; i < m / sizeof(bitint); i++) {
  xmask |= xss[i];
}
xmask &= MASK2;

for (i = 0; i < lengthy / sizeof(bitint); i++) {
  bitint y = yss[i] & MASK2;
  bitint z = (y - xmask) & MASK3;
  if ((z & MASK4) == 0) {
    for (j = 0; j < m; j++) {
      if (xs[j]!= ys[i * sizeof(bitint) + j]) break;
    }
    if (j == m) return i * sizeof(bitint);
  }
}
return -1;