long i, j;
bitint x, y, z;

for (i = 0; i <= lengthy - m; i++) {
  x = *(bitint *)(ys + i);
  y = *(bitint *)xs;
  if (m >= sizeof(bitint)) {
    for (j = 1; j < m / sizeof(bitint); j++) {
      z = *(bitint *)(ys + i + j * sizeof(bitint));
      if ((x ^ y) | (z ^ *(bitint *)(xs + j * sizeof(bitint)))) {
        goto next;
      }
    }
  }
  if (memcmp(xs, ys + i, m) == 0) {
    return i;
  }
next:
  ;
}