/*
    Evaluate expression.
  */
  switch (*expression)
  {
    case '+':
    case '-':
    case '*':
    case '/':
    case '%':
    case '^':
    case '&':
    case '|':
    case '<':
    case '>':
    case '=':
    case '!':
    case '?':
    case ':':
    case ',':
    case ';':
    {
      (void) ThrowMagickException(exception,GetMagickModule(),OptionError,
        "UnableToParseExpression","`%s'",expression);
      FxReturn(0.0);
    }
    case '(':
    {
      p=FxSubexpression(expression,exception);
      if (*p == '\0')
        {
          (void) ThrowMagickException(exception,GetMagickModule(),OptionError,
            "UnbalancedParenthesis","`%s'",expression);
          FxReturn(0.0);
        }
      (void) CopyMagickString(subexpression,expression+1,(size_t) (p-expression));
      alpha=FxEvaluateSubexpression(fx_info,channel,x,y,subexpression,depth+1,
        beta,exception);
      p++;
      break;
    }
    default:
    {
      alpha=FxGetSymbol(fx_info,channel,x,y,expression,depth+1,exception);
      p=expression+strlen(expression);
      break;
    }
  }
  while (isspace((int) ((unsigned char) *p)) != 0)
    p++;
  if (*p != '\0')
    {
      (void) ThrowMagickException(exception,GetMagickModule(),OptionError,
        "UnableToParseExpression","`%s'",expression);
      FxReturn(0.0);
    }
  FxReturn(alpha);