for (i = 0; i < height; i++) {
    memcpy(dst, src, w << pixel_shift);
    dst += stride_dst;
    src += stride_src;
}