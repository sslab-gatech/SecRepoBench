bitint *s0 = (bitint *)needle;
  bitint *s1 = (bitint *)ys;
  bitint a = *s0;
  long i = 0;
  long n1 = n - m;
  for (; i < n1; i += sizeof(bitint)) {
    bitint b = s1[i/sizeof(bitint)];
    bitint c = a ^ b;
    bitint d = c - MASK1;
    bitint e = (d & MASK2) | MASK3;
    if (!(e & MASK4)) return i + ((char*)&e - (char*)s1);
  }