if (primitive_info == (PrimitiveInfo *) NULL)
    return((PathInfo *) NULL);

  // Count the number of valid primitives
  for (n = 0; primitive_info[n].primitive != UndefinedPrimitive; n++)
    ;

  if (n == 0)
    return((PathInfo *) NULL);

  // Allocate memory for the path information array
  path_info = (PathInfo *) AcquireQuantumMemory((size_t) (2 * n + 1), sizeof(*path_info));
  if (path_info == (PathInfo *) NULL)
    return((PathInfo *) NULL);

  // Initialize variables
  n = 0;
  coordinates = 0;