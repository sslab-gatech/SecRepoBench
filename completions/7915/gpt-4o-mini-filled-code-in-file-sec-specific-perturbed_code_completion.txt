size_t number_primitives = 0;
  for (i = 0; primitive_info[i].primitive != UndefinedPrimitive; i++)
  {
    if (primitive_info[i].primitive != UndefinedPrimitive)
      number_primitives++;
  }

  PathInfo *path_info = (PathInfo *) AcquireQuantumMemory((size_t)(number_primitives + 1), sizeof(*path_info));
  if (path_info == (PathInfo *) NULL)
    return (PathInfo *) NULL;

  for (i = 0; i < number_primitives; i++)
  {
    path_info[i].code = MoveToCode; // Initialize with MoveToCode
    path_info[i].point = primitive_info[i].point; // Set the point
  }
  path_info[number_primitives].code = EndCode; // End the path
  path_info[number_primitives].point.x = 0.0; // Dummy value
  path_info[number_primitives].point.y = 0.0; // Dummy value

  return path_info;