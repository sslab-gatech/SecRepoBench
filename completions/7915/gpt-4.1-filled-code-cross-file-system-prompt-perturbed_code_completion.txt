if ((primitive_info == (const PrimitiveInfo *) NULL) ||
      (primitive_info[0].primitive == UndefinedPrimitive))
    return((PathInfo *) NULL);

  // Count the number of primitives (not undefined)
  for (n=0; primitive_info[n].primitive != UndefinedPrimitive; n++) ;
  if (n == 0)
    return((PathInfo *) NULL);

  // Allocate memory for path_info (+2 for possible ghostline/close and end)
  path_info=(PathInfo *) AcquireQuantumMemory((size_t) (n+2),sizeof(*path_info));
  if (path_info == (PathInfo *) NULL)
    return((PathInfo *) NULL);

  n=0;
  coordinates=0;
  start=0;
  q.x=0.0;
  q.y=0.0;