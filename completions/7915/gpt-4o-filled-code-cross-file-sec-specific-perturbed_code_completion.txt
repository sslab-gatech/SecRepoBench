if (primitive_info == NULL || primitive_info[0].primitive == UndefinedPrimitive)
    return NULL;

  // Count the number of valid primitives
  for (n = 0; primitive_info[n].primitive != UndefinedPrimitive; n++)
    ;

  // Allocate memory for path_info
  path_info = (PathInfo *) malloc((n + 2) * sizeof(*path_info));
  if (path_info == NULL)
    return NULL;

  // Initialize variables
  coordinates = 0;
  n = 0;