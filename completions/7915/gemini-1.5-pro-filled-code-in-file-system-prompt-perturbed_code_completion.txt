switch (primitive_info[0].primitive)
  {
    case PointPrimitive:
    case ColorPrimitive:
    case AlphaPrimitive:
    case TextPrimitive:
    case ImagePrimitive:
      number_coordinates=primitive_info->coordinates;
      break;
    default:
    {
      /*
        Path primitives must be closed before being converted to a path.
      */
      for (i=0; primitive_info[i].primitive != UndefinedPrimitive; i+=
           primitive_info[i].coordinates)
        if (primitive_info[i].primitive != primitive_info[0].primitive)
          {
            status=MagickFalse;
            break;
          }
      if (status == MagickFalse)
        return((PathInfo *) NULL);
      for (i=0; primitive_info[i].primitive != UndefinedPrimitive; i++)
        number_coordinates++;
      break;
    }
  }
  if (number_coordinates == 0)
    return((PathInfo *) NULL);
  path_info=(PathInfo *) AcquireQuantumMemory((size_t) (number_coordinates+1),
    sizeof(*path_info));
  if (path_info == (PathInfo *) NULL)
    return((PathInfo *) NULL);
  coordinates=0;
  n=0;
  q=path_info;