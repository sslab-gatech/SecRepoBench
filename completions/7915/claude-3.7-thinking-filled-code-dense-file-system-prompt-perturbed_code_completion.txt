if (primitive_info->primitive == UndefinedPrimitive)
  return((PathInfo *) NULL);

// Count the primitives to determine storage requirements
for (i=0; primitive_info[i].primitive != UndefinedPrimitive; i++);

// Allocate the path_info array with enough space
path_info=(PathInfo *) AcquireMagickMemory((size_t) (3*i+7)*sizeof(*path_info));
if (path_info == (PathInfo *) NULL)
  return((PathInfo *) NULL);

// Initialize tracking variables
n=0;
coordinates=0;
q.x=(-1.0);
q.y=(-1.0);