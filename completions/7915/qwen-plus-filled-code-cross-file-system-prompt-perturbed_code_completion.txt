if (primitive_info[0].primitive != LinePrimitive && 
    primitive_info[0].primitive != PolylinePrimitive &&
    primitive_info[0].primitive != PolygonPrimitive &&
    primitive_info[0].primitive != PathPrimitive)
{
  return (PathInfo *) NULL;
}

n = 0;
for (i = 0; primitive_info[i].primitive != UndefinedPrimitive; i++) 
{
  if (primitive_info[i].primitive == UndefinedPrimitive)
    continue;
  n++;
}

path_info = (PathInfo *) AcquireQuantumMemory(n + 1, sizeof(*path_info));
if (path_info == (PathInfo *) NULL)
  return (PathInfo *) NULL;

coordinates = 0;
start_point.x = start_point.y = 0.0;
q.x = q.y = 0.0;