ex(dest, "wb", REPORT_ERRORS, NULL, ctx);

	if (!deststream) {
		php_stream_close(srcstream);
		return ret;
	}

	if (php_stream_copy_to_stream(srcstream, deststream, PHP_STREAM_COPY_ALL) == SUCCESS) {
		ret = SUCCESS;
	}

	php_stream_close(srcstream);
	php_stream_close(deststream);

	return ret;
}
/* }}} */

/* {{{ php_copy_file_contents */
PHPAPI int php_copy_file_contents(php_stream *src, php_stream *dest)
{
	return php_stream_copy_to_stream(src, dest, PHP_STREAM_COPY_ALL);
}
/* }}} */

/* {{{ php_copy_file_contents_ctx */
PHPAPI int php_copy_file_contents_ctx(php_stream *src, php_stream *dest, php_stream_context *ctx)
{
	return php_stream_copy_to_stream_ctx(src, dest, PHP_STREAM_COPY_ALL, ctx);
}
/* }}} */

/* {{{ php_copy_file_contents_ex */
PHPAPI int php_copy_file_contents_ex(php_stream *src, php_stream *dest, int src_flg)
{
	return php_stream_copy_to_stream_ex(src, dest, PHP_STREAM_COPY_ALL, NULL, src_flg);
}
/* }}} */

/* {{{ php_copy_file_contents_ctx_ex */
PHPAPI int php_copy_file_contents_ctx_ex(php_stream *src, php_stream *dest, int src_flg, php_stream_context *ctx)
{
	return php_stream_copy_to_stream_ctx_ex(src, dest, PHP_STREAM_COPY_ALL, ctx, src_flg);
}
/* }}} */

/* {{{ php_copy_file_contents_to_mem */
PHPAPI zend_string *php_copy_file_contents_to_mem(php_stream *src)
{
	return php_stream_copy_to_mem(src, PHP_STREAM_COPY_ALL, 0);
}
/* }}} */

/* {{{ php_copy_file_contents_to_mem_ctx */
PHPAPI zend_string *php_copy_file_contents_to_mem_ctx(php_stream *src, php_stream_context *ctx)
{
	return php_stream_copy_to_mem_ctx(src, PHP_STREAM_COPY_ALL, ctx);
}
/* }}} */

/* {{{ php_copy_file_contents_to_mem_ex */
PHPAPI zend_string *php_copy_file_contents_to_mem_ex(php_stream *src, int src_flg)
{
	return php_stream_copy_to_mem_ex(src, PHP_STREAM_COPY_ALL, NULL, src_flg);
}
/* }}} */

/* {{{ php_copy_file_contents_to_mem_ctx_ex */
PHPAPI zend_string *php_copy_file_contents_to_mem_ctx_ex(php_stream *src, int src_flg, php_stream_context *ctx)
{
	return php_stream_copy_to_mem_ctx_ex(src, PHP_STREAM_COPY_ALL, ctx, src_flg);
}
/* }}} */

/* {{{ php_copy_file_contents_to_stream */
PHPAPI int php_copy_file_contents_to_stream(php_stream *src, php_stream *dest)
{
	return php_stream_copy_to_stream(src, dest, PHP_STREAM_COPY_ALL);
}
/* }}} */

/* {{{ php_copy_file_contents_to_stream_ctx */
PHPAPI int php_copy_file_contents_to_stream_ctx(php_stream *src, php_stream *dest, php_stream_context *ctx)
{
	return php_stream_copy_to_stream_ctx(src, dest, PHP_STREAM_COPY_ALL, ctx);
}
/* }}} */

/* {{{ php_copy_file_contents_to_stream_ex */
PHPAPI int php_copy_file_contents_to_stream_ex(php_stream *src, php_stream *dest, int src_flg)
{
	return php_stream_copy_to_stream_ex(src, dest, PHP_STREAM_COPY_ALL, NULL, src_flg);
}
/* }}} */

/* {{{ php_copy_file_contents_to_stream_ctx_ex */
PHPAPI int php_copy_file_contents_to_stream_ctx_ex(php_stream *src, php_stream *dest, int src_flg, php_stream_context *ctx)
{
	return php_stream_copy_to_stream_ctx_ex(src, dest, PHP_STREAM_COPY_ALL, ctx, src_flg);
}
/* }}} */

/* {{{ php_copy_file_contents_to_mem_ex */
PHPAPI zend_string *php_copy_file_contents_to_mem_ex(php_stream *src, int src_flg)
{
	return php_stream_copy_to_mem_ex(src, PHP_STREAM_COPY_ALL, NULL, src_flg);
}
/* }}} */

/* {{{ php_copy_file_contents_to_mem_ctx_ex */
PHPAPI zend_string *php_copy_file_contents_to_mem_ctx_ex(php_stream *src, int src_flg, php_stream_context *ctx)
{
	return php_stream_copy_to_mem_ctx_ex(src, PHP_STREAM_COPY_ALL, ctx, src_flg);
}
/* }}} */

/* {{{ php_copy_file_contents_to_stream */
PHPAPI int php_copy_file_contents_to_stream(php_stream *src, php_stream *dest)
{
	return php_stream_copy_to_stream(src, dest, PHP_STREAM_COPY_ALL);
}
/* }}} */

/* {{{ php_copy_file_contents_to_stream_ctx */
PHPAPI int php_copy_file_contents_to_stream_ctx(php_stream *src, php_stream *dest, php_stream_context *ctx)
{
	return php_stream_copy_to_stream_ctx(src, dest, PHP_STREAM_COPY_ALL, ctx);
}
/* }}} */

/* {{{ php_copy_file_contents_to_stream_ex */
PHPAPI int php_copy_file_contents_to_stream_ex(php_stream *src, php_stream *dest, int src_flg)
{
	return php_stream_copy_to_stream_ex(src, dest, PHP_STREAM_COPY_ALL, NULL, src_flg);
}
/* }}} */

/* {{{ php_copy_file_contents_to_stream_ctx_ex */
PHPAPI int php_copy_file_contents_to_stream_ctx_ex(php_stream *src, php_stream *dest, int src_flg, php_stream_context *ctx)
{
	return php_stream_copy_to_stream_ctx_ex(src, dest, PHP_STREAM_COPY_ALL, ctx, src_flg);
}
/* }}} */

/* {{{ php_copy_file_contents_to_mem */
PHPAPI zend_string *php_copy_file_contents_to_mem(php_stream *src)
{
	return php_stream_copy_to_mem(src, PHP_STREAM_COPY_ALL, 0);
}
/* }}} */

/* {{{ php_copy_file_contents_to_mem_ctx */
PHPAPI zend_string *php_copy_file_contents_to_mem_ctx(php_stream *src, php_stream_context *ctx)
{
	return php_stream_copy_to_mem_ctx(src, PHP_STREAM_COPY_ALL, ctx);
}
/* }}} */

/* {{{ php_copy_file_contents_to_mem_ex */
PHPAPI zend_string *php_copy_file_contents_to_mem_ex(php_stream *src, int src_flg)
{
	return php_stream_copy_to_mem_ex(src, PHP_STREAM_COPY_ALL, NULL, src_flg);
}
/* }}} */

/* {{{ php_copy_file_contents_to_mem_ctx_ex */
PHPAPI zend_string *php_copy_file_contents_to_mem_ctx_ex(php_stream *src, int src_flg, php_stream_context *ctx)
{
	return php_stream_copy_to_mem_ctx_ex(src, PHP_STREAM_COPY_ALL, ctx, src_flg);
}
/* }}} */

/* {{{ php_copy_file_contents_to_stream */
PHPAPI int php_copy_file_contents_to_stream(php_stream *src, php_stream *dest)
{
	return php_stream_copy_to_stream(src, dest, PHP_STREAM_COPY_ALL);
}
/* }}} */

/* {{{ php_copy_file_contents_to_stream_ctx */
PHPAPI int php_copy_file_contents_to_stream_ctx(php_stream *src, php_stream *dest, php_stream_context *ctx)
{
	return php_stream_copy_to_stream_ctx(src, dest, PHP_STREAM_COPY_ALL, ctx);
}
/* }}} */

/* {{{ php_copy_file_contents_to_stream_ex */
PHPAPI int php_copy_file_contents_to_stream_ex(php_stream *src, php_stream *dest, int src_flg)
{
	return php_stream_copy_to_stream_ex(src, dest, PHP_STREAM_COPY_ALL, NULL, src_flg);
}
/* }}} */

/* {{{ php_copy_file_contents_to_stream_ctx_ex */
PHPAPI int php_copy_file_contents_to_stream_ctx_ex(php_stream *src, php_stream *dest, int src_flg, php_stream_context *ctx)
{
	return php_stream_copy_to_stream_ctx_ex(src, dest, PHP_STREAM_COPY_ALL, ctx, src_flg);
}
/* }}} */

/* {{{ php_copy_file_contents_to_mem */
PHPAPI zend_string *php_copy_file_contents_to_mem(php_stream *src)
{
	return php_stream_copy_to_mem(src, PHP_STREAM_COPY_ALL, 0);
}
/* }}} */

/* {{{ php_copy_file_contents_to_mem_ctx */
PHPAPI zend_string *php_copy_file_contents_to_mem_ctx(php_stream *src, php_stream_context *ctx)
{
	return php_stream_copy_to_mem_ctx(src, PHP_STREAM_COPY_ALL, ctx);
}
/* }}} */

/* {{{ php_copy_file_contents_to_mem_ex */
PHPAPI zend_string *php_copy_file_contents_to_mem_ex(php_stream *src, int src_flg)
{
	return php_stream_copy_to_mem_ex(src, PHP_STREAM_COPY_ALL, NULL, src_flg);
}
/* }}} */

/* {{{ php_copy_file_contents_to_mem_ctx_ex */
PHPAPI zend_string *php_copy_file_contents_to_mem_ctx_ex(php_stream *src, int src_flg, php_stream_context *ctx)
{
	return php_stream_copy_to_mem_ctx_ex(src, PHP_STREAM_COPY_ALL, ctx, src_flg);
}
/* }}} */

/* {{{ php_copy_file_contents_to_stream */
PHPAPI int php_copy_file_contents_to_stream(php_stream *src, php_stream *dest)
{
	return php_stream_copy_to_stream(src, dest, PHP_STREAM_COPY_ALL);
}
/* }}} */

/* {{{ php_copy_file_contents_to_stream_ctx */
PHPAPI int php_copy_file_contents_to_stream_ctx(php_stream *src, php_stream *dest, php_stream_context *ctx)
{
	return php_stream_copy_to_stream_ctx(src, dest, PHP_STREAM_COPY_ALL, ctx