/* Read the next line from the stream */
			char *new_buf = php_stream_get_line(csv_stream, NULL, 0, &new_len);
			if (new_buf == NULL) {
				/* Handle unterminated enclosure */
				efree(temp);
				return NULL;
			}

			/* Update the buffer and related state variables for the new line */
			temp_len += new_len;
			char *new_temp = erealloc(temp, temp_len);
			tptr = new_temp + (size_t)(tptr - temp);
			temp = new_temp;

			efree(buf);
			buf_len = new_len;
			bptr = buf = new_buf;
			hunk_begin = buf;

			line_end = limit = (char *)php_fgetcsv_lookup_trailing_spaces(buf, buf_len);
			line_end_len = buf_len - (size_t)(limit - buf);