// Skip any whitespace.
uc = json_skip_space(uc, ueend);

while (uc < ueend) {
    // Attempt to parse the next JSON element; if parsing fails, exit the loop.
    if (!json_parse(&uc, ueend, st, lvl + 1)) {
        DPRINTF("not json", uc, *ucp);
        break;
    }

    // After successfully parsing an element, check the next character to determine if it is a comma, indicating more elements, or a closing bracket, indicating the end of the array.
    uc = json_skip_space(uc, ueend);
    if (uc == ueend) {
        DPRINTF("not more", uc, *ucp);
        break;
    }
    switch (*uc++) {
    case ',':
        continue;
    case ']': /* [ */
        DPRINTF("Good array: ", uc, *ucp);
        *ucp = uc;
        return 1;
    default:
        DPRINTF("not more", uc, *ucp);
        *ucp = uc - 1;
        break;
    }
    break;
}