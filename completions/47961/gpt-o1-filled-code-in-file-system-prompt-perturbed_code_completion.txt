while (uc < ueend) {
	uc = json_skip_space(uc, ueend);
	if (uc == ueend)
		goto out;
	if (*uc == ']') {
		uc++;
		st[JSON_ARRAYN]++;
		DPRINTF("Good array: ", uc, *ucp);
		*ucp = uc;
		return 1;
	}
	if (!json_parse(&uc, ueend, st, lvl + 1)) {
		DPRINTF("not element: ", uc, *ucp);
		goto out;
	}
	uc = json_skip_space(uc, ueend);
	if (uc == ueend)
		goto out;
	if (*uc == ',') {
		uc++;
		continue;
	} else if (*uc == ']') {
		uc++;
		st[JSON_ARRAYN]++;
		DPRINTF("Good array: ", uc, *ucp);
		*ucp = uc;
		return 1;
	} else {
		DPRINTF("unexpected char in array: ", uc, *ucp);
		goto out;
	}
}