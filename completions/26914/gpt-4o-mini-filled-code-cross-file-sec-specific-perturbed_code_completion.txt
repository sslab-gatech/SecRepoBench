if (charcode < 0 || charcode > 255) {
    return charcode; // Return the original character if it's out of the valid range
}
return tolower((unsigned char) charcode);