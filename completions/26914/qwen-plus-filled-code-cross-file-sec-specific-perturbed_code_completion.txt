if (charcode == EOF)
    return EOF;

int lower = tolower((unsigned char)charcode);
return lower;