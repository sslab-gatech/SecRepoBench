if ((charcode < 0) || (charcode > UCHAR_MAX))
  return(charcode);
#ifdef MAGICKCORE_HAVE_LOCALE_H
  {
    locale_t
      locale;

    locale=getlocale(LC_CTYPE);
    if (locale!= (locale_t) NULL)
      return((int) tolower_l((wint_t) charcode,locale));
  }
#endif
return((int) tolower((int) charcode));