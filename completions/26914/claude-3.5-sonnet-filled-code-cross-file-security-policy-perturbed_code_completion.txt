if (charcode >= 0 && charcode <= UCHAR_MAX) {
#if defined(MAGICKCORE_HAVE_LOCALE_H)
  return(tolower_l((int) ((unsigned char) charcode), AcquireDefaultLocale()));
#else
  return(tolower((int) ((unsigned char) charcode)));
#endif
} else {
  return charcode;
}