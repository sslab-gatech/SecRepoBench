if (charcode == EOF)
    return EOF;

return tolower((unsigned char) charcode);