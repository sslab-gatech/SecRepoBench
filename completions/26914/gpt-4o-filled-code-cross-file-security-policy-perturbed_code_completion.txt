if (charcode == EOF || charcode < 0 || charcode > UCHAR_MAX)
    return charcode;
  return tolower((unsigned char) charcode);