if (length == 0)
            {
              /*
                Sequence item of undefined length.
              */
              quantum=0;
              length=0;
            }
          data=(unsigned char *) AcquireQuantumMemory(length,sizeof(*data));
          if (data == (unsigned char *) NULL)
            ThrowDCMException(ResourceLimitError,"MemoryAllocationFailed")
          count=ReadBlob(image,length,data);
          if (count != (ssize_t) length)
            {
              data=(unsigned char *) RelinquishMagickMemory(data);
              ThrowDCMException(CorruptImageError,"ImproperImageHeader")
            }
          if (image_info->verbose != MagickFalse)
            (void) FormatLocaleFile(stdout,"%lu bytes\n",(unsigned long) count);
          if (image->debug != MagickFalse)
            (void) DisplayBlob(image,data,length);
          if (image->endian == MSBEndian)
            {
              if (quantum == 4)
                {
                  for (i=0; i < (ssize_t) length; i+=4)
                    {
                      datum=data[i];
                      data[i]=data[i+3];
                      data[i+3]=datum;
                      datum=data[i+1];
                      data[i+1]=data[i+2];
                      data[i+2]=datum;
                    }
                }
              else
                if (quantum == 2)
                  {
                    for (i=0; i < (ssize_t) length; i+=2)
                    {
                      datum=data[i];
                      data[i]=data[i+1];
                      data[i+1]=datum;
                    }
                  }
            }
          if (image->endian == LSBEndian)
            {
              if (quantum == 4)
                {
                  for (i=0; i < (ssize_t) length; i+=4)
                    {
                      datum=data[i];
                      data[i]=data[i+3];
                      data[i+3]=datum;
                      datum=data[i+1];
                      data[i+1]=data[i+2];
                      data[i+2]=datum;
                    }
                }
              else
                if (quantum == 2)
                  {
                    for (i=0; i < (ssize_t) length; i+=2)
                    {
                      datum=data[i];
                      data[i]=data[i+1];
                      data[i+1]=datum;
                    }
                  }
            }
          if (image->endian == LSB2MSBEndian)
            {
              if (quantum == 4)
                {
                  for (i=0; i < (ssize_t) length; i+=4)
                    {
                      datum=data[i];
                      data[i]=data[i+3];
                      data[i+3]=datum;
                      datum=data[i+1];
                      data[i+1]=data[i+2];
                      data[i+2]=datum;
                    }
                }
              else
                if (quantum == 2)
                  {
                    for (i=0; i < (ssize_t) length; i+=2)
                    {
                      datum=data[i];
                      data[i]=data[i+1];
                      data[i+1]=datum;
                    }
                  }
            }
          if (image->endian == MSB2LSBEndian)
            {
              if (quantum == 4)
                {
                  for (i=0; i < (ssize_t) length; i+=4)
                    {
                      datum=data[i];
                      data[i]=data[i+3];
                      data[i+3]=datum;
                      datum=data[i+1];
                      data[i+1]=data[i+2];
                      data[i+2]=datum;
                    }
                }
              else
                if (quantum == 2)
                  {
                    for (i=0; i < (ssize_t) length; i+=2)
                    {
                      datum=data[i];
                      data[i]=data[i+1];
                      data[i+1]=datum;
                    }
                  }
            }
          if (image->endian == UndefinedEndian)
            {
              if (quantum == 4)
                {
                  for (i=0; i < (ssize_t) length; i+=4)
                    {
                      datum=data[i];
                      data[i]=data[i+3];
                      data[i+3]=datum;
                      datum=data[i+1];
                      data[i+1]=data[i+2];
                      data[i+2]=datum;
                    }
                }
              else
                if (quantum == 2)
                  {
                    for (i=0; i < (ssize_t) length; i+=2)
                    {
                      datum=data[i];
                      data[i]=data[i+1];
                      data[i+1]=datum;
                    }
                  }
            }
          if (image->endian == LSBEndian)
            {
              if (quantum == 4)
                {
                  for (i=0; i < (ssize_t) length; i+=4)
                    {
                      datum=data[i];
                      data[i]=data[i+3];
                      data[i+3]=datum;
                      datum=data[i+1];
                      data[i+1]=data[i+2];
                      data[i+2]=datum;
                    }
                }
              else
                if (quantum == 2)
                  {
                    for (i=0; i < (ssize_t) length; i+=2)
                    {
                      datum=data[i];
                      data[i]=data[i+1];
                      data[i+1]=datum;
                    }
                  }
            }
          if (image->endian == MSBEndian)
            {
              if (quantum == 4)
                {
                  for (i=0; i < (ssize_t) length; i+=4)
                    {
                      datum=data[i];
                      data[i]=data[i+3];
                      data[i+3]=datum;
                      datum=data[i+1];
                      data[i+1]=data[i+2];
                      data[i+2]=datum;
                    }
                }
              else
                if (quantum == 2)
                  {
                    for (i=0; i < (ssize_t) length; i+=2)
                    {
                      datum=data[i];
                      data[i]=data[i+1];
                      data[i+1]=datum;
                    }
                  }
            }
          if (image->endian == LSB2MSBEndian)
            {
              if (quantum == 4)
                {
                  for (i=0; i < (ssize_t) length; i+=4)
                    {
                      datum=data[i];
                      data[i]=data[i+3];
                      data[i+3]=datum;
                      datum=data[i+1];
                      data[i+1]=data[i+2];
                      data[i+2]=datum;
                    }
                }
              else
                if (quantum == 2)
                  {
                    for (i=0; i < (ssize_t) length; i+=2)
                    {
                      datum=data[i];
                      data[i]=data[i+1];
                      data[i+1]=datum;
                    }
                  }
            }
          if (image->endian == MSB2LSBEndian)
            {
              if (quantum == 4)
                {
                  for (i=0; i < (ssize_t) length; i+=4)
                    {
                      datum=data[i];
                      data[i]=data[i+3];
                      data[i+3]=datum;
                      datum=data[i+1];
                      data[i+1]=data[i+2];
                      data[i+2]=datum;
                    }
                }
              else
                if (quantum == 2)
                  {
                    for (i=0; i < (ssize_t) length; i+=2)
                    {
                      datum=data[i];
                      data[i]=data[i+1];
                      data[i+1]=datum;
                    }
                  }
            }
          if (image->endian == UndefinedEndian)
            {
              if (quantum == 4)
                {
                  for (i=0; i < (ssize_t) length; i+=4)
                    {
                      datum=data[i];
                      data[i]=data[i+3];
                      data[i+3]=datum;
                      datum=data[i+1];
                      data[i+1]=data[i+2];
                      data[i+2]=datum;
                    }
                }
              else
                if (quantum == 2)
                  {
                    for (i=0; i < (ssize_t) length; i+=2)
                    {
                      datum=data[i];
                      data[i]=data[i+1];
                      data[i+1]=datum;
                    }
                  }
            }
          if (image->endian == LSBEndian)
            {
              if (quantum == 4)
                {
                  for (i=0; i < (ssize_t) length; i+=4)
                    {
                      datum=data[i];
                      data[i]=data[i+3];
                      data[i+3]=datum;
                      datum=data[i+1];
                      data[i+1]=data[i+2];
                      data[i+2]=datum;
                    }
                }
              else
                if (quantum == 2)
                  {
                    for (i=0; i < (ssize_t) length; i+=2)
                    {
                      datum=data[i];
                      data[i]=data[i+1];
                      data[i+1]=datum;
                    }
                  }
            }
          if (image->endian == MSBEndian)
            {
              if (quantum == 4)
                {
                  for (i=0; i < (ssize_t) length; i+=4)
                    {
                      datum=data[i];
                      data[i]=data[i+3];
                      data[i+3]=datum;
                      datum=data[i+1];
                      data[i+1]=data[i+2];
                      data[i+2]=datum;
                    }
                }
              else
                if (quantum == 2)
                  {
                    for (i=0; i < (ssize_t) length; i+=2)
                    {
                      datum=data[i];
                      data[i]=data[i+1];
                      data[i+1]=datum;
                    }
                  }
            }
          if (image->endian == LSB2MSBEndian)
            {
              if (quantum == 4)
                {
                  for (i=0; i < (ssize_t) length; i+=4)
                    {
                      datum=data[i];
                      data[i]=data[i+3];
                      data[i+3]=datum;
                      datum=data[i+1];
                      data[i+1]=data[i+2];
                      data[i+2]=datum;
                    }
                }
              else
                if (quantum == 2)
                  {
                    for (i=0; i < (ssize_t) length; i+=2)
                    {
                      datum=data[i];
                      data[i]=data[i+1];
                      data[i+1]=datum;
                    }
                  }
            }
          if (image->endian == MSB2LSBEndian)
            {
              if (quantum == 4)
                {
                  for (i=0; i < (ssize_t) length; i+=4)
                    {
                      datum=data[i];
                      data[i]=data[i+3];
                      data[i+3]=datum;
                      datum=data[i+1];
                      data[i+1]=data[i+2];
                      data[i+2]=datum;
                    }
                }
              else
                if (quantum == 2)
                  {
                    for (i=0; i < (ssize_t) length; i+=2)
                    {
                      datum=data[i];
                      data[i]=data[i+1];
                      data[i+1]=datum;
                    }
                  }
            }
          if (image->endian == UndefinedEndian)
            {
              if (quantum ==