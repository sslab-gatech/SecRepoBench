char
  buffer[MagickPathExtent];

const char
  *value;

switch (format)
{
  case EXIF_FMT_BYTE:
  case EXIF_FMT_UNDEFINED:
  {
    value=(char *) NULL;
    if (~((size_t) number_bytes) >= 1)
      value=(char *) AcquireQuantumMemory((size_t) number_bytes+1UL,
        sizeof(*value));
    if (value != (char *) NULL)
    {
      for (i=0; i < (ssize_t) number_bytes; i++)
      {
        value[i]='.';
        if (isprint((int) p[i]) != 0)
          value[i]=(char) p[i];
      }
      value[i]='\0';
    }
    break;
  }
  case EXIF_FMT_SBYTE:
  case EXIF_FMT_SSHORT:
  case EXIF_FMT_SLONG:
  case EXIF_FMT_SRATIONAL:
  {
    value=(char *) NULL;
    break;
  }
  case EXIF_FMT_USHORT:
  case EXIF_FMT_ULONG:
  case EXIF_FMT_URATIONAL:
  {
    value=(char *) NULL;
    break;
  }
  case EXIF_FMT_SINGLE:
  case EXIF_FMT_DOUBLE:
  {
    value=(char *) NULL;
    break;
  }
  case EXIF_FMT_STRING:
  default:
  {
    if ((p < exif_data) || (p > (exif_data+length-number_bytes)))
      break;
    value=(char *) NULL;
    if (~((size_t) number_bytes) >= 1)
      value=(char *) AcquireQuantumMemory((size_t) number_bytes+1UL,
        sizeof(*value));
    if (value != (char *) NULL)
    {
      for (i=0; i < (ssize_t) number_bytes; i++)
      {
        value[i]='.';
        if ((isprint((int) p[i]) != 0) || (p[i] == '\0'))
          value[i]=(char) p[i];
      }
      value[i]='\0';
    }
    break;
  }
}