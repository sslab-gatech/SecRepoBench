char
  buffer[MagickPathExtent];

const char
  *string;

buffer[0] = '\0';
string = (char *) NULL;
if (p > (exif_data+length-number_bytes))
  break;
if (GetValueFromSplayTree(exif_resources,p) == p)
  break;
(void) AddValueToSplayTree(exif_resources,p,p);
switch (format)
{
  case EXIF_FMT_BYTE:
  case EXIF_FMT_SBYTE:
  case EXIF_FMT_UNDEFINED:
  {
    value=(char *) NULL;
    if (~((size_t) number_bytes) >= 1)
      value=(char *) AcquireQuantumMemory((size_t) number_bytes+1UL,
        sizeof(*value));
    if (value != (char *) NULL)
    {
      for (i=0; i < (ssize_t) number_bytes; i++)
      {
        value[i]='.';
        if (isprint((int) p[i]) != 0)
          value[i]=(char) p[i];
      }
      value[i]='\0';
    }
    break;
  }
  case EXIF_FMT_STRING:
  {
    value=(char *) NULL;
    if (~((size_t) number_bytes) >= 1)
      value=(char *) AcquireQuantumMemory((size_t) number_bytes+1UL,
        sizeof(*value));
    if (value != (char *) NULL)
    {
      for (i=0; i < (ssize_t) number_bytes; i++)
      {
        value[i]='.';
        if ((isprint((int) p[i]) != 0) || (p[i] == '\0'))
          value[i]=(char) p[i];
      }
      value[i]='\0';
    }
    break;
  }
  case EXIF_FMT_SHORT:
  case EXIF_FMT_SSHORT:
  {
    EXIFMultipleValues("%d",ReadPropertySignedShort(endian,p));
    break;
  }
  case EXIF_FMT_LONG:
  case EXIF_FMT_SLONG:
  {
    EXIFMultipleValues("%d",ReadPropertySignedLong(endian,p));
    break;
  }
  case EXIF_FMT_RATIONAL:
  case EXIF_FMT_SRATIONAL:
  {
    EXIFMultipleFractions("%d/%d",ReadPropertySignedLong(endian,p),
      ReadPropertySignedLong(endian,p+4));
    break;
  }
  case EXIF_FMT_DOUBLE:
  case EXIF_FMT_FLOAT:
  {
    EXIFMultipleValues("%g",(double) *((float *) p));
    break;
  }
  default:
    break;
}