// Initialize a buffer to store formatted property values and a pointer for the value.
char buffer[MagickPathExtent];
char *value = NULL;

// Check if the pointer `p` is within the bounds of the EXIF data.
if (p >= exif_data && p < exif_data + length) {
    // If the format is not valid, break the loop.
    if (format >= sizeof(tag_bytes) / sizeof(*tag_bytes)) {
        break;
    }

    // Reset the buffer and initialize the value pointer to NULL.
    value = NULL;
    if (~((size_t) number_bytes) >= 1) {
        value = (char *) AcquireQuantumMemory((size_t) number_bytes + 1UL, sizeof(*value));
    }
    if (value != (char *) NULL) {
        for (i = 0; i < (ssize_t) number_bytes; i++) {
            value[i] = '.';
            if (isprint((int) p[i]) != 0) {
                value[i] = (char) p[i];
            }
        }
        value[i] = '\0';
    }
}