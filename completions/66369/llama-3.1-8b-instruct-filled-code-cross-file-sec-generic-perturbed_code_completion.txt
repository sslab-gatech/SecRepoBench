// <MASK>
tm->blk->m = tm->m;
tm->m = kh_get(m_s2i, c->comp_hdr->TD_hash, key);
if (tm->m == (khint_t)-1) {
    tm->m = kh_put(m_s2i, c->comp_hdr->TD_hash, key, &new);
    if (new < 0) {
        goto err;
    } else if (new == 0) {
        BLOCK_SIZE(td_b) = TD_blk_size;
    } else {
        kh_val(c->comp_hdr->TD_hash, tm->m) = c->comp_hdr->nTL;
        c->comp_hdr->nTL++;
    }
} else {
    BLOCK_SIZE(td_b) = TD_blk_size;
}