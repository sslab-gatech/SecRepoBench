if (prefix == NULL) {
    if (strncmp((const char *)key_name, (const char *)entry->name, len) == 0 &&
        (entry->name[len] == 0 || entry->name[len] == '\0')) {
        found = 1;
        break;
    }
} else {
    if (xmlStrEqual(prefix, entry->prefix) &&
        xmlStrEqualLen(key_name, entry->name, len)) {
        found = 1;
        break;
    }
}