if (prefix == NULL) {
    if ((len == xmlStrlen(entry->name)) &&
        (xmlStrncmp(entry->name, key_name, len) == 0) &&
        (entry->name[len] == 0)) {
        found = 1;
        break;
    }
} else {
    if (xmlStrEqual(entry->name, prefix) == 0)
        continue;
    if (xmlStrncmp(entry->name + xmlStrlen(prefix) + 1, key_name, len) == 0) {
        found = 1;
        break;
    }
}