if (prefix == NULL) {
    if ((len == entry->len) &&
        (xmlStrncmp(key_name, entry->name, len) == 0) &&
        (entry->name[len] == 0)) {
        found = 1;
        break;
    }
} else {
    if (xmlStrEqual(prefix, entry->prefix) &&
        (len == entry->len) &&
        (xmlStrncmp(key_name, entry->name, len) == 0)) {
        found = 1;
        break;
    }
}