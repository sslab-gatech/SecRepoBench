(prefix == NULL) {
    if (len >= 0 && len <= entry->nameLen &&
        memcmp(entry->name, key_name, len) == 0 &&
        entry->name[len] == 0) {
        found = 1;
        break;
    }
} else {
    if (xmlDictCompareQNames(entry->name, entry->nameLen,
                             prefix, key_name, len) == 0) {
        found = 1;
        break;
    }
}