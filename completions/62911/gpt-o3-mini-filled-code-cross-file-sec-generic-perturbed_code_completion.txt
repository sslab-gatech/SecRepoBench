if (prefix == NULL) {
    /* Compare unqualified names: compare len bytes and ensure the entry's name is null-terminated */
    if ((xmlStrncmp(entry->name, key_name, len) == 0) && (entry->name[len] == 0)) {
        found = 1;
        break;
    }
} else {
    /* Compare qualified names: split the dictionary entry's name at ':' */
    const xmlChar *colon = xmlStrchr(entry->name, ':');
    if (colon != NULL) {
        int entryPrefixLen = colon - entry->name;
        /* Check that the prefix exactly matches and the local name equals key_name */
        if ((xmlStrncmp(entry->name, prefix, entryPrefixLen) == 0) &&
            (prefix[entryPrefixLen] == 0) &&
            (xmlStrcmp(colon + 1, key_name) == 0)) {
            found = 1;
            break;
        }
    }
}