if (entry->name[0] == '\0' || len < 0 || len > (int)xmlStrlen(entry->name)) {
    found = 0;
} else if (prefix == NULL) {
    if (xmlStrncmp(key_name, entry->name, len) == 0 && entry->name[len] == '\0') {
        found = 1;
    }
} else {
    found = xmlDictQNameEqual(prefix, key_name, entry->name);
}