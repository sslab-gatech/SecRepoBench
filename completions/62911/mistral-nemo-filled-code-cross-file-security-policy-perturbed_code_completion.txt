if (entry->name == NULL || len == 0) {
    *pfound = 0;
    continue;
}

if (prefix == NULL) {
    if (len == -1) {
        len = xmlStrlen(key_name);
    }
    if (xmlStrncmp(entry->name, key_name, len) == 0 &&
        entry->name[len] == '\0') {
        *pfound = 1;
        break;
    }
} else {
    if (xmlDictQName(entry->name, prefix, key_name, len) == 0) {
        *pfound = 1;
        break;
    }
}