if (prefix == NULL) {
    if ((len > 0) && 
        (memcmp(entry->name, key_name, len * sizeof(xmlChar)) == 0) &&
        (entry->name[len] == '\0')) {
        found = 1;
        break;
    }
} else {
    if (xmlDictCompareQNames(entry->name, entry->prefix, key_name, prefix, len)) {
        found = 1;
        break;
    }
}