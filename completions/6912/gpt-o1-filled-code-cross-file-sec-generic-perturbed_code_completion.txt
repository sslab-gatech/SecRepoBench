s = t;
while (*s != '\0')
{
  /* Skip any leading whitespace */
  while (isspace((int)*s) != 0)
    s++;
  if (*s == '\0')
    break;

  /* Attempt to convert a segment to a double */
  {
    char *end_s;
    (void) StringToDouble(s, &end_s);
    if (end_s == s)
    {
      /* No valid number found; move on */
      s++;
      continue;
    }
    /* Valid number found; increment points_extent */
    points_extent++;
    s = end_s;
  }
}

/* Scale the estimated number of points by a factor related to BezierQuantum */
points_extent *= BezierQuantum;