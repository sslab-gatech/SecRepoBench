// Iterate over the token string, converting each segment to a double.
// For each successful conversion, increment the points_extent counter.
// Scale the points_extent by a factor related to BezierQuantum.
for (p = q; *p!= '\0'; p++)
{
    double value;
    char *next_token;

    value = StringToDouble(p, &next_token);
    if (p == next_token)
        break;
    p = next_token;
    points_extent++;
}
points_extent *= BezierQuantum;