// Calculate the extent of points needed for a path primitive.
// Iterate over the token string, converting each segment to a double.
// For each successful conversion, increment the points_extent counter.
// Scale the points_extent by a factor related to BezierQuantum.
points_extent = 1;
t = primitive_token;
while (*t != '\0') {
    if (IsPoint(t)) {
        double x, y;
        x = StringToDouble(t, &next_token);
        if (t != next_token) {
            y = StringToDouble(next_token, &next_token);
            if (t != next_token) {
                points_extent += BezierQuantum;
                t = next_token;
                continue;
            }
        }
    }
    t++;
}