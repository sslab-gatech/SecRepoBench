for (s = t; *s!= '\0'; s++)
  if (isalpha((int) *s))
    number_attributes++;
if (i > (ssize_t) (number_points-6*BezierQuantum*number_attributes-1))
  {
    number_points += 6*BezierQuantum*number_attributes;
    primitive_info = (PrimitiveInfo *) ResizeQuantumMemory(primitive_info,
      number_points,sizeof(*primitive_info));
    if (primitive_info == (PrimitiveInfo *) NULL)
      {
        (void) ThrowMagickException(exception,GetMagickModule(),
          ResourceLimitError,"MemoryAllocationFailed","`%s'",image->filename);
        break;
      }
  }
points_extent = 1;
t = primitive_token;
for (p = t; *p!= '\0'; p++)
  if (isalpha((int) *p))
    {
      GetNextToken(p,&p,extent,primitive_token);
      if (IsPoint(primitive_token)!= MagickFalse)
        {
          double
            x,
            y;

          x = StringToDouble(primitive_token,&next_token);
          if (primitive_token == next_token)
            ThrowPointExpectedException(primitive_token,exception);
          GetNextToken(p,&p,extent,primitive_token);
          if (*primitive_token == ',')
            GetNextToken(p,&p,extent,primitive_token);
          y = StringToDouble(primitive_token,&next_token);
          if (primitive_token == next_token)
            ThrowPointExpectedException(primitive_token,exception);
          points_extent++;
        }
      else
        points_extent++;
    }
points_extent *= BezierQuantum;