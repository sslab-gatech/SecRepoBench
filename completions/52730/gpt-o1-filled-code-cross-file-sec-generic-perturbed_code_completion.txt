if (codeLength < SHORT_ZEROCODE_RUN)
        {
            // A non-zero code length indicates a valid symbol code length.
            // If codeLength is zero, it means the symbol is not used.
            if (codeLength > 0)
            {
                if ((int)codeLength < fhd->_minCodeLength)
                    fhd->_minCodeLength = (unsigned char) codeLength;
                if ((int)codeLength > fhd->_maxCodeLength)
                    fhd->_maxCodeLength = (unsigned char) codeLength;
                codeCount[codeLength]++;
            }
        }
        else if (codeLength == LONG_ZEROCODE_RUN)
        {
            // This indicates a long run of zero-coded symbols; the length
            // of the run is an additional 8 bits, plus SHORTEST_LONG_RUN.
            if (currByte >= topByte)
            {
                if (pctxt)
                    pctxt->print_error(
                        pctxt,
                        EXR_ERR_CORRUPT_CHUNK,
                        "Error decoding Huffman table (Truncated run).");
                return EXR_ERR_CORRUPT_CHUNK;
            }
            uint64_t runLen = fasthuf_read_bits(8, &currBits, &currBitCount, &currByte)
                              + SHORTEST_LONG_RUN;
            symbol += runLen - 1; // the loop increments by 1, so subtract 1 here
        }
        else
        {
            // This indicates a short run of zero-coded symbols; no additional
            // bits are required to determine the run length.
            uint64_t runLen = codeLength - SHORT_ZEROCODE_RUN + 2;
            symbol += runLen - 1; // the loop increments by 1, so subtract 1 here
        }