// Determine the index of the table entry corresponding to the given tag.
// Use the appropriate search mehtod based on table entry size.
unsigned int table_index;
if (tables.len <= 16)
{
  // Use binary search for small table
  table_index = hb_bisearch (tag, tables.as_array (), tables.len, TableRecord::cmp);
}
else
{
  // Use linear search for large table
  table_index = UINT_MAX;
  for (unsigned int i = 0; i < tables.len; i++)
  {
    if (tables[i].tag == tag)
    {
      table_index = i;
      break;
    }
  }
}
if (table_index == UINT_MAX)
  return false;
if (table_index)
  *table_index = table_index;
return true;