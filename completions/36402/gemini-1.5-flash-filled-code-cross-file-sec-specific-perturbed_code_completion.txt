if (m_table_entry_size == sizeof(hb_table_entry_small_t))
    {
      // Small table entries: perform a linear search.
      for (unsigned int i = 0; i < m_table_size; ++i)
      {
        if (m_table_small[i].tag == hb_tag)
        {
          *table_index = i;
          return true;
        }
      }
    }
    else if (m_table_entry_size == sizeof(hb_table_entry_large_t))
    {
      // Large table entries: perform a binary search.  Requires sorted table.
      unsigned int low = 0;
      unsigned int high = m_table_size - 1;
      while (low <= high)
      {
        unsigned int mid = low + (high - low) / 2;
        if (m_table_large[mid].tag == hb_tag)
        {
          *table_index = mid;
          return true;
        }
        else if (m_table_large[mid].tag < hb_tag)
        {
          low = mid + 1;
        }
        else
        {
          high = mid - 1;
        }
      }
    }
    else
    {
      // Unsupported table entry size.
      return false;
    }
    return false;