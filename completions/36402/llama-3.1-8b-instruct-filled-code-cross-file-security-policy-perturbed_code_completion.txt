bool find_table_index (hb_tag_t hb_tag, unsigned int *table_index) const
  {
    // Determine the index of the table entry corresponding to the given tag.
    // Use the appropriate search method based on table entry size.
    if (table_size <= 10) {
      // For smaller collections, use a linear search to accommodate possible unsorted entries.
      for (unsigned int i = 0; i < table_size; ++i) {
        if (table[i].tag == hb_tag) {
          *table_index = i;
          return true;
        }
      }
    } else {
      // For larger collections, use a binary search for efficiency.
      unsigned int left = 0, right = table_size - 1;
      while (left <= right) {
        unsigned int mid = left + (right - left) / 2;
        if (table[mid].tag == hb_tag) {
          *table_index = mid;
          return true;
        } else if (table[mid].tag < hb_tag) {
          left = mid + 1;
        } else {
          right = mid - 1;
        }
      }
    }
    return false;
  }