// Determine the index of the table entry corresponding to the given tag.
// Use the appropriate search method based on table entry size.
if (tables.len <= 10) {
  // Perform a linear search for smaller tables
  for (unsigned int i = 0; i < tables.len; i++) {
    if (tables.arrayZ[i].tag == hb_tag) {
      *table_index = i;
      return true;
    }
  }
} else {
  // Perform a binary search for larger tables
  const TableRecord *rec = tables.bsearch (hb_tag);
  if (rec) {
    *table_index = rec - tables.arrayZ;
    return true;
  }
}
return false;