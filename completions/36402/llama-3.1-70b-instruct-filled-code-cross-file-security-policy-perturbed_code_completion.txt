// Determine the number of table entries.
unsigned int num_table_entries = this->num_tables;

// Check if the number of table entries is small enough for a linear search.
if (num_table_entries < 10) {
  // Perform a linear search for the table entry corresponding to the given tag.
  for (unsigned int i = 0; i < num_table_entries; i++) {
    if (this->table_tags[i] == hb_tag) {
      *table_index = i;
      return true;
    }
  }
} else {
  // Perform a binary search for the table entry corresponding to the given tag.
  // This assumes that the table entries are sorted by tag.
  unsigned int low = 0;
  unsigned int high = num_table_entries - 1;
  while (low <= high) {
    unsigned int mid = (low + high) / 2;
    if (this->table_tags[mid] == hb_tag) {
      *table_index = mid;
      return true;
    } else if (this->table_tags[mid] < hb_tag) {
      low = mid + 1;
    } else {
      high = mid - 1;
    }
  }
}

// If the table entry is not found, return false.
return false;