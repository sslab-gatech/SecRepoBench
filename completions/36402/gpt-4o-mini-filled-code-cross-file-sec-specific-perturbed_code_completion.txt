if (table_index == nullptr) {
        return false; // Ensure table_index is not null
    }

    // Validate the hb_tag and set the table_index based on the tag
    switch (hb_tag) {
        case HB_OT_TAG_GSUB:
            *table_index = 0;
            break;
        case HB_OT_TAG_GPOS:
            *table_index = 1;
            break;
        default:
            return false; // Invalid tag, return false
    }

    // Ensure the table_index is within valid range
    if (*table_index >= 2) {
        return false; // Out of bounds
    }

    return true; // Successfully found the table index