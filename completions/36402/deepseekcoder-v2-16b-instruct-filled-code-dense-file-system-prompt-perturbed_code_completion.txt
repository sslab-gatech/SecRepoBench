#include <vector>
#include <algorithm>

bool find_table_index(hb_tag_t hb_tag, unsigned int *table_index) const
{
    // Determine the index of the table entry corresponding to the given tag.
    // Use the appropriate search method based on table entry size.
    std::vector<hb_tag_t> table_tags;
    unsigned int offset = 0, num_tables = 32; // Assuming a maximum of 32 tables for simplicity
    while ((hb_face_get_table_tags(source, offset, &num_tables, table_tags), num_tables))
    {
        for (unsigned i = 0; i < num_tables; ++i)
        {
            if (table_tags[i] == hb_tag)
            {
                *table_index = i;
                return true;
            }
        }
        offset += num_tables;
    }
    return false;
}