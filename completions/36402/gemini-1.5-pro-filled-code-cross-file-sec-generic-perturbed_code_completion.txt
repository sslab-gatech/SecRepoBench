if (tables.len > 16)
    {
      // Large table, use binary search.
      if (!tables.bsearch (hb_tag, table_index))
        return false;
    }
    else
    {
      // Small table, use linear search.
      unsigned int i = 0;
      for (; i < tables.len && tables[i].tag != hb_tag; i++);
      if (i == tables.len)
        return false;
      *table_index = i;
    }

    return true;