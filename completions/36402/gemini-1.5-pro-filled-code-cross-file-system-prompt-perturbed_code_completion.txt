if (tables.is_empty ())
    {
      *table_index = 0;
      return false;
    }

    if (tables.len > 16)
    {
      /* binary search */
      if (!tables.bsearch (hb_tag, table_index))
	return false;
    }
    else
    {
      /* linear search */
      unsigned int i = 0;
      for (; i < tables.len && tables[i].tag != hb_tag; i++);
      if (i == tables.len)
	return false;
      *table_index = i;
    }
    return true;