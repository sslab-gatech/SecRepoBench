if (tables.len == 0) {
    *table_index = UINT_MAX;
    return false;
}

for (unsigned int i = 0; i < tables.len; i++) {
    if (tables[i].tag == hb_tag) {
        *table_index = i;
        return true;
    }
}

*table_index = UINT_MAX;
return false;