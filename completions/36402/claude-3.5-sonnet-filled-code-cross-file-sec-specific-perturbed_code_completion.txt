if (!table_index)
  return false;

unsigned int left = 0;
unsigned int right = stages[0].length;

while (left < right) {
  unsigned int mid = left + (right - left) / 2;
  hb_tag_t mid_tag = stages[0][mid].tag;

  if (mid_tag == hb_tag) {
    *table_index = mid;
    return true;
  } else if (mid_tag < hb_tag) {
    left = mid + 1;
  } else {
    right = mid;
  }
}

return false;