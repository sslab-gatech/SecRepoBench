if (tables.len < 16) {
      if (table_index) {
        for (unsigned int i = 0; i < tables.len; i++) {
          if (tables[i].tag == hb_tag) {
            *table_index = i;
            return true;
          }
        }
        *table_index = tables.len;
      }
      return false;
    }

    if (table_index) {
      *table_index = tables.bsearch(hb_tag);
      return *table_index < tables.len && tables[*table_index].tag == hb_tag;
    }
    return tables.lsearch(hb_tag) < tables.len;