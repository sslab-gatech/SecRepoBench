unsigned int count = tables.len;
unsigned int tag_i;
for (tag_i = 0; tag_i < count; tag_i++)
  if (tables.arrayZ[tag_i].tag >= hb_tag)
    break;

*table_index = tag_i;
if (tag_i == count || tables.arrayZ[tag_i].tag != hb_tag)
  return false;

return true;