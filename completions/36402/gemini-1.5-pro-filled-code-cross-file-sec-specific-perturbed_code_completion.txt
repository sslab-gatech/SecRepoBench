if (is_long_table_) {
      // Binary search for tag in long table.
      unsigned int min = 0;
      unsigned int max = num_tables_ - 1;
      while (min <= max) {
        unsigned int mid = min + (max - min) / 2;
        hb_tag_t entry_tag = tables_[mid].tag;
        if (entry_tag == hb_tag) {
          *table_index = mid;
          return true;
        } else if (entry_tag < hb_tag) {
          min = mid + 1;
        } else {
          max = mid - 1;
        }
      }
    } else {
      // Linear search for tag in short table.
      for (unsigned int i = 0; i < num_tables_; ++i) {
        if (tables_[i].tag == hb_tag) {
          *table_index = i;
          return true;
        }
      }
    }
    return false;