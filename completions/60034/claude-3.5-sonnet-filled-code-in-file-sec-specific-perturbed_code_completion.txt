if (entry_result && entry_result->astr && TESTAFF(entry_result->astr, forbiddenword, entry_result->alen)) {
  if (!hu_mov_rule) {
    return NULL;
  }
} else {
  while (entry_result && !cclass && 
         ((needaffix && TESTAFF(entry_result->astr, needaffix, entry_result->alen)) ||
          !(compoundflag && TESTAFF(entry_result->astr, compoundflag, entry_result->alen)) ||
          (compoundbegin && !TESTAFF(entry_result->astr, compoundbegin, entry_result->alen)) ||
          (compoundmiddle && !TESTAFF(entry_result->astr, compoundmiddle, entry_result->alen)))) {
    entry_result = entry_result->next_homonym;
  }

  if (!entry_result) {
    if (compoundflag && 
        (rv = prefix_check(st, 0, i, hu_mov_rule ? IN_CPD_OTHER : IN_CPD_BEGIN, compoundflag))) {
      entry_result = rv;
    } else if (compoundbegin &&
               (rv = prefix_check(st, 0, i, hu_mov_rule ? IN_CPD_OTHER : IN_CPD_BEGIN, compoundbegin))) {
      entry_result = rv;
    }
  }

  if (!entry_result && compoundmiddle &&
      (rv = suffix_check(st, 0, i, 0, NULL, FLAG_NULL, compoundmiddle, 
                         hu_mov_rule ? IN_CPD_OTHER : IN_CPD_BEGIN))) {
    entry_result = rv;
  }

  if (entry_result) {
    if (((in_compound != IN_CPD_BEGIN) || 
         (entry_result->astr && compoundpermitflag &&
          TESTAFF(entry_result->astr, compoundpermitflag, entry_result->alen))) &&
        (!circumfix ||
         !entry_result->astr || 
         !TESTAFF(entry_result->astr, circumfix, entry_result->alen) ||
         (pfx && pfx->getCont() &&
          TESTAFF(pfx->getCont(), circumfix, pfx->getContLen()))) &&
        (!onlyincompound ||
         !entry_result->astr || 
         !TESTAFF(entry_result->astr, onlyincompound, entry_result->alen) ||
         (pfx && pfx->getCont() &&
          TESTAFF(pfx->getCont(), onlyincompound, pfx->getContLen())))) {
      return entry_result;
    }
  }
}