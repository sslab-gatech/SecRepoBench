// Check if the current dictionary entry is forbidden in compound words
// by checking for `COMPOUNDFORBIDFLAG`. If it is forbidden and not allowed
// by the Hungarian movement rule (`hu_mov_rule`), handle the case by either
// breaking out of a potential infinite loop or continuing the search for
// valid dictionary entries based on specific conditions such as simplified
// compound processing (`simplifiedcpd`).
// Adjust compound word boundaries if necessary.
//
// Iterate through homonyms of the current entry to find one with the
// required compound conditions. This includes conditions based on compound
// flags such as `compoundflag`, `compoundbegin`, `compoundmiddle`, and
// checks against specific compound pattern conditions (`checkcpdtable`).
// The process ensures that only valid compound components are accepted
// and it skips over invalid ones by moving to the next homonym.
if (entry_result) {
  if (entry_result->astr && TESTAFF(entry_result->astr, COMPOUNDFORBIDFLAG, entry_result->alen)) {
    if (hu_mov_rule) {
      entry_result = NULL;
    } else {
      // check simplifiedcpd
      if (simplifiedcpd) {
        // check if the current entry has a compound flag
        if (TESTAFF(entry_result->astr, compoundflag, entry_result->alen)) {
          // check if the current entry has a compound begin flag
          if (TESTAFF(entry_result->astr, compoundbegin, entry_result->alen)) {
            // check if the current entry has a compound middle flag
            if (TESTAFF(entry_result->astr, compoundmiddle, entry_result->alen)) {
              // check if the current entry has a compound end flag
              if (TESTAFF(entry_result->astr, compoundend, entry_result->alen)) {
                // check if the current entry has a compound root flag
                if (TESTAFF(entry_result->astr, compoundroot, entry_result->alen)) {
                  // check if the current entry has a forbidden word flag
                  if (TESTAFF(entry_result->astr, forbiddenword, entry_result->alen)) {
                    // check if the current entry has a need affix flag
                    if (TESTAFF(entry_result->astr, needaffix, entry_result->alen)) {
                      // check if the current entry has a only upcase flag
                      if (TESTAFF(entry_result->astr, ONLYUPCASEFLAG, entry_result->alen)) {
                        // check if the current entry has a nosuggest flag
                        if (is_sug && nosuggest && TESTAFF(entry_result->astr, nosuggest, entry_result->alen)) {
                          entry_result = NULL;
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}

// check if the current entry has a compound flag
if (entry_result && TESTAFF(entry_result->astr, compoundflag, entry_result->alen)) {
  // check if the current entry has a compound begin flag
  if (TESTAFF(entry_result->astr, compoundbegin, entry_result->alen)) {
    // check if the current entry has a compound middle flag
    if (TESTAFF(entry_result->astr, compoundmiddle, entry_result->alen)) {
      // check if the current entry has a compound end flag
      if (TESTAFF(entry_result->astr, compoundend, entry_result->alen)) {
        // check if the current entry has a compound root flag
        if (TESTAFF(entry_result->astr, compoundroot, entry_result->alen)) {
          // check if the current entry has a forbidden word flag
          if (TESTAFF(entry_result->astr, forbiddenword, entry_result->alen)) {
            // check if the current entry has a need affix flag
            if (TESTAFF(entry_result->astr, needaffix, entry_result->alen)) {
              // check if the current entry has a only upcase flag
              if (TESTAFF(entry_result->astr, ONLYUPCASEFLAG, entry_result->alen)) {
                // check if the current entry has a nosuggest flag
                if (is_sug && nosuggest && TESTAFF(entry_result->astr, nosuggest, entry_result->alen)) {
                  entry_result = NULL;
                }
              }
            }
          }
        }
      }
    }
  }
}

// check if the current entry has a compound begin flag
if (entry_result && TESTAFF(entry_result->astr, compoundbegin, entry_result->alen)) {
  // check if the current entry has a compound middle flag
  if (TESTAFF(entry_result->astr, compoundmiddle, entry_result->alen)) {
    // check if the current entry has a compound end flag
    if (TESTAFF(entry_result->astr, compoundend, entry_result->alen)) {
      // check if the current entry has a compound root flag
      if (TESTAFF(entry_result->astr, compoundroot, entry_result->alen)) {
        // check if the current entry has a forbidden word flag
        if (TESTAFF(entry_result->astr, forbiddenword, entry_result->alen)) {
          // check if the current entry has a need affix flag
          if (TESTAFF(entry_result->astr, needaffix, entry_result->alen)) {
            // check if the current entry has a only upcase flag
            if (TESTAFF(entry_result->astr, ONLYUPCASEFLAG, entry_result->alen)) {
              // check if the current entry has a nosuggest flag
              if (is_sug && nosuggest && TESTAFF(entry_result->astr, nosuggest, entry_result->alen)) {
                entry_result = NULL;
              }
            }
          }
        }
      }
    }
  }
}

// check if the current entry has a compound middle flag
if (entry_result && TESTAFF(entry_result->astr, compoundmiddle, entry_result->alen)) {
  // check if the current entry has a compound end flag
  if (TESTAFF(entry_result->astr, compoundend, entry_result->alen)) {
    // check if the current entry has a compound root flag
    if (TESTAFF(entry_result->astr, compoundroot, entry_result->alen)) {
      // check if the current entry has a forbidden word flag
      if (TESTAFF(entry_result->astr, forbiddenword, entry_result->alen)) {
        // check if the current entry has a need affix flag
        if (TESTAFF(entry_result->astr, needaffix, entry_result->alen)) {
          // check if the current entry has a only upcase flag
          if (TESTAFF(entry_result->astr, ONLYUPCASEFLAG, entry_result->alen)) {
            // check if the current entry has a nosuggest flag
            if (is_sug && nosuggest && TESTAFF(entry_result->astr, nosuggest, entry_result->alen)) {
              entry_result = NULL;
            }
          }
        }
      }
    }
  }
}

// check if the current entry has a compound end flag
if (entry_result && TESTAFF(entry_result->astr, compoundend, entry_result->alen)) {
  // check if the current entry has a compound root flag
  if (TESTAFF(entry_result->astr, compoundroot, entry_result->alen)) {
    // check if the current entry has a forbidden word flag
    if (TESTAFF(entry_result->astr, forbiddenword, entry_result->alen)) {
      // check if the current entry has a need affix flag
      if (TESTAFF(entry_result->astr, needaffix, entry_result->alen)) {
        // check if the current entry has a only upcase flag
        if (TESTAFF(entry_result->astr, ONLYUPCASEFLAG, entry_result->alen)) {
          // check if the current entry has a nosuggest flag
          if (is_sug && nosuggest && TESTAFF(entry_result->astr, nosuggest, entry_result->alen)) {
            entry_result = NULL;
          }
        }
      }
    }
  }
}

// check if the current entry has a compound root flag
if (entry_result && TESTAFF(entry_result->astr, compoundroot, entry_result->alen)) {
  // check if the current entry has a forbidden word flag
  if (TESTAFF(entry_result->astr, forbiddenword, entry_result->alen)) {
    // check if the current entry has a need affix flag
    if (TESTAFF(entry_result->astr, needaffix, entry_result->alen)) {
      // check if the current entry has a only upcase flag
      if (TESTAFF(entry_result->astr, ONLYUPCASEFLAG, entry_result->alen)) {
        // check if the current entry has a nosuggest flag
        if (is_sug && nosuggest && TESTAFF(entry_result->astr, nosuggest, entry_result->alen)) {
          entry_result = NULL;
        }
      }
    }
  }
}

// check if the current entry has a forbidden word flag
if (entry_result && TESTAFF(entry_result->astr, forbiddenword, entry_result->alen)) {
  // check if the current entry has a need affix flag
  if (TESTAFF(entry_result->astr, needaffix, entry_result->alen)) {
    // check if the current entry has a only upcase flag
    if (TESTAFF(entry_result->astr, ONLYUPCASEFLAG, entry_result->alen)) {
      // check if the current entry has a nosuggest flag
      if (is_sug && nosuggest && TESTAFF(entry_result->astr, nosuggest, entry_result->alen)) {
        entry_result = NULL;
      }
    }
  }
}

// check if the current entry has a need affix flag
if (entry_result && TESTAFF(entry_result->astr, needaffix, entry_result->alen)) {
  // check if the current entry has a only upcase flag
  if (TESTAFF(entry_result->astr, ONLYUPCASEFLAG, entry_result->alen)) {
    // check if the current entry has a nosuggest flag
    if (is_sug && nosuggest && TESTAFF(entry_result->astr, nosuggest, entry_result->alen)) {
      entry_result = NULL;
    }
  }
}

// check if the current entry has a only upcase flag
if (entry_result && TESTAFF(entry_result->astr, ONLYUPCASEFLAG, entry_result->alen)) {
  // check if the current entry has a nosuggest flag
  if (is_sug && nosuggest && TESTAFF(entry_result->astr, nosuggest, entry_result->alen)) {
    entry_result = NULL;
  }
}

// check if the current entry has a nosuggest flag
if (entry_result && is_sug && nosuggest && TESTAFF(entry_result->astr, nosuggest, entry_result->alen)) {
  entry_result = NULL;
}