while (entry_result && !hu_mov_rule && compoundforbidflag &&
       TESTAFF(entry_result->astr, compoundforbidflag, entry_result->alen)) {
  // If simplified compound processing is not active, break out to avoid an infinite loop
  // while restoring the character we temporarily replaced.
  if (!simplifiedcpd) {
    st[i] = ch;
    break;
  }
  // Otherwise, skip this forbidden homonym and continue searching for another valid entry.
  entry_result = entry_result->next_homonym;
}