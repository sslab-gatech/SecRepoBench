if (entry_result && entry_result->astr && 
            TESTAFF(entry_result->astr, forbiddenword, entry_result->alen)) {
          st[i] = ch;
          break;
        }

        // Check if the current entry is valid for compound words
        if (entry_result && (compoundflag && TESTAFF(entry_result->astr, compoundflag, entry_result->alen))) {
          // Valid entry found, proceed to the next word
          wordnum++;
          st[i] = ch; // Restore character
          break; // Exit the loop to process the next character
        }

        // If the entry is not valid, continue searching for valid entries
        st[i] = ch; // Restore character
        continue; // Continue to the next iteration