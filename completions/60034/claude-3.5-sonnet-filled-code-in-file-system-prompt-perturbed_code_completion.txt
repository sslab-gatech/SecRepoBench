if (entry_result && entry_result->astr && TESTAFF(entry_result->astr, forbiddenword, entry_result->alen)) {
  if (!hu_mov_rule) {
    st[i] = ch;
    continue;
  }
} else {
  while (entry_result && !hu_mov_rule &&
         ((needaffix && TESTAFF(entry_result->astr, needaffix, entry_result->alen)) ||
          !((compoundflag && TESTAFF(entry_result->astr, compoundflag, entry_result->alen)) ||
            (compoundbegin && TESTAFF(entry_result->astr, compoundbegin, entry_result->alen)) ||
            (compoundmiddle && TESTAFF(entry_result->astr, compoundmiddle, entry_result->alen)) ||
            (!cclass || TESTAFF(entry_result->astr, cclass, entry_result->alen))))) {
    entry_result = entry_result->next_homonym;
  }

  if (!entry_result) {
    if (compoundflag && 
        !(rv = prefix_check(st, 0, i, hu_mov_rule ? IN_CPD_OTHER : IN_CPD_BEGIN, compoundflag))) {
      if (((rv = suffix_check(st, 0, i, 0, NULL, FLAG_NULL, compoundflag, 
                              hu_mov_rule ? IN_CPD_OTHER : IN_CPD_BEGIN)) ||
           (compoundmoresuffixes &&
            (rv = suffix_check_twosfx(st, 0, i, 0, NULL, compoundflag)))) &&
          !hu_mov_rule && sfx->getCont() &&
          ((compoundforbidflag &&
            TESTAFF(sfx->getCont(), compoundforbidflag, sfx->getContLen())) ||
           (compoundend &&
            TESTAFF(sfx->getCont(), compoundend, sfx->getContLen())))) {
        rv = NULL;
      }
    }
    
    if (!rv && (((wordnum == 0) && compoundbegin &&
                 ((rv = suffix_check(st, 0, i, 0, NULL, FLAG_NULL, compoundbegin, 
                                     hu_mov_rule ? IN_CPD_OTHER : IN_CPD_BEGIN)) ||
                  (compoundmoresuffixes &&
                   (rv = suffix_check_twosfx(st, 0, i, 0, NULL, compoundbegin))) || 
                  (rv = prefix_check(st, 0, i, hu_mov_rule ? IN_CPD_OTHER : IN_CPD_BEGIN, 
                                     compoundbegin)))) ||
                ((wordnum > 0) && compoundmiddle &&
                 ((rv = suffix_check(st, 0, i, 0, NULL, FLAG_NULL, compoundmiddle,
                                     hu_mov_rule ? IN_CPD_OTHER : IN_CPD_BEGIN)) ||
                  (compoundmoresuffixes &&
                   (rv = suffix_check_twosfx(st, 0, i, 0, NULL, compoundmiddle))) ||
                  (rv = prefix_check(st, 0, i, hu_mov_rule ? IN_CPD_OTHER : IN_CPD_BEGIN,
                                     compoundmiddle)))))) {
      checked_prefix = 1;
    }
  }
}