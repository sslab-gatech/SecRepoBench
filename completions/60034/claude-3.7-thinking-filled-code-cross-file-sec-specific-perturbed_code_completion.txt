if ((entry_result) && (compoundforbidflag) &&
    (TESTAFF(entry_result->astr, compoundforbidflag, entry_result->alen)) &&
    (!hu_mov_rule ||
     !(TESTAFF(entry_result->astr, 'F', entry_result->alen) ||
       TESTAFF(entry_result->astr, 'G', entry_result->alen) ||
       TESTAFF(entry_result->astr, 'H', entry_result->alen)))) {
  entry_result = NULL;
  // If simplified compound processing is enabled and this is not a pattern match,
  // break out of a potential infinite loop
  if (simplifiedcpd && scpd == 0) {
    soldi = i;
    i = word.size();
    break;
  }
}

// Search for homonyms that meet compound requirements
while (entry_result && 
       ((needaffix && TESTAFF(entry_result->astr, needaffix, entry_result->alen)) ||
        !((compoundflag && TESTAFF(entry_result->astr, compoundflag, entry_result->alen)) ||
          ((wordnum == 0) && compoundbegin && 
           TESTAFF(entry_result->astr, compoundbegin, entry_result->alen)) ||
          ((wordnum > 0) && compoundmiddle && 
           TESTAFF(entry_result->astr, compoundmiddle, entry_result->alen)) ||
          (compoundend && TESTAFF(entry_result->astr, compoundend, entry_result->alen)) ||
          ((langnum == LANG_hu) && hu_mov_rule &&
           (TESTAFF(entry_result->astr, 'F', entry_result->alen) ||
            TESTAFF(entry_result->astr, 'G', entry_result->alen) ||
            TESTAFF(entry_result->astr, 'H', entry_result->alen))))) ||
       (scpd != 0 && checkcpdtable[scpd-1].cond != FLAG_NULL && 
        !TESTAFF(entry_result->astr, checkcpdtable[scpd-1].cond, entry_result->alen))) {
  entry_result = entry_result->next_homonym;
}