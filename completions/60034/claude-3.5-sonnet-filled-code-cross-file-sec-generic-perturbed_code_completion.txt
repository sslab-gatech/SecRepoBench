if (entry_result && TESTAFF(entry_result->astr, compoundforbidflag, entry_result->alen) &&
    (!hu_mov_rule || !(TESTAFF(entry_result->astr, 'F', entry_result->alen) ||
                       TESTAFF(entry_result->astr, 'G', entry_result->alen) ||
                       TESTAFF(entry_result->astr, 'H', entry_result->alen)))) {
    if (simplifiedcpd) {
        if (scpd == 0)
            break;
        else
            continue;
    } else {
        entry_result = NULL;
    }
}

while (entry_result) {
    if ((compoundflag && TESTAFF(entry_result->astr, compoundflag, entry_result->alen)) ||
        (compoundbegin && TESTAFF(entry_result->astr, compoundbegin, entry_result->alen)) ||
        (compoundmiddle && TESTAFF(entry_result->astr, compoundmiddle, entry_result->alen))) {
        if (scpd != 0 && checkcpdtable[scpd - 1].cond != FLAG_NULL &&
            !TESTAFF(entry_result->astr, checkcpdtable[scpd - 1].cond, entry_result->alen)) {
            entry_result = entry_result->next_homonym;
        } else {
            break;
        }
    } else {
        entry_result = entry_result->next_homonym;
    }
}

if (!entry_result) {
    st[i] = ch;
    continue;
}