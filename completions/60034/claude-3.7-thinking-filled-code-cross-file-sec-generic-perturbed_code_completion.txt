if (entry_result && compoundforbidflag &&
    TESTAFF(entry_result->astr, compoundforbidflag, entry_result->alen)) {
  if (hu_mov_rule) {
    // handle special Hungarian rules - skip entries with compoundforbidflag
    while (entry_result &&
           TESTAFF(entry_result->astr, compoundforbidflag, entry_result->alen)) {
      entry_result = entry_result->next_homonym;
    }
  } else {
    entry_result = NULL;
  }
}

// if no entry found with first suffix try second suffix
if (simplifiedcpd && !entry_result && scpd > 0) {
  scpd++;
  continue;
}

// search homonym with right compounding flag
while (entry_result && !hu_mov_rule &&
       !(compoundflag && TESTAFF(entry_result->astr, compoundflag, entry_result->alen)) &&
       !(compoundbegin && (wordnum == 0) && TESTAFF(entry_result->astr, compoundbegin, entry_result->alen)) &&
       !(compoundmiddle && (wordnum > 0) && TESTAFF(entry_result->astr, compoundmiddle, entry_result->alen))) {
  entry_result = entry_result->next_homonym;
}

// check CHECKCOMPOUNDPATTERN conditions
if (entry_result && !checkcpdtable.empty() && scpd != 0 &&
    checkcpdtable[scpd - 1].cond != FLAG_NULL &&
    !TESTAFF(entry_result->astr, checkcpdtable[scpd - 1].cond, entry_result->alen)) {
  entry_result = NULL;
}