if (entry_result && entry_result->astr && TESTAFF(entry_result->astr, compoundforbidflag, entry_result->alen) && !hu_mov_rule) {
            entry_result = NULL;
        }

        // Check through homonyms for valid compound conditions
        while (entry_result) {
            // Check if current entry meets compound conditions
            if ((compoundflag && TESTAFF(entry_result->astr, compoundflag, entry_result->alen)) ||
                (wordnum == 0 && compoundbegin && TESTAFF(entry_result->astr, compoundbegin, entry_result->alen)) ||
                (wordnum > 0 && compoundmiddle && TESTAFF(entry_result->astr, compoundmiddle, entry_result->alen)) ||
                (checkcpdtable.empty() || scpd == 0 || checkcpdtable[scpd-1].cond == FLAG_NULL ||
                 TESTAFF(entry_result->astr, checkcpdtable[scpd-1].cond, entry_result->alen))) {
                break;
            }
            entry_result = entry_result->next_homonym;
        }