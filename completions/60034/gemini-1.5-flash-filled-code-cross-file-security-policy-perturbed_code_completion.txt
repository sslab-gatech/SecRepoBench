if (entry_result && entry_result->astr &&
            TESTAFF(entry_result->astr, compoundforbidflag, entry_result->alen) &&
            !hu_mov_rule) {
          st[i] = ch;
          break;
        }

        // Iterate through homonyms
        while ((entry_result) &&
               (!((compoundflag && TESTAFF(entry_result->astr, compoundflag, entry_result->alen)) ||
                  ((oldwordnum == 0) && compoundbegin &&
                   TESTAFF(entry_result->astr, compoundbegin, entry_result->alen)) ||
                  ((oldwordnum > 0) && compoundmiddle &&
                   TESTAFF(entry_result->astr, compoundmiddle, entry_result->alen))))) {
          entry_result = entry_result->next_homonym;
        }

        // Check compound pattern conditions
        if (entry_result && !checkcpdtable.empty() &&
            (checkcpdtable[scpd - 1].cond != FLAG_NULL &&
             !TESTAFF(entry_result->astr, checkcpdtable[scpd - 1].cond, entry_result->alen))) {
          entry_result = NULL;
        }