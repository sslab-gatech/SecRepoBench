while (entry_result && entry_result->astr && TESTAFF(entry_result->astr, compoundforbidflag, entry_result->alen) && !hu_mov_rule) {
            if (simplifiedcpd) {
                break;
            }
            entry_result = entry_result->next_homonym;
        }

        if (entry_result && !hu_mov_rule && simplifiedcpd && i < word.size()) {
            size_t newlen = i + 1;
            if (utf8) {
                while (newlen < word.size() && (word[newlen] & 0xc0) == 0x80) {
                    newlen++;
                }
            }
            if (newlen > i + 1) {
                i = newlen - 1;
                continue;
            }
        }