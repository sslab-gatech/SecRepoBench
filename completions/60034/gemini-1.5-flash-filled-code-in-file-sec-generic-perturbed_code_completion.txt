if (entry_result && !hu_mov_rule &&
            ((compoundforbidflag &&
              TESTAFF(entry_result->astr, compoundforbidflag,
                      entry_result->alen)) ||
             (compoundend &&
              TESTAFF(entry_result->astr, compoundend, entry_result->alen)))) {
          st[i] = ch;
          continue;
        }

        // search homonym with compound flag
        while ((entry_result) &&
               ((needaffix && TESTAFF(entry_result->astr, needaffix, entry_result->alen)) ||
                !((compoundflag && !words &&
                   TESTAFF(entry_result->astr, compoundflag, entry_result->alen)) ||
                  (compoundbegin && !wordnum &&
                   TESTAFF(entry_result->astr, compoundbegin, entry_result->alen)) ||
                  (compoundmiddle && wordnum && !words &&
                   TESTAFF(entry_result->astr, compoundmiddle, entry_result->alen)) ||
                  (!defcpdtable.empty() && words &&
                   defcpd_check(&words, wnum, entry_result, NULL, 0))))) {
          entry_result = entry_result->next_homonym;
        }

        // check FORCEUCASE
        if (entry_result && forceucase &&
            (TESTAFF(entry_result->astr, forceucase, entry_result->alen)) &&
            !(info && *info & SPELL_ORIGCAP))
          entry_result = NULL;

        if (entry_result && words && words[wnum])
          break;