if (TESTAFF(rv->astr, forbiddenword, rv->alen) ||
            TESTAFF(rv->astr, needaffix, rv->alen) ||
            TESTAFF(rv->astr, ONLYUPCASEFLAG, rv->alen) ||
            (is_sug && nosuggest && TESTAFF(rv->astr, nosuggest, rv->alen))) {
          st[i] = ch;
          break;
        }

        // Check if the current entry is allowed in compound words
        if (TESTAFF(rv->astr, compoundforbidflag, rv->alen) ||
            (compoundend && TESTAFF(rv->astr, compoundend, rv->alen))) {
          st[i] = ch;
          break;
        }

        // Check if the entry is a valid compound root
        if (TESTAFF(rv->astr, compoundroot, rv->alen)) {
          wordnum++;
        }

        // If the entry is valid, continue processing
        if (rv) {
          // Store the result and prepare for the next word
          result.append(rv->astr, rv->alen);
          st[i] = ch; // Restore the character
          break; // Exit the loop to process the next character
        }