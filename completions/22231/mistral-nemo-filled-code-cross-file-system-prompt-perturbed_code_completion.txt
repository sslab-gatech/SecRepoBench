if (c->comp_hdr->codecs[DS_RL]) {
    r |= c->comp_hdr->codecs[DS_RL]
                    ->encode(s, c->comp_hdr->codecs[DS_RL], blk,
                             (char *)&cr->len, &out_sz);
    if (r) goto block_err;
    if (cr->len < 0) {
        hts_log_error("Read has negative length");
        goto block_err;
    }
} else {
    cr->len = 0; // Default to 0 if not encoded
}