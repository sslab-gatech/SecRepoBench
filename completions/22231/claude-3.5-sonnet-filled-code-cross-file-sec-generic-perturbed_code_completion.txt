refs = calloc(fd->refs->nref, sizeof(char *));
if (!refs)
    return -1;
slice->ref = b->data;
slice->ref_start = slice->hdr->ref_seq_start;
slice->ref_end = slice->hdr->ref_seq_start + slice->hdr->ref_seq_span - 1;
if (slice->ref_end - slice->ref_start + 1 > b->uncomp_size) {
    hts_log_error("Embedded reference is too small for slice");
    return -1;
}