do {
	// Read the unary most significant bits (MSBs)
	if(!FLAC__bitreader_read_unary_unsigned(br, &msbs))
		return false;

	// Update the consumed words and bits count
	cwords++;
	ucbits = FLAC__BITS_PER_WORD;

	// Read the binary least significant bits (LSBs) if necessary
	if(parameter <= ucbits) {
		ucbits -= parameter;
		b <<= parameter;
	} else {
		// There are still bits left to read, they will all be in the next word
		cwords++;
		if (cwords >= wordcount)
			goto incomplete_lsbs;
		b = br->buffer[cwords];
		ucbits += FLAC__BITS_PER_WORD - parameter;
		x |= (FLAC__uint32)(b >> ucbits);
		b <<= FLAC__BITS_PER_WORD - ucbits;
	}

	// Compose the signed value by combining MSBs and LSBs, and store it in the output array
	x = (msbs << parameter) | lsbs;
	*val++ = (int)(x >> 1) ^ -(int)(x & 1);

	// Update the internal state of the bitreader, ensuring the buffer is positioned correctly for subsequent reads
	br->consumed_bits = FLAC__BITS_PER_WORD - ucbits;
	br->consumed_words = cwords;
} while(cwords >= wordcount && val < end);