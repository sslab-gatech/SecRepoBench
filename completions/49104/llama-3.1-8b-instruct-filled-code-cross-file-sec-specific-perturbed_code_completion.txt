// <MASK>
LockSemaphoreInfo(magic_list_semaphore);
p = FindFirstInSortedLinkedList(magic_list, MagicInfoCompare, NULL, magic);
if (p!= (const MagicInfo *) NULL)
  {
    LockSemaphoreInfo(magic_cache_semaphore);
    (void) InsertValueInSortedLinkedList(magic_cache, CompareMagickInfoExtent, NULL, p);
    UnlockSemaphoreInfo(magic_cache_semaphore);
  }
UnlockSemaphoreInfo(magic_list_semaphore);
return(p);