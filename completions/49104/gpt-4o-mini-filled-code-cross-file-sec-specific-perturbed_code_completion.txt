if (magic != (unsigned char *) NULL && size > 0)
{
    LockSemaphoreInfo(magic_list_semaphore);
    p = SearchLinkedList(magic_list, magic, size, MagicCompare);
    UnlockSemaphoreInfo(magic_list_semaphore);
}
else
{
    p = (const MagicInfo *) NULL;
}