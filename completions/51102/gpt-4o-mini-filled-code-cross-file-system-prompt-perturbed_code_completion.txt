if (utf8) {
    std::vector<w_char> wckey, wctry;
    u8_u16(wckey, ckey);
    u8_u16(wctry, try_chars);
    ckeyl = wckey.size();
    ctryl = wctry.size();
    ckey = std::move(wckey);
    ctry = std::move(wctry);
  } else {
    ckeyl = ckey.length();
    ctryl = try_chars.length();
    ckey = ckey;
    ctry = try_chars;
  }