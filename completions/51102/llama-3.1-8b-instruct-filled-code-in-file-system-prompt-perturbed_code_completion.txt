// Convert the `ckey` and given string to their UTF-16 representations if UTF-8 mode is enabled.
// Assign their lengths to `ckeyl` and `ctryl`. Assign the given string to `ctry`.
// <MASK>
if (utf8) {
  ckey_utf.assign(ckey.begin(), ckey.end());
  ctry_utf.assign(ctry.begin(), ctry.end());
  ckeyl = u8_u16(ckey_utf);
  ctryl = u8_u16(ctry_utf);
} else {
  ckeyl = ctryl = ctry.size();
}