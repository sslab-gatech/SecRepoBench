// Convert the `ckey` and given string to their UTF-16 representations if UTF-8 mode is enabled.
// Assign their lengths to `ckeyl` and `ctryl`. Assign the given string to `ctry`.
// <MASK>
if (utf8) {
  ckey_utf = u8_u16(ckey);
  ctry_utf = u8_u16(ctry);
  ckeyl = ckey_utf.size();
  ctryl = ctry_utf.size();
} else {
  ckeyl = strlen(ckey);
  ctryl = strlen(ctry);
}