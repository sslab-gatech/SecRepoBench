ctry = try_chars;
if (utf8) {
    std::vector<w_char> ckeyw;
    u8_u16(ckeyw, ckey);
    ckeyl = ckeyw.size();
    std::vector<w_char> ctryw;
    u8_u16(ctryw, ctry);
    ctryl = ctryw.size();
} else {
    ckeyl = ckey.size();
    ctryl = ctry.size();
}