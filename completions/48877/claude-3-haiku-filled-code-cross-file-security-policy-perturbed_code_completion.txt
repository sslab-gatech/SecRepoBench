#ifdef MRB_USE_BIGINT
  if (mrb_bigint_p(v1)) {
    x = mrb_bint_to_int64(mrb, v1);
  }
  else
#endif
  {
#ifdef MRB_NO_FLOAT
    x = mrb_integer(v1);
#else
    if (mrb_float_p(v1)) {
      x = (mrb_int)mrb_float(v1);
    }
    else {
      x = mrb_integer(v1);
    }
#endif
  }