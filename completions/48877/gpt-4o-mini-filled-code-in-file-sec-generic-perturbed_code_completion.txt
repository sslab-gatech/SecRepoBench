mrb_float x;
  
  if (mrb_integer_p(v1)) {
    x = (mrb_float)mrb_integer(v1);
  }
#ifndef MRB_NO_FLOAT
  else if (mrb_float_p(v1)) {
    x = mrb_float(v1);
  }
#ifdef MRB_USE_RATIONAL
  else if (mrb_rational_p(v1)) {
    x = mrb_as_float(mrb, v1);
  }
#endif
#endif
  else {
    return -2;
  }