static mrb_value
cmpnum(mrb_state *mrb, mrb_value v1, mrb_value value)
{
  mrb_int x, y;

  if (!mrb_integer_p(v1)) {
    mrb_raise(mrb, E_TYPE_ERROR, "non integer value");
  }
  else {
    x = mrb_integer(v1);
  }
  if (!mrb_integer_p(value)) {
    mrb_raise(mrb, E_TYPE_ERROR, "non integer value");
  }
  else {
    y = mrb_integer(value);
  }
  if (x > y)
    return mrb_fixnum_value(1);
  else {
    if (x < y)
      return mrb_fixnum_value(-1);
    return mrb_fixnum_value(0);
  }
}