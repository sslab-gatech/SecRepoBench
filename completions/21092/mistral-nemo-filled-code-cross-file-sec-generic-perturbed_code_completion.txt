if (inputvalue <= arrayZ[i].fromCoord)
  {
    return arrayZ[i].toCoord;
  }
  else if (inputvalue < arrayZ[i+1].fromCoord)
  {
    return arrayZ[i-1].toCoord +
           ((arrayZ[i].toCoord - arrayZ[i-1].toCoord) *
            (inputvalue - arrayZ[i-1].fromCoord) + denom/2) / denom;
  }
  else
  {
    return arrayZ[i].toCoord;
  }