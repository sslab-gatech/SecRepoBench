int i;
if (inputvalue <= arrayZ[0].fromCoord)
  return inputvalue - arrayZ[0].fromCoord + arrayZ[0].toCoord;

for (i = 0; i < len - 1; i++)
  if (inputvalue < arrayZ[i+1].fromCoord)
    break;

if (i > 0 && arrayZ[i].fromCoord == arrayZ[i-1].fromCoord)
  i--;

int denom = arrayZ[i+1].fromCoord - arrayZ[i].fromCoord;