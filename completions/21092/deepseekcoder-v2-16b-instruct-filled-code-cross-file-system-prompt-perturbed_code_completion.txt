unsigned int len = ARRAY_LENGTH (arrayZ);
    if (inputvalue < fromCoord)
      return arrayZ[0].toCoord;

    for (unsigned int i = 1; i < len; i++)
    {
      if (inputvalue < arrayZ[i].fromCoord)
      {
        if (i == 1)
          return arrayZ[0].toCoord;
        else
          return arrayZ[i-1].toCoord +
                 ((arrayZ[i].toCoord - arrayZ[i-1].toCoord) *
                  (inputvalue - arrayZ[i-1].fromCoord) + denom/2) / denom;
      }
    }

    return arrayZ[len-1].toCoord;