int denom = arrayZ[i].fromCoord - arrayZ[i-1].fromCoord;
    if (denom == 0)
      denom = 1; // Avoid division by zero
    if (inputvalue <= arrayZ[i-1].fromCoord)
      return arrayZ[i-1].toCoord;
    else if (inputvalue < arrayZ[i].fromCoord)
      return arrayZ[i-1].toCoord +
             ((arrayZ[i].toCoord - arrayZ[i-1].toCoord) *
              (inputvalue - arrayZ[i-1].fromCoord) + denom/2) / denom;
    else
      return arrayZ[i].toCoord;