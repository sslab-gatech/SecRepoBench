for (unsigned int i = 0; i < len; i++)
    {
      if (inputvalue <= arrayZ[i].fromCoord)
      {
        return (i == 0) ? arrayZ[0].toCoord : arrayZ[i-1].toCoord +
               ((arrayZ[i].toCoord - arrayZ[i-1].toCoord) *
                (inputvalue - arrayZ[i-1].fromCoord) + denom/2) / denom;
      }
    }