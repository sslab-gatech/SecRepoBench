int i = 0;
    int denom = arrayZ[i].toCoord - arrayZ[i-1].toCoord;
    if (denom == 0)
      return arrayZ[i-1].toCoord;
    while (i < len && inputvalue > arrayZ[i].fromCoord)
      i++;
    return arrayZ[i-1].toCoord +
           ((arrayZ[i].toCoord - arrayZ[i-1].toCoord) *
            (inputvalue - arrayZ[i-1].fromCoord) + denom/2) / denom;