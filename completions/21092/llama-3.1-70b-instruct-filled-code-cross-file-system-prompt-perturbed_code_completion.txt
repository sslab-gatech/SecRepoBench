int i;
if (inputvalue <= arrayZ[0].fromCoord)
  return arrayZ[0].toCoord;

for (i = 1; i < len; i++)
  if (inputvalue <= arrayZ[i].fromCoord)
    break;

if (i > 1 && arrayZ[i-1].fromCoord == arrayZ[i-2].fromCoord)
  i--;

unsigned int denom = arrayZ[i].fromCoord - arrayZ[i-1].fromCoord;