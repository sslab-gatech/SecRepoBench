for (unsigned int i = 1; i < len; ++i)
    {
        if (inputvalue < arrayZ[i].fromCoord)
        {
            // If the input value is less than the first fromCoord, return the first toCoord.
            if (i == 1)
                return arrayZ[0].toCoord;

            // If the input value is between two segments, perform linear interpolation.
            unsigned int denom = arrayZ[i].fromCoord - arrayZ[i-1].fromCoord;
            return arrayZ[i-1].toCoord +
                   ((arrayZ[i].toCoord - arrayZ[i-1].toCoord) *
                    (inputvalue - arrayZ[i-1].fromCoord) + denom / 2) / denom;
        }
        else if (inputvalue == arrayZ[i].fromCoord)
        {
            // If the input value matches a fromCoord, return the corresponding toCoord.
            return arrayZ[i].toCoord;
        }
    }
    // If the input value is greater than or equal to the last fromCoord, return the last toCoord.
    return arrayZ[len - 1].toCoord;