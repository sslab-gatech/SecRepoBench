for (unsigned int i = 0; i < len - 1; i++)
    {
        if (inputvalue >= arrayZ[i].fromCoord && inputvalue < arrayZ[i + 1].fromCoord)
        {
            unsigned int denom = arrayZ[i + 1].fromCoord - arrayZ[i].fromCoord;
            if (denom == 0) // Prevent division by zero
            {
                return arrayZ[i].toCoord; // Handle case where fromCoords are equal
            }
            return arrayZ[i].toCoord +
                   ((arrayZ[i + 1].toCoord - arrayZ[i].toCoord) *
                    (inputvalue - arrayZ[i].fromCoord) + denom / 2) / denom;
        }
    }
    // If inputvalue is beyond the last segment, return the last toCoord
    return arrayZ[len - 1].toCoord;