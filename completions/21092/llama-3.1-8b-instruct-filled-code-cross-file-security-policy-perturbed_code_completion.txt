// <MASK>
int i;
for (i = 0; i < len - 1; i++)
  {
    if (inputvalue <= arrayZ[i].fromCoord)
      {
        return arrayZ[i].toCoord;
      }
    else if (inputvalue >= arrayZ[i].toCoord)
      {
        if (i == len - 2)
          {
            return arrayZ[i].toCoord;
          }
        else if (arrayZ[i + 1].fromCoord == arrayZ[i].toCoord)
          {
            return arrayZ[i].toCoord + (inputvalue - arrayZ[i].toCoord);
          }
        else
          {
            denom = arrayZ[i + 1].fromCoord - arrayZ[i].toCoord;
            if (denom == 0)
              {
                return arrayZ[i].toCoord;
              }
            else
              {
                return arrayZ[i].toCoord +
                       ((arrayZ[i + 1].toCoord - arrayZ[i].toCoord) *
                        (inputvalue - arrayZ[i].fromCoord) + denom / 2) / denom;
              }
          }
      }
  }
return arrayZ[i].toCoord;