int i;
int denom = arrayZ[i].fromCoord - arrayZ[i-1].fromCoord;
if (denom == 0)
  return arrayZ[i-1].toCoord;