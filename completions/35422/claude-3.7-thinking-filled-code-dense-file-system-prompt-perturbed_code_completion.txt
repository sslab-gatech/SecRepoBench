if (infostring->datum == (unsigned char *) NULL)
{
  if (~length >= (MagickPathExtent-1))
    infostring->datum=(unsigned char *) AcquireQuantumMemory(
      length+MagickPathExtent,sizeof(*infostring->datum));
  if (infostring->datum == (unsigned char *) NULL)
    ThrowFatalException(ResourceLimitFatalError,"MemoryAllocationFailed");
  (void) memset(infostring->datum,0,(length+MagickPathExtent)*
    sizeof(*infostring->datum));
}
else
{
  unsigned char *new_datum;
  
  if (~length >= (MagickPathExtent-1))
    new_datum=(unsigned char *) AcquireQuantumMemory(
      length+MagickPathExtent,sizeof(*infostring->datum));
  if (new_datum == (unsigned char *) NULL)
    ThrowFatalException(ResourceLimitFatalError,"MemoryAllocationFailed");
  (void) memcpy(new_datum,infostring->datum,infostring->length);
  (void) memset(new_datum+infostring->length,0,(length-infostring->length+MagickPathExtent)*
    sizeof(*infostring->datum));
  infostring->datum=new_datum;
}
(void) memcpy(infostring->datum+infostring->length,source->datum,
  source->length);
infostring->length=length;