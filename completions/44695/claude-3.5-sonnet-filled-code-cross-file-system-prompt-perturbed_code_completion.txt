if (endp < str_end && *endp == '.') {
    double fractpart = parse_fractional(endp + 1, str_end, &endp);
    double value = (double)intpart + fractpart;
    if (endp < str_end && (*endp == 'e' || *endp == 'E')) {
        int64_t exponent = parse_decimal(endp + 1, str_end, &endp);
        value *= pow(10, exponent);
    }
    if (endp == str_end) {
        primitivevalue = plist_new_real(value);
    } else {
        PLIST_JSON_ERR("%s: invalid floating point value '%.*s' encountered\n", __func__, (int)str_len, str_val);
    }
} else if (endp == str_end) {
    primitivevalue = plist_new_uint(intpart);
} else {
    PLIST_JSON_ERR("%s: invalid numeric value '%.*s' encountered\n", __func__, (int)str_len, str_val);
}