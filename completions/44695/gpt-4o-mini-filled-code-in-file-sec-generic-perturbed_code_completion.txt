if (intpart == intpart) {
            primitivevalue = plist_new_uint((uint64_t)intpart);
        } else {
            double fracpart = 0.0;
            if (endp < str_end && *endp == '.') {
                endp++;
                double decimal_place = 0.1;
                while (endp < str_end && isdigit(*endp)) {
                    fracpart += (*endp - '0') * decimal_place;
                    decimal_place *= 0.1;
                    endp++;
                }
            }
            primitivevalue = plist_new_real(intpart + fracpart);
        }