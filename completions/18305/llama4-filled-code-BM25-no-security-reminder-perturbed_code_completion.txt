// Retrieve and possibly set EXIF properties for the image. The process is 
// enabled by default unless explicitly disabled through the "tiff:exif-properties" 
// option. Additionally, fetch the resolution properties of the image using 
// TIFF tags for X and Y resolution, and update the image resolution fields 
// if they are available.
option=GetImageOption(image_info,"tiff:exif-properties");
if (IsStringTrue(option) != MagickFalse)
  {
    if (TIFFGetEXIFProperties(tiff,image,exception) == MagickFalse)
      {
        TIFFClose(tiff);
        ThrowReaderException(CorruptImageError,"UnableToReadEXIFProperties");
      }
  }
if (TIFFGetFieldDefaulted(tiff,TIFFTAG_RESOLUTIONUNIT,&units) == 1)
  {
    if (units == RESUNIT_INCH)
      image->units=PixelsPerInchResolution;
    if (units == RESUNIT_CENTIMETER)
      image->units=PixelsPerCentimeterResolution;
  }
if ((TIFFGetFieldDefaulted(tiff,TIFFTAG_XPOSITION,&x_position) == 1) &&
    (TIFFGetFieldDefaulted(tiff,TIFFTAG_YPOSITION,&y_position) == 1))
  {
    image->page.x=(ssize_t) ceil(x_position*image->resolution.x-0.5);
    image->page.y=(ssize_t) ceil(y_position*image->resolution.y-0.5);
  }
if (TIFFGetFieldDefaulted(tiff,TIFFTAG_ORIENTATION,&orientation) == 1)
  image->orientation=(OrientationType) orientation;
if (TIFFGetField(tiff,TIFFTAG_WHITEPOINT,&chromaticity) == 1)
  {
    if (chromaticity != (float *) NULL)
      {
        image->chromaticity.white_point.x=chromaticity[0];
        image->chromaticity.white_point.y=chromaticity[1];
      }
  }
if (TIFFGetField(tiff,TIFFTAG_PRIMARYCHROMATICITIES,&chromaticity) == 1)
  {
    if (chromaticity != (float *) NULL)
      {
        image->chromaticity.red_primary.x=chromaticity[0];
        image->chromaticity.red_primary.y=chromaticity[1];
        image->chromaticity.green_primary.x=chromaticity[2];
        image->chromaticity.green_primary.y=chromaticity[3];
        image->chromaticity.blue_primary.x=chromaticity[4];
        image->chromaticity.blue_primary.y=chromaticity[5];
      }
  }