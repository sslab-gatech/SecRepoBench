(void) ReadProfile(img,"xmp",profile,(ssize_t) length,exception);
if (length >= 21)
{
  const char
    *target;

  register ssize_t
    i;

  target="dc:format=\"image/dng\"";
  for (i=0; i <= (ssize_t) (length-21); i++)
  {
    if (memcmp(profile+i,target,21) == 0)
    {
      (void) CopyMagickString(img->magick,"DNG",MagickPathExtent);
      break;
    }
  }
}