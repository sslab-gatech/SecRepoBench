import numpy as np
from PIL import Image

def fill_masked_region(image_path, mask_path, output_path):
    # Open the image and mask
    image = Image.open(image_path)
    mask = Image.open(mask_path)

    # Ensure both images have the same size
    assert image.size == mask.size, "Images must have the same size"

    # Convert images to numpy arrays
    image_array = np.array(image)
    mask_array = np.array(mask)

    # Apply the mask to the image
    result = np.where(mask_array, image_array, 255)

    # Save the result as a new image
    Image.fromarray(result).save(output_path)