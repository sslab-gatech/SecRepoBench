if ((TIFFGetField(tiff,TIFFTAG_XMLPACKET,&length,&profile) == 1) &&
    (profile!= (unsigned char *) NULL))
{
  const char
    *value;

  value=(const char *) profile;
  if ((LocaleCompare(value,"dc:format=\"image/dng\"") == 0) ||
      (LocaleCompare(value,"dc:format=\"image/x-adobe-dng\"") == 0))
    (void) SetImageFormat(image,"DNG");
  (void) ReadProfile(img,"xmp",profile,(ssize_t) length,exception);
}