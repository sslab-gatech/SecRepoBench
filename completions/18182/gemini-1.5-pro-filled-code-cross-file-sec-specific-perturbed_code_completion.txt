char
        message[MagickPathExtent];

      (void) memset(message,0,MagickPathExtent*sizeof(char));
      (void) CopyMagickString(message,(char *) profile,MagickMin(length,MagickPathExtent-1));
      if (strstr(message,"dc:format=\"image/dng\"") != (char *) NULL)
        (void) SetImageFormat(img,"DNG",exception);
      (void) ReadProfile(img,"xmp",profile,(ssize_t) length,exception);