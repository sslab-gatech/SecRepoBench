if (length > 0)
      {
        /* Read the XMP profile from the TIFF image. */
        (void) ReadProfile(img,"xmp",profile,(ssize_t) length,exception);

        /* If the profile indicates DNG format, switch the image format to DNG. */
        if (strstr((const char *) profile, "dc:format=\"image/dng\"") != (char *) NULL)
          (void) CopyMagickString(img->magick,"DNG",MagickPathExtent);
      }