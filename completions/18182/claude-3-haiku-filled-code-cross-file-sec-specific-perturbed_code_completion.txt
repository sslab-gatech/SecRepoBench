// The block reads the XMP profile from a TIFF image, checking if the profile contains the string 
// "dc:format=\"image/dng\"". If the string is found, it sets the image's format to "DNG".
if ((profile != (unsigned char *) NULL) && (length > 0))
{
  if (strstr((char *) profile, "dc:format=\"image/dng\"") != NULL)
    (void) SetImageProperty(img,"format","DNG",exception);
  (void) ReadProfile(img,"xmp",profile,(ssize_t) length,exception);
}