if ((TIFFGetField(tiff,TIFFTAG_XMLPACKET,&length,&profile) == 1) &&
    (profile!= (unsigned char *) NULL))
{
  const char
    *dng;

  dng=(const char *) profile;
  if ((length >= 32) && (LocaleNCompare(dng,"dc:format=\"image/dng\"",32) == 0))
    (void) SetImageFormat(img,"DNG");
  (void) ReadProfile(img,"xmp",profile,(ssize_t) length,exception);
}