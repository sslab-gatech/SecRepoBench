if (rv && compoundend && !onlycpdrule) {
  sfx = NULL;
  pfx = NULL;
  if (i < word.size())
    rv = affix_check(word, i, word.size() - i, compoundend, IN_CPD_END);
}

if (!rv && !defcpdtable.empty() && words) {
  if (i < word.size())
    rv = affix_check(word, i, word.size() - i, 0, IN_CPD_END);
  if (rv && defcpd_check(&words, wnum + 1, rv, NULL, 1))
    return rv_first;
  rv = NULL;
}