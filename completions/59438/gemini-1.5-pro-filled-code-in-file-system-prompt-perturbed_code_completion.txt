uint32_t len, len2;
	int tm = 0;
	size_t rl = 0, tl = 0;

	simh_bo.u = CAST(uint32_t, 0x01020304);

	DPRINTF("NEED_SWAP %d\n", NEED_SWAP);

	for (;;) {
		len = getlen(&uc);

		if (len == 0xffffffff) /* End of Medium */
			break;

		DPRINTF("len1 %x uc %p ue %p\n", len, uc, end_pointer);
		if (uc + len > end_pointer)
			return 0;
		rl++;
		uc += len;

		len2 = getlen(&uc);
		DPRINTF("len2 %x uc %p ue %p\n", len2, uc, end_pointer);
		if (len2 == 0xffffffff) /* End of Medium */
			break;
		tl++;
		if (len != len2)
			return 0;
		if (uc + len2 > end_pointer)
			return 0;
		uc += len2;
		if (++tm >= SIMH_TAPEMARKS)
			break;
	}

	DPRINTF("records %zu tapemarks %zu\n", rl, tl);
	return rl && tl;