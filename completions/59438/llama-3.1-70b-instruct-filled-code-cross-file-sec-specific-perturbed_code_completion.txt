// Initialize counters for records and tapemarks
int records = 0, tapemarks = 0;

// Iterate through the byte data
while (uc < end_pointer) {
    // Extract the record length using the `getlen` function
    int len = getlen(uc, end_pointer);
    if (len < 0) {
        // Invalid data, return 0
        return 0;
    }

    // Check for the End of Medium (EOM) marker
    if (len == 0xFFFFFFFF) {
        // Terminate parsing
        break;
    }

    // Check if the record length matches its complementary length
    if (len!= getlen(uc + len, end_pointer)) {
        // Invalid data, return 0
        return 0;
    }

    // Increment the record counter
    records++;

    // Check for tapemarks
    if (len == 0) {
        // Increment the tapemark counter
        tapemarks++;

        // Check if the number of tapemarks has reached the limit
        if (tapemarks >= SIMH_TAPEMARKS) {
            // Stop processing further
            break;
        }
    }

    // Move to the next record
    uc += len;
}

// Return 1 if valid SIMH data is found, otherwise 0
return records > 0? 1 : 0;