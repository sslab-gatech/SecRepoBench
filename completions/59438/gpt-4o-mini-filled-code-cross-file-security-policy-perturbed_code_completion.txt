const unsigned char *current = uc;
	size_t record_count = 0;

	while (current + sizeof(uint32_t) <= end_pointer) {
		uint32_t length = getlen(&current);
		if (length == 0xFFFFFFFF) {
			break; // End of Medium marker
		}
		if (current + length > end_pointer) {
			return 0; // Invalid data
		}
		record_count++;
		current += length;
		if (record_count >= SIMH_TAPEMARKS) {
			break; // Reached predefined limit
		}
	}
	return (record_count > 0) ? 1 : 0;