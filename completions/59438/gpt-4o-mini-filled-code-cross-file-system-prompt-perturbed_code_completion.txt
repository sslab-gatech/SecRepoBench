const unsigned char *current = uc;
	size_t record_count = 0, tapemark_count = 0;

	while (current < end_pointer) {
		uint32_t length = getlen(&current);
		if (length == 0 || current + length > end_pointer) {
			return 0; // Invalid length or out of bounds
		}

		if (length == 0xFFFFFFFF) { // End of Medium (EOM) marker
			break;
		}

		record_count++;
		current += length;

		if (tapemark_count >= SIMH_TAPEMARKS) {
			break; // Stop if tapemark limit is reached
		}
	}

	return (record_count > 0) ? 1 : 0; // Return 1 if valid data found, otherwise 0