uint32_t len;
	uint32_t record_count = 0;
	uint32_t tapemark_count = 0;

	while (uc < end_pointer) {
		len = getlen(uc, end_pointer);
		if (len == 0xFFFFFFFF) {
			break;
		}
		if (uc + 4 + len > end_pointer) {
			return 0;
		}
		uint32_t record_len = getlen(uc + 4, end_pointer);
		if (len != record_len) {
			return 0;
		}
		uc += 4 + len + 4;
		record_count++;
		if (record_count > SIMH_RECORDS) {
			return 0;
		}
		if (tapemark_count >= SIMH_TAPEMARKS) {
			break;
		}
	}
	return record_count > 0;