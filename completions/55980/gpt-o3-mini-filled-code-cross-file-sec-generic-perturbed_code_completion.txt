#ifdef DEBUG_PUSH
    xmlGenericError(xmlGenericErrorContext,
         "PP: encoding error encountered at offset %ld\n",
         (long)(ctxt->input->cur - ctxt->input->base));
#endif
{
    int avail = (int)(ctxt->input->end - ctxt->input->cur);
    int report_len = avail < 16 ? avail : 16; /* limit to first 16 bytes for safety */
    xmlGenericError(xmlGenericErrorContext,
         "Encoding error: invalid UTF-8 sequence detected. Problematic bytes: ");
    for (int i = 0; i < report_len; i++) {
        xmlGenericError(xmlGenericErrorContext, "%02X ", (unsigned int)ctxt->input->cur[i]);
    }
    xmlGenericError(xmlGenericErrorContext, "\n");
    xmlFatalErr(ctxt, XML_ERR_INVALID_ENCODING, "Invalid UTF-8 encoding encountered");
    xmlHaltParser(ctxt);
}