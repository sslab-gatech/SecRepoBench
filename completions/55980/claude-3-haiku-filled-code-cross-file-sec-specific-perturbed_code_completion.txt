encoding_error:
    // Check if the input does not conform to UTF-8 encoding
    if (xmlBufUse(parserContext->input->buf->buffer) > parserContext->checkIndex) {
        int len = xmlCheckUTF8(parserContext->input->cur);
        if (len < 1) {
            // Report an encoding error with details about the problematic bytes
            xmlFatalErrMsgStr(parserContext, XML_ERR_INVALID_ENCODING,
                             "Bytes: 0x%02X 0x%02X 0x%02X 0x%02X\n",
                             parserContext->input->cur[0],
                             parserContext->input->cur[1],
                             parserContext->input->cur[2],
                             parserContext->input->cur[3]);
            // Terminate the parsing process upon encountering this error
            xmlHaltParser(parserContext);
        }
        parserContext->input->cur += len;
        parserContext->checkIndex += len;
        goto encoding_error;
    }