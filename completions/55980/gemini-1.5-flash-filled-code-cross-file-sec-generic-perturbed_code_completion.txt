encoding_error:
    if (parserContext->errNo == XML_ERR_INVALID_ENCODING) {
        xmlChar *enc = xmlStrdup(BAD_CAST "UTF-8");
        if (enc != NULL) {
            xmlGenericError(xmlGenericErrorContext,
                            "Encoding error: The input does not conform to UTF-8 encoding.\n");
            xmlFree(enc);
        }
        xmlHaltParser(parserContext);
        return 0;
    }
    return(ret);