encoding_error:
    if ((ctxt->sax != NULL) && (ctxt->sax->error != NULL)) {
        xmlErrorPtr err = xmlCtxtGetLastError(ctxt);

        if (err != NULL) {
            ctxt->sax->error(ctxt->userData, err->message);
        } else {
            ctxt->sax->error(ctxt->userData, "encoding error\n");
        }
    }
    xmlHaltParser(ctxt);
    return(0);