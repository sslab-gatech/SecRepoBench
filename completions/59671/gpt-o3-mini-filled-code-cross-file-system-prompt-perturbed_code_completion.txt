case MV_TYPE_FIELD:
    mpeg_motion_lowres(s, dest_y, dest_cb, dest_cr,
                       1,
                       (s->picture_structure == PICT_BOTTOM_FIELD) ? 1 : 0,
                       (s->picture_structure == PICT_TOP_FIELD)    ? 0 : 1,
                       ref_picture, pix_op,
                       s->mv[dir][0][0], s->mv[dir][0][1],
                       2 * block_s, macroblocky);
    break;
case MV_TYPE_16X8:
    mpeg_motion_lowres(s, dest_y, dest_cb, dest_cr,
                       0, 0, 0,
                       ref_picture, pix_op,
                       s->mv[dir][0][0], s->mv[dir][0][1],
                       block_s, macroblocky);
    mpeg_motion_lowres(s, dest_y + block_s * s->linesize, dest_cb, dest_cr,
                       0, 0, 0,
                       ref_picture, pix_op,
                       s->mv[dir][1][0], s->mv[dir][1][1],
                       block_s, macroblocky);
    break;
case MV_TYPE_DMV:
{
    int block_dim = 2 * block_s;
    uint8_t temp[256];
    int i, j;
    /* First prediction using the first DMV motion vector */
    mpeg_motion_lowres(s, dest_y, dest_cb, dest_cr,
                       0, 0, 0,
                       ref_picture, pix_op,
                       s->mv[dir][0][0], s->mv[dir][0][1],
                       block_dim, macroblocky);
    /* Second prediction using the second DMV motion vector into a temporary buffer */
    mpeg_motion_lowres(s, temp, dest_cb, dest_cr,
                       0, 0, 0,
                       ref_picture, pix_op,
                       s->mv[dir][1][0], s->mv[dir][1][1],
                       block_dim, macroblocky);
    /* Average luma from both predictions */
    for (i = 0; i < block_dim; i++) {
        for (j = 0; j < block_dim; j++) {
            dest_y[j + i * s->linesize] = (dest_y[j + i * s->linesize] + temp[j + i * s->linesize] + 1) >> 1;
        }
    }
    /* For chroma, average the motion vectors and perform compensation */
    {
        int mx = s->mv[dir][0][0] + s->mv[dir][1][0];
        int my = s->mv[dir][0][1] + s->mv[dir][1][1];
        if (!CONFIG_GRAY || !(s->avctx->flags & AV_CODEC_FLAG_GRAY))
            chroma_4mv_motion_lowres(s, dest_cb, dest_cr, ref_picture, pix_op, mx, my);
    }
}
break;