// Get the length of the content from the specified position.
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actual content of the metalayer.
  uint8_t* content_marker = trailer + offset;
  int32_t content_len;
  from_big(&content_len, idxp, sizeof(content_len));
  idxp += sizeof(content_len);

  // Validate the content marker at the specified offset.
  if (content_marker[0] != 0xd2) {
    return BLOSC2_ERROR_DATA;
  }

  // Read the actua