for (i=0; i < (ssize_t) number_vertices; i++)
{
  if (primitive_info[i].point.y <= (double) y)
    continue;
  if (primitive_info[i-1].point.y > (double) y)
    continue;
  if (fabs(primitive_info[i].point.y-primitive_info[i-1].point.y) < MagickEpsilon)
    {
      if (primitive_info[i].point.x < primitive_info[i-1].point.x)
        {
          dx=primitive_info[i].point.x-primitive_info[i-1].point.x;
          dy=primitive_info[i].point.y-primitive_info[i-1].point.y;
        }
      else
        {
          dx=primitive_info[i-1].point.x-primitive_info[i].point.x;
          dy=primitive_info[i-1].point.y-primitive_info[i].point.y;
        }
    }
  else
    {
      dx=primitive_info[i].point.x-primitive_info[i-1].point.x;
      dy=primitive_info[i].point.y-primitive_info[i-1].point.y;
    }
  if ((dy > 0.0) && (y >= primitive_info[i-1].point.y) &&
      (y < primitive_info[i].point.y))
    winding_number++;
  else
    if ((dy < 0.0) && (y >= primitive_info[i].point.y) &&
        (y < primitive_info[i-1].point.y))
      winding_number--;
}