for (i = 0; i < (ssize_t) p->number_points; i++)
{
  if ((double) ycoordinate <= (p->points[i-1].y-mid-0.5))
    break;
  if ((double) ycoordinate > (p->points[i].y+mid+0.5))
    continue;
  if (p->points[i].x >= p->points[i-1].x)
  {
    if (((double) x <= p->points[i-1].x) || ((double) x > p->points[i].x))
      continue;
    winding_number++;
  }
  else
  {
    if (((double) x <= p->points[i].x) || ((double) x > p->points[i-1].x))
      continue;
    winding_number--;
  }
}