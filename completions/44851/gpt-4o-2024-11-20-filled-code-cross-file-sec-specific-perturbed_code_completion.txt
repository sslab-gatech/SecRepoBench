for (i = 0; i < (ssize_t)p->number_points - 1; i++) {
      const PointInfo *point1 = &p->points[i];
      const PointInfo *point2 = &p->points[i + 1];

      // Check if the edge crosses the horizontal line at ycoordinate
      if (((point1->y <= ycoordinate) && (point2->y > ycoordinate)) ||
          ((point1->y > ycoordinate) && (point2->y <= ycoordinate))) {
        // Calculate the x-coordinate of the intersection
        double intersect_x = point1->x + (ycoordinate - point1->y) *
                             (point2->x - point1->x) / (point2->y - point1->y);

        // Update the winding number based on the direction of the edge
        if (intersect_x > x) {
          if (point1->y < point2->y)
            winding_number++;
          else
            winding_number--;
        }
      }
    }