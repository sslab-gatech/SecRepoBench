VarRegionList* dest = c->start_serialize<VarRegionList>();
if (!dest) return false;

dest->axisCount = src->axisCount;
dest->regionCount = regionmapping.get_population();

unsigned total_regions_size = dest->regionCount * dest->axisCount * sizeof(VarAxisRegion);
if (!c->extend(dest, total_regions_size)) return false;

unsigned axis_count = src->axisCount;
for (unsigned i = 0; i < dest->regionCount; i++)
{
    unsigned src_region_idx = regionmapping.get_backward(i);
    const VarRegion* src_region = &src->regions[src_region_idx];
    VarAxisRegion* dest_region = &dest->regions[i * axis_count];
    
    for (unsigned j = 0; j < axis_count; j++)
        dest_region[j] = src_region->axes[j];
}

return true;