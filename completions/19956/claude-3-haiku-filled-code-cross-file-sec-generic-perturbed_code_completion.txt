unsigned int region_count = regionmapping.get_population ();
if (!c->allocate_size<VarRegionList> (region_count))
  return false;

VarRegionList *dest = c->start_serialize<VarRegionList> ();
dest->axis_count = src->axis_count;
dest->region_count = region_count;

for (const auto &region_pair : regionmapping)
{
  const VarRegion *src_region = src->get_region (region_pair.second);
  VarRegion *dest_region = dest->add_region ();
  memcpy (dest_region, src_region, sizeof (VarRegion));
}

return true;