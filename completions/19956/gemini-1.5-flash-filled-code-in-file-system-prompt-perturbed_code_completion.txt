auto *out = c->serializer->start_embed (*this);
    if (unlikely (!out)) return false;

    out->axisCount = axisCount;
    out->regionCount = regionmapping.get_population ();

    unsigned int size = out->get_size ();
    if (unlikely (!c->allocate_size<VarRegionAxis> (size))) return false;

    for (const auto &region : regionmapping)
    {
      unsigned int src_region_index = region.first;
      unsigned int dest_region_index = region.second;

      const VarRegionAxis *src_axes = axesZ.arrayZ + (src_region_index * axisCount);
      VarRegionAxis *dest_axes = out->axesZ.arrayZ + (dest_region_index * axisCount);

      for (unsigned int i = 0; i < axisCount; i++)
      {
        dest_axes[i] = src_axes[i];
      }
    }

    return true;