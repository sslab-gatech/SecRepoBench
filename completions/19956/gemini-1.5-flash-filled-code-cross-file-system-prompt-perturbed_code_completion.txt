uint32_t *serialized_data = (uint32_t *)hb_serialize_context_alloc(c, sizeof(uint32_t) * (src->axes_count + src->regions_count * src->axes_count));
    if (!serialized_data) return false;

    *serialized_data++ = src->axes_count;
    *serialized_data++ = src->regions_count;

    for (size_t i = 0; i < src->regions_count; ++i) {
        uint32_t region_index = regionmapping.get(i);
        if (region_index == hb_bimap_t::invalid_index) return false; // Handle missing mapping

        for (size_t j = 0; j < src->axes_count; ++j) {
            *serialized_data++ = src->regions[i].axes[j];
        }
    }

    return true;