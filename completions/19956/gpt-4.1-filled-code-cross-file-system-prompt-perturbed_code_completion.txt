TRACE_SERIALIZE (this);

unsigned int axisCount = src->axisCount;
unsigned int regionCount = regionmapping.get_population ();

VarRegionList *dest = c->extend_min (*this);
if (unlikely (dest == nullptr)) return_trace (false);

dest->axisCount = axisCount;
dest->regionCount = regionCount;

unsigned int size = VarRegionList::min_size + regionCount * axisCount * sizeof (VarRegionAxis);
VarRegionAxis *axes = c->allocate_size<VarRegionAxis> (regionCount * axisCount * sizeof (VarRegionAxis));
if (unlikely (axes == nullptr)) return_trace (false);

for (unsigned int i = 0; i < regionCount; i++)
{
  unsigned int src_region = regionmapping[i];
  for (unsigned int j = 0; j < axisCount; j++)
  {
    axes[i * axisCount + j] = src->axes[src_region * axisCount + j];
  }
}

return_trace (true);