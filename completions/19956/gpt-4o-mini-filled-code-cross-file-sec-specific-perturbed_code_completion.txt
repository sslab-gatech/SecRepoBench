if (src == nullptr || regionmapping.empty())
        return false;

    unsigned int axis_count = src->get_axis_count();
    unsigned int region_count = regionmapping.size();
    
    // Allocate memory for the serialized data
    SerializedData *data = c->allocate_size<SerializedData>(sizeof(SerializedData) + axis_count * sizeof(AxisData) + region_count * sizeof(RegionData));
    if (data == nullptr) return false;

    data->axis_count = axis_count;
    data->region_count = region_count;

    // Serialize axis data
    for (unsigned int i = 0; i < axis_count; i++) {
        data->axis_data[i] = src->get_axis_data(i);
    }

    // Serialize region data
    for (unsigned int i = 0; i < region_count; i++) {
        const auto &mapping = regionmapping[i];
        data->region_data[i].source = mapping.source;
        data->region_data[i].destination = mapping.destination;
    }

    return true;