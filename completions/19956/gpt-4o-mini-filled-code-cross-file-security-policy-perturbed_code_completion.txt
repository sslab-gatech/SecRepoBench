if (src->length == 0)
    {
        c->allocate_min<VarRegionList>();
        return true;
    }

    c->extend_min(*this);
    this->count = src->length;

    for (unsigned int i = 0; i < regionmapping.size(); i++)
    {
        if (i >= src->length) 
            return false; // Ensure index is within valid range

        const VarRegion &region = src->regions[i];
        // Serialize the region using the mapping
        // Assuming regionmapping[i] gives the correct mapping for the region
        this->regions[i] = regionmapping[i].serialize(region);
    }

    return true;