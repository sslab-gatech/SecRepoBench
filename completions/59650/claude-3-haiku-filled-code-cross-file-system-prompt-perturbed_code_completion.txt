if (record.isNull())
{
    return resRec;
}

uint8_t* nextRecordPtr = record.getRawData() + record.getSize();
if (nextRecordPtr >= tlvBufferPtr + tlvDataLen)
{
    resRec.assign(NULL);
    return resRec;
}

resRec.assign(nextRecordPtr);
return resRec;