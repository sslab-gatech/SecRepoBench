/*
    Create a temporary filename for Ghostscript processing and establish
    our initial page geometry, resolution, and color space settings.
  */
  columns=0;
  rows=0;
  page.width=0;
  page.height=0;
  page.x=0;
  page.y=0;

  /*
    Acquire a unique filename so Ghostscript can safely process the input
    without risking conflicts or overwriting other files. Use a symbolic link
    if available to avoid duplicating large files on disk.
  */
  if (AcquireUniqueFilename(postscript_filename) == MagickFalse)
    ThrowReaderException(FileOpenError,"UnableToCreateTemporaryFile");
#if defined(MAGICKCORE_HAVE_SYMLINK)
  if (symlink(image_info->filename,postscript_filename) != 0)
    ThrowReaderException(FileOpenError,"UnableToCreateTemporaryFile");
#else
  {
    (void) CopyMagickString(command,postscript_filename,MagickPathExtent);
    if (CopyDelegateFile(image_info->filename,command) == MagickFalse)
      ThrowReaderException(FileOpenError,"UnableToCopyFile");
  }
#endif

  /*
    Clone the ImageInfo structure so we can safely set size or density
    options for Ghostscript, then read the rendered Postscript file
    (Ghostscript is invoked automatically by ReadImages).
  */
  read_info=CloneImageInfo(image_info);
  if (image_info->density != (char *) NULL)
    (void) CopyMagickString(read_info->density,image_info->density,
      MagickPathExtent);
  if (image_info->size != (char *) NULL)
    (void) CopyMagickString(read_info->size,image_info->size,
      MagickPathExtent);

  postscript_image=ReadImages(read_info,postscript_filename,exception);
  read_info=DestroyImageInfo(read_info);

  /*
    If the delegate failed, report an error. Otherwise, attach the
    Ghostscript-rendered pages to our main image list.
  */
  if (postscript_image == (Image *) NULL)
    ThrowReaderException(DelegateError,"PostScriptDelegateFailed");

  if (image == (Image *) NULL)
    image=postscript_image;
  else
    AppendImageToList(&image,postscript_image);