(void) CopyMagickString(filename,image_info->filename,MagickPathExtent);
  if (*image_info->magick != '\0')
    (void) CopyMagickString(postscript_filename,image_info->magick,
      MagickPathExtent);
  else
    (void) CopyMagickString(postscript_filename,"PS",MagickPathExtent);
  if (image_info->density != (char *) NULL)
    density=AcquireString(image_info->density);
  else
    density=AcquireString("72x72");
  (void) FormatLocaleString(geometry,MagickPathExtent,"%gx%g",
    image->resolution.x != 0.0 ? image->resolution.x : 72.0,
    image->resolution.y != 0.0 ? image->resolution.y : 72.0);
  (void) FormatLocaleString(command,MagickPathExtent,
    "gs -sDEVICE=pngalpha -dQUIET -dSAFER -dBATCH -dNOPAUSE -dNOPROMPT "
    "-dMaxBitmap=500000000 -dAlignToPixels=0 -dGridFitTT=2 "
    "\"-sOutputFile=%s\" -dTextAlphaBits=%u -dGraphicsAlphaBits=%u "
    "-r%s \"%s\"",postscript_filename,4,4,density,filename);
  delegate_info=GetDelegateInfo("gs",(char *) NULL,exception);
  if (delegate_info == (const DelegateInfo *) NULL)
    {
      image=DestroyImageList(image);
      return((Image *) NULL);
    }
  options=InterpretDelegateOptions(delegate_info,image_info,(char *) NULL);
  if (options != (char *) NULL)
    (void) ConcatenateString(&command,options);
  filedescriptor=AcquireUniqueFileResource(postscript_filename);
  if (filedescriptor == -1)
    {
      image=DestroyImageList(image);
      return((Image *) NULL);
    }
  (void) close(filedescriptor);
  (void) DeleteFileFromDisk(postscript_filename);
  (void) ExecuteDelegateCommand(image_info->delegate,image_info->verbose,
    command,(char *) NULL,exception);
  read_info=CloneImageInfo(image_info);
  (void) CopyMagickString(read_info->filename,postscript_filename,
    MagickPathExtent);
  postscript_image=ReadImage(read_info,exception);
  read_info=DestroyImageInfo(read_info);
  if (postscript_image == (Image *) NULL)
    {
      image=DestroyImageList(image);
      return((Image *) NULL);
    }