image=ReadImage(read_info,exception);
if (image == (Image *) NULL)
  ThrowReaderException(CorruptImageError,"ImageFileDoesNotContainAnyImageData");
do
{
  (void) SetImageInfo(read_info,1,exception);
  if (image_info->ping != MagickFalse)
    {
      (void) CloseBlob(image);
      image->columns=page.width;
      image->rows=page.height;
      goto next_image;
    }
  /*
    Render Postscript image.
  */
  if (delegate_info->mode != 0)
    {
      (void) CopyMagickString(filename,read_info->filename,MagickPathExtent);
      (void) AcquireUniqueFilename(filename);
      (void) FormatLocaleString(command,MagickPathExtent,
        delegate_info->commands,read_info->filename,filename);
    }
  else
    {
      (void) FormatLocaleString(command,MagickPathExtent,
        delegate_info->commands,read_info->filename,read_info->filename);
      (void) CopyMagickString(filename,read_info->filename,MagickPathExtent);
    }
  status=InvokePostscriptDelegate(read_info->verbose,command,exception);
  (void) InterpretImageFilename(image_info,image,filename,
    (int) image->scene,read_info->filename,exception);
  if (status == MagickFalse)
    {
      (void) RelinquishUniqueFileResource(filename);
      image=DestroyImageList(image);
      return((Image *) NULL);
    }
  /*
    Read Ghostscript output.
  */
  DestroyImageInfo(read_info);
  read_info=CloneImageInfo(image_info);
  (void) CopyMagickString(read_info->filename,filename,MagickPathExtent);
  (void) SetImageInfoProgressMonitor(read_info,(MagickProgressMonitor) NULL,
    (void *) NULL);
  read_info->number_scenes=0;
  read_info->scene=0;
  postscript_image=ReadImage(read_info,exception);
  if (postscript_image == (Image *) NULL)
    {
      (void) RelinquishUniqueFileResource(filename);
      image=DestroyImageList(image);
      return((Image *) NULL);
    }
  (void) RelinquishUniqueFileResource(filename);
  if (LocaleCompare(postscript_image->magick,"BMP") == 0)
    {
      Image
        *cmyk_image;

      cmyk_image=ConsolidateCMYKImages(postscript_image,exception);
      if (cmyk_image != (Image *) NULL)
        {
          postscript_image=DestroyImageList(postscript_image);
          postscript_image=cmyk_image;
        }
    }