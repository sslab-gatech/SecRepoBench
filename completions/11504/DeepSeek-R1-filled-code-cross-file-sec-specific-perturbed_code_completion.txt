ret = parser_ctxt->freeElems;
parser_ctxt->freeElems = ret->next;
parser_ctxt->freeElemsNr--;

memset(ret, 0, sizeof(*ret));
ret->type = XML_ELEMENT_NODE;
ret->doc = parser_ctxt->myDoc;

if (parser_ctxt->dictNames) {
    ret->name = (xmlChar *)localname;
} else if (lname != NULL) {
    ret->name = lname;
} else {
    ret->name = xmlStrdup(localname);
    if (ret->name == NULL) {
        xmlSAX2ErrMemory(parser_ctxt, "xmlSAX2StartElementNs");
        ret->next = parser_ctxt->freeElems;
        parser_ctxt->freeElems = ret;
        parser_ctxt->freeElemsNr++;
        return;
    }
}