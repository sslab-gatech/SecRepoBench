ret = (xmlNodePtr) xmlMalloc(sizeof(xmlNode));
if (ret == NULL) {
    xmlSAX2ErrMemory(ctxt, "xmlSAX2StartElementNs");
    return;
}
memset(ret, 0, sizeof(xmlNode));
ret->type = XML_ELEMENT_NODE;

if (ctxt->dictNames)
    ret->name = (xmlChar *) localname;
else
    ret->name = xmlStrdup(localname);
if (ret->name == NULL) {
    xmlFree(ret);
    xmlSAX2ErrMemory(ctxt, "xmlSAX2StartElementNs");
    return;
}

if ((__xmlRegisterCallbacks) && (xmlRegisterNodeDefaultValue))
    xmlRegisterNodeDefaultValue(ret);