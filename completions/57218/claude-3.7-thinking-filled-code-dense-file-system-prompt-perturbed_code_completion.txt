unsigned int iBone = 0;
unsigned int boneNameLength = 0;
bool bQuota = true;

if (!SkipSpacesAndLineEnd(szCurrent, &szCurrent)) {
    LogErrorNoThrow("Unexpected EOF while parsing node");
    SMDI_PARSE_RETURN;
}

if (!ParseUnsignedInt(szCurrent, &szCurrent, iBone)) {
    LogErrorNoThrow("Unexpected EOF/EOL while parsing bone index");
    SMDI_PARSE_RETURN;
}

if (iBone >= asBones.size()) {
    asBones.resize(iBone + 1, SMD::Bone());
}

SMD::Bone& bone = asBones[iBone];

if (!SkipSpaces(&szCurrent)) {
    LogErrorNoThrow("Unexpected EOF while parsing node");
    SMDI_PARSE_RETURN;
}