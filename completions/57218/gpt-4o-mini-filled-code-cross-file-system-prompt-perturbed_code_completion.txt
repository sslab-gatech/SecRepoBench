std::string boneName;
if (bQuota) {
    ++szCurrent; // Skip the opening quote
} else {
    LogWarning("Bone name is expected to be enclosed in double quotation marks.");
    bQuota = false;
}

const char* szStart = szCurrent;
while (*szCurrent && ('\"' != *szCurrent) && !IsSpaceOrNewLine(*szCurrent)) {
    ++szCurrent;
}

if (szCurrent == szStart) {
    LogErrorNoThrow("Unexpected EOF/EOL while parsing bone name");
    SMDI_PARSE_RETURN;
}

boneName = std::string(szStart, szCurrent - szStart);
if (bQuota) {
    if ('\"' != *szCurrent) {
        LogErrorNoThrow("Expected closing quote for bone name");
        SMDI_PARSE_RETURN;
    }
    ++szCurrent; // Skip the closing quote
}