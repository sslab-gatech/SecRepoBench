unsigned int iBoneIndex = 0;
bool bQuota = true;

if (!SkipSpaces(&currentChar)) {
    LogErrorNoThrow("Unexpected EOF/EOL while parsing bone index");
    SMDI_PARSE_RETURN;
}

if (!ParseUnsignedInt(currentChar, &currentChar, iBoneIndex)) {
    LogErrorNoThrow("Unexpected EOF/EOL while parsing bone index");
    SMDI_PARSE_RETURN;
}

if (iBoneIndex >= asBones.size()) {
    LogErrorNoThrow("Bone index out of range");
    SMDI_PARSE_RETURN;
}

SMD::Bone& bone = asBones[iBoneIndex];