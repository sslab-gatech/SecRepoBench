unsigned int boneIndex = 0;
bool bQuota = true;

if (!SkipSpacesAndLineEnd(szCurrent, &szCurrent)) {
    LogErrorNoThrow("Unexpected EOF/EOL while parsing bone index");
    SMDI_PARSE_RETURN;
}

if (!ParseUnsignedInt(szCurrent, &szCurrent, boneIndex)) {
    LogErrorNoThrow("Unexpected EOF/EOL or invalid bone index encountered");
    SMDI_PARSE_RETURN;
}

if (boneIndex >= static_cast<unsigned int>(mBones.size())) {
    mBones.resize(boneIndex + 1);
}

SMD::Bone& bone = mBones[boneIndex];