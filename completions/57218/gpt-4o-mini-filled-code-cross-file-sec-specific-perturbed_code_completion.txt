size_t iBone = 0;
bool bQuota = true;

if (IsSpaceOrNewLine(*currentChar)) {
    LogWarning("Unexpected space or newline before bone name.");
    SMDI_PARSE_RETURN;
}

while (*currentChar && !IsSpaceOrNewLine(*currentChar) && *currentChar != '\"') {
    ++currentChar;
}

if (currentChar == szEnd) {
    LogErrorNoThrow("No bone name found.");
    SMDI_PARSE_RETURN;
}