// Check if the current character in the condition is a ']'.
if (cond[cond_index] == ']') {
  // Find the matching '[' for the ']'
  int start = cond_index - 1;
  while (start >= 0 && cond[start] != '[') {
    start--;
  }
  if (start < 0) {
    HUNSPELL_WARNING(stderr,
                     "error: line %d: missing [ in condition:\n%s\n",
                     linenum, cond.c_str());
    return 0;
  }

  // Check if the strip character is within the character set defined in the condition
  neg = (cond[start + 1] == '^') ? 1 : 0;
  in = 0;
  for (int j = start + 1 + neg; j < cond_index; j++) {
    if (strip[i] == cond[j]) {
      in = 1;
      break;
    }
  }

  // If the character set is negated, check if the strip character's presence in the set matches the negation status
  if ((!neg && !in) || (neg && in)) {
    HUNSPELL_WARNING(stderr,
                     "warning: line %d: incompatible stripping "
                     "characters and condition\n",
                     linenum);
    return 0;
  }

  // Move the condition index to the end of the character set
  while (cond_index < condl && cond[cond_index] != ']') {
    cond_index++;
  }
} else {
  // Compare the current characters of the strip and condition
  if (cond[cond_index] != strip[i]) {
    HUNSPELL_WARNING(stderr,
                     "warning: line %d: incompatible stripping "
                     "characters and condition\n",
                     linenum);
    return 0;
  }
}