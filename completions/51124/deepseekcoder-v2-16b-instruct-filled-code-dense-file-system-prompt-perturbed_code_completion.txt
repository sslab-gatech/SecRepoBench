for (i = stripl - 1, cond_index = condl - 1; (i >= 0) && (cond_index >= 0); i--, cond_index--) {
  if (cond[cond_index] == ']') {
    if (strip[i] == cond[cond_index - 1]) {
      cond_index--;
    } else {
      HUNSPELL_WARNING(stderr,
                       "error: line %d: missing [ in condition:\n%s\n",
                       linenum, cond.c_str());
      return 0;
    }
  } else if (cond[cond_index] == '[') {
    neg = (cond[cond_index + 1] == '^') ? 1 : 0;
    ingroup = false;
    cond_index++;
    while (cond_index < condl && cond[cond_index] != ']') {
      if (strip[i] == cond[cond_index]) {
        ingroup = true;
      }
      cond_index++;
    }
    if (cond_index == condl || cond[cond_index] != ']') {
      HUNSPELL_WARNING(stderr,
                       "error: line %d: missing ] in condition:\n%s\n",
                       linenum, cond.c_str());
      return 0;
    }
    if ((!neg && !ingroup) || (neg && ingroup)) {
      HUNSPELL_WARNING(stderr,
                       "warning: line %d: incompatible stripping "
                       "characters and condition\n",
                       linenum);
      return 0;
    }
  } else {
    if (strip[i] != cond[cond_index]) {
      HUNSPELL_WARNING(stderr,
                       "warning: line %d: incompatible stripping "
                       "characters and condition\n",
                       linenum);
      return 0;
    }
  }
}
if (cond_index < 0)
  return 1;