// Check if the compound word contains repetitions of characters or patterns
if (checkcompoundrep) {
    std::string tmp = compound_word;
    tmp[i] = '\0';
    if (cpdrep_check(tmp.c_str(), i)) {
        return NULL;
    }
}

// Check for forbidden words in the compound
if (forbiddenword) {
    std::string tmp = compound_word.substr(i);
    if (check_forbidden(tmp)) {
        return NULL;
    }
}

// Restore the modified character
st[i] = ch;