if (checkcompoundrep || forbiddenword) {
  std::string orig_st = st;
  st[i] = '\0';
  if (checkcompoundrep && cpdrep_check(st.c_str(), i))
    return NULL;
  if (forbiddenword) {
    if (pAMgr->check_forbidden(st))
      return NULL;
    char * s = (char *) compound_word.c_str() + i;
    if (pAMgr->check_forbidden(s))
      return NULL;
  }
  st = orig_st;
}