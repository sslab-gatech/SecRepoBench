if (checkcompoundrep || forbiddenword) {
  std::string tmp(compound_word.substr(0, i));
  if (tmp == compound_word.substr(i)) {
    char c = compound_word[i];
    compound_word[i] = '\0';
    if ((checkcompoundrep && cpdrep_check(compound_word.c_str(), i)) ||
        (forbiddenword && check_forbidden(compound_word))) {
      compound_word[i] = c;
      continue;
    }
    compound_word[i] = c;
  }
}