if (checkcompoundrep || forbiddenword) {
  std::string tmp(compound_word.substr(0, i));
  tmp.append(compound_word.substr(i));
  if (checkcompoundrep && cpdrep_check(tmp.c_str(), tmp.size()))
    return NULL;
  if (forbiddenword) {
    char oldchar = tmp[i];
    tmp[i] = '\0';
    if (pAMgr->check_forbidden(tmp.c_str()))
      return NULL;
    tmp[i] = oldchar;
    if (pAMgr->check_forbidden(tmp.c_str() + i))
      return NULL;
  }
}