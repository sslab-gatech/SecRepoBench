reptable.back().pattern.assign(ph);
            reptable.back().outstrings[0].assign(wordpart);
          }
        }
      }
    }
  }

  // store the pointer of the hash entry
  if (!complexprefixes && HENTRY_DATA(hp)) {
    hp->var |= H_OPT;
    store_pointer(hpw + word->size() + 1, hp);
  }

  // store the hash entry
  hp->next = htable[i];
  htable[i] = hp;

  // store the homonym
  if (onlyupcase) {
    upcasehomonym = true;
    hp->next_homonym = upcaseh;
    upcaseh = hp;
  } else {
    hp->next_homonym = h;
    h = hp;
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIASM) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() + 1, hp);
    }
  }

  // store the hash entry in the hash table
  if (hp->var & H_OPT) {
    if (hp->var & H_OPT_ALIAS) {
      hp->var |= H_OPT_ALIAS;
      store_pointer(hpw + word->size() + 1, hp);
    }
    if (hp->var & H_OPT_PHON) {
      hp->var |= H_OPT_PHON;
      store_pointer(hpw + word->size() +