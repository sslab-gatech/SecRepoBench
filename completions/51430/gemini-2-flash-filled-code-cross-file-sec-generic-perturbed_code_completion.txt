size_t i_safe = std::min((size_t)i, compound_word.size());
                std::string first_part = compound_word.substr(0, i_safe);
                size_t len_safe = std::min(len, compound_word.size());

                if (checkcompoundrep) {
                  std::string temp_word = compound_word;
                  char original_char = temp_word[i_safe];
                  temp_word[i_safe] = '\0';

                  if (cpdrep_check(temp_word.c_str(), len_safe)) {
                    temp_word[i_safe] = original_char;
                    continue;
                  }
                  temp_word[i_safe] = original_char;
                }

                if (forbiddenword) {
                  std::string temp_word = compound_word;
                  size_t i_safe = std::min((size_t)i, compound_word.size());
                  char original_char = temp_word[i_safe];
                  temp_word[i_safe] = '\0';

                  if (SuggestMgr::check_forbidden(temp_word)) {
                    continue;
                  }
                  temp_word[i_safe] = original_char;
                }
              }