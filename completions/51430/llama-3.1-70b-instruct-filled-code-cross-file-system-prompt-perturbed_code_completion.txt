// Check if the compound word contains repetitions of characters or patterns.
// If such a pattern is found, return NULL to indicate an invalid compound word.
// Compare the first part of the compound word with the current segment.
// If they match, temporarily modify the string to check for repetitions or
// forbidden word patterns in the modified segment.
// If a forbidden pattern or word is detected, restore the modified character
// and continue to the next iteration.
// If no issues are detected, restore the modified character and proceed.

if (checkcompoundrep || forbiddenword) {
  size_t len = compound_word.size();
  std::string first_part = compound_word.substr(0, i);
  std::string second_part = compound_word.substr(i);

  // Check for repetitions of characters or patterns
  if (checkcompoundrep && cpdrep_check(compound_word.c_str(), len)) {
    return NULL;
  }

  // Check for forbidden word patterns
  if (forbiddenword) {
    // Temporarily modify the string to check for forbidden word patterns
    char temp_char = compound_word[i];
    compound_word[i] = '\0';

    // Check if the modified segment is a forbidden word
    if (check_forbidden(second_part)) {
      compound_word[i] = temp_char;  // Restore the modified character
      return NULL;
    }

    compound_word[i] = temp_char;  // Restore the modified character
  }
}