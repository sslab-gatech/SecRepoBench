if (checkcompoundrep && cpdrep_check(compound_word.c_str(), len)) {
                return NULL;
              }

              // Check for forbidden word patterns
              if (forbiddenword && check_forbidden(compound_word.substr(0, i))) {
                return NULL;
              }

              // Check for repetitions in the compound word
              std::string segment = compound_word.substr(0, i);
              if (std::count(segment.begin(), segment.end(), segment.back()) > 1) {
                return NULL;
              }
            }