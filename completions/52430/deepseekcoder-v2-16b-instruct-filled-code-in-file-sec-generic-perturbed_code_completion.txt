// no more patterns to check

          if (checkcpdtable[scpd - 1].pattern3.empty())
            break;  // no more patterns to check

          if (i + checkcpdtable[scpd - 1].pattern3.size() > word.size())
            break;  // no more patterns to check

          if (cpdpat_check(word, i, words[wordnum], words[wordnum + 1], affixed))
            break;  // forbid compoundings when there are special patterns at word bound

          if (cpdcase_check(word.c_str(), i))
            break;  // forbid compounding with neighbouring upper and lower case characters at word bounds

          if (cpdwordpair_check(word, i + 1))
            break;  // forbid compound words, if they are in the dictionary as a word pair separated by space

          if (cpdrep_check(word, i + 1))
            break;  // forbid compound words, if they are in the dictionary as a word pair separated by space

          if (onlycpdrule && !checked_prefix) {
            checked_prefix = 1;
            for (auto& j : checkcpdtable) {
              if (isSubset(j.pattern.c_str(), word.c_str() + i) &&
                  (!words[wordnum] || !j.cond ||
                   (words[wordnum]->astr &&
                    TESTAFF(words[wordnum]->astr, j.cond,
                            words[wordnum]->alen)))) {
                if (j.pattern[0] == '0') {
                  if (words[wordnum]->blen <= i &&
                      strncmp(word.c_str() + i - words[wordnum]->blen,
                              words[wordnum]->word, words[wordnum]->blen) == 0) {
                    break;
                  }
                } else {
                  size_t len = j.pattern.size();
                  if (len <= i &&
                      strncmp(word.c_str() + i - len, j.pattern.c_str(), len) == 0) {
                    break;
                  }
                }
              }
            }
          }
        }

        if (onlycpdrule && !checkedstriple && checkcompoundtriple &&
            i + 2 < word.size() && word[i] == word[i + 1] && word[i] == word[i + 2]) {
          checkedstriple = 1;
          break;
        }

        if (onlycpdrule && !soldi && checkcompoundrep &&
            cpdrep_check(word, i + 1)) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !striple && checkcompounddup &&
            i + 1 < word.size() && word[i] == word[i + 1]) {
          striple = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, forbiddenword,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, nosuggest,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, nongramsuggest,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, needaffix,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, lemma_present,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, circumfix,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, onlyincompound,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, simplifiedtriple,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, warn,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, forbidwarn,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;
        }

        if (onlycpdrule && !soldi && forbidwarn &&
            (words[wordnum] && words[wordnum]->astr &&
             TESTAFF(words[wordnum]->astr, substandard,
                     words[wordnum]->alen))) {
          soldi = 1;
          break;