// ***** BEGIN LICENSE BLOCK *****
// Version: MPL 1.1/GPL 2.0/LGPL 2.1
//
// The contents of this file are subject to the Mozilla Public License Version
// 1.1 (the "MPL"), the GNU General Public License Version 2 or later
// (the "GPL"), and the GNU Lesser General Public License Version 2.1 or later
// (the "LGPL"), in that order of preference. If neither of these
// licenses apply to you, in that case we grant you an irrevocable
// permission to use the covered materials at your option under any
// of the aforementioned licenses.
//
// ***** END LICENSE BLOCK *****/

#include <cstdio>
#include <cstring>
#include <cstdlib>
#include <cmath>

#include <algorithm>
#include <memory>
#include <limits>
#include <string>
#include <vector>

#include "affixmgr.hxx"
#include "affentry.hxx"
#include "langnum.hxx"

#include "csutil.hxx"

AffixMgr::AffixMgr(const char* affpath,
                   const std::vector<HashMgr*>& ptr,
                   const char* key)
  : alldic(ptr)
  , pHMgr(ptr[0])
  , pStart(0)
  , sStart(0)
  , pFlag(0)
  , sFlag(0)
  , PfxEntry(0)
  , SfxEntry(0)
  , affpath(affpath)
  , key(key)
  , cpdmin(-1)
  , cpdmaxsyllable(0)
  , cpdmaxsyllable_1(0)
  , cpdwordmax(-1)
  , cpdwordmax_1(-1)
  , cpdmin_1(-1)
  , cpdmaxsyllable_2(0)
  , cpdmaxsyllable_3(0)
  , cpdmaxsyllable_4(0)
  , cpdmaxsyllable_5(0)
  , cpdmaxsyllable_6(0)
  , cpdmaxsyllable_7(0)
  , cpdmaxsyllable_8(0)
  , cpdmaxsyllable_9(0)
  , cpdmaxsyllable_10(0)
  , cpdmaxsyllable_11(0)
  , cpdmaxsyllable_12(0)
  , cpdmaxsyllable_13(0)
  , cpdmaxsyllable_14(0)
  , cpdmaxsyllable_15(0)
  , cpdmaxsyllable_16(0)
  , cpdmaxsyllable_17(0)
  , cpdmaxsyllable_18(0)
  , cpdmaxsyllable_19(0)
  , cpdmaxsyllable_20(0)
  , cpdmaxsyllable_21(0)
  , cpdmaxsyllable_22(0)
  , cpdmaxsyllable_23(0)
  , cpdmaxsyllable_24(0)
  , cpdmaxsyllable_25(0)
  , cpdmaxsyllable_26(0)
  , cpdmaxsyllable_27(0)
  , cpdmaxsyllable_28(0)
  , cpdmaxsyllable_29(0)
  , cpdmaxsyllable_30(0)
  , cpdmaxsyllable_31(0)
  , cpdmaxsyllable_32(0)
  , cpdmaxsyllable_33(0)
  , cpdmaxsyllable_34(0)
  , cpdmaxsyllable_35(0)
  , cpdmaxsyllable_36(0)
  , cpdmaxsyllable_37(0)
  , cpdmaxsyllable_38(0)
  , cpdmaxsyllable_39(0)
  , cpdmaxsyllable_40(0)
  , cpdmaxsyllable_41(0)
  , cpdmaxsyllable_42(0)
  , cpdmaxsyllable_43(0)
  , cpdmaxsyllable_44(0)
  , cpdmaxsyllable_45(0)
  , cpdmaxsyllable_46(0)
  , cpdmaxsyllable_47(0)
  , cpdmaxsyllable_48(0)
  , cpdmaxsyllable_49(0)
  , cpdmaxsyllable_50(0)
  , cpdmaxsyllable_51(0)
  , cpdmaxsyllable_52(0)
  , cpdmaxsyllable_53(0)
  , cpdmaxsyllable_54(0)
  , cpdmaxsyllable_55(0)
  , cpdmaxsyllable_56(0)
  , cpdmaxsyllable_57(0)
  , cpdmaxsyllable_58(0)
  , cpdmaxsyllable_59(0)
  , cpdmaxsyllable_60(0)
  , cpdmaxsyllable_61(0)
  , cpdmaxsyllable_62(0)
  , cpdmaxsyllable_63(0)
  , cpdmaxsyllable_64(0)
  , cpdmaxsyllable_65(0)
  , cpdmaxsyllable_66(0)
  , cpdmaxsyllable_67(0)
  , cpdmaxsyllable_68(0)
  , cpdmaxsyllable_69(0)
  , cpdmaxsyllable_70(0)
  , cpdmaxsyllable_71(0)
  , cpdmaxsyllable_72(0)
  , cpdmaxsyllable_73(0)
  , cpdmaxsyllable_74(0)
  , cpdmaxsyllable_75(0)
  , cpdmaxsyllable_76(0)
  , cpdmaxsyllable_77(0)
  , cpdmaxsyllable_78(0)
  , cpdmaxsyllable_79(0)
  , cpdmaxsyllable_80(0)
  , cpdmaxsyllable_81(0)
  , cpdmaxsyllable_82(0)
  , cpdmaxsyllable_83(0)
  , cpdmaxsyllable_84(0)
  , cpdmaxsyllable_85(0)
  , cpdmaxsyllable_86(0)
  , cpdmaxsyllable_87(0)
  , cpdmaxsyllable_88(0)
  , cpdmaxsyllable_89(0)
  , cpdmaxsyllable_90(0)
  , cpdmaxsyllable_91(0)
  , cpdmaxsyllable_92(0)
  , cpdmaxsyllable_93(0)
  , cpdmaxsyllable_94(0)
  , cpdmaxsyllable_95(0)
  , cpdmaxsyllable_96(0)
  , cpdmaxsyllable_97(0)
  , cpdmaxsyllable_98(0)
  , cpdmaxsyllable_99(0)
  , cpdmaxsyllable_100(0)
  , cpdmaxsyllable_101(0)
  , cpdmaxsyllable_102(0)
  , cpdmaxsyllable_103(0)
  , cpdmaxsyllable_104(0)
  , cpdmaxsyllable_105(0)
  , cpdmaxsyllable_106(0)
  , cpdmaxsyllable_107(0)
  , cpdmaxsyllable_108(0)
  , cpdmaxsyllable_109(0)
  , cpdmaxsyllable_110(0)
  , cpdmaxsyllable_111(0)
  , cpdmaxsyllable_112(0)
  , cpdmaxsyllable_113(0)
  , cpdmaxsyllable_114(0)
  , cpdmaxsyllable_115(0)
  , cpdmaxsyllable_116(0)
  , cpdmaxsyllable_117(0)
  , cpdmaxsyllable_118(0)
  , cpdmaxsyllable_119(0)
  , cpdmaxsyllable_120(0)
  , cpdmaxsyllable_121(0)
  , cpdmaxsyllable_122(0)
  , cpdmaxsyllable_123(0)
  , cpdmaxsyllable_124(0)
  , cpdmaxsyllable_125(0)
  , cpdmaxsyllable_126(0)
  , cpdmaxsyllable_127(0)
  , cpdmaxsyllable_128(0)
  , cpdmaxsyllable_129(0)
  , cpdmaxsyllable_130(0)
  , cpdmaxsyllable_131(0)
  , cpdmaxsyllable_132(0)
  , cpdmaxsyllable_133(0)
  , cpdmaxsyllable_134(0)
  , cpdmaxsyllable_135(0)
  , cpdmaxsyllable_136(0)
  , cpdmaxsyllable_137(0)
  , cpdmaxsyllable_138(0)
  , cpdmaxsyllable_139(0)
  , cpdmaxsyllable_140(0)
  , cpdmaxsyllable_141(0)
  , cpdmaxsyllable_142(0)
  , cpdmaxsyllable_143(0)
  , cpdmaxsyllable_144(0)
  , cpdmaxsyllable_145(0)
  , cpdmaxsyllable_146(0)
  , cpdmaxsyllable_147(0)
  , cpdmaxsyllable_148(0)
  , cpdmaxsyllable_149(0)
  , cpdmaxsyllable_150(0)
  , cpdmaxsyllable_151(0)
  , cpdmaxsyllable_152(0)
  , cpdmaxsyllable_153(0)
  , cpdmaxsyllable_154(0)
  , cpdmaxsyllable_155(0)
  , cpdmaxsyllable_156(0)
  , cpdmaxsyllable_157(0)
  , cpdmaxsyllable_158(0)
  , cpdmaxsyllable_159(0)
  , cpdmaxsyllable_160(0)
  , cpdmaxsyllable_161(0)
  , cpdmaxsyllable_162(0)
  , cpdmaxsyllable_163(0)
  , cpdmaxsyllable_164(0)
  , cpdmaxsyllable_165(0)
  , cpdmaxsyllable_166(0)
  , cpdmaxsyllable_167(0)
  , cpdmaxsyllable_168(0)
  , cpdmaxsyllable_169(0)
  , cpdmaxsyllable_170(0)
  , cpdmaxsyllable_171(0)
  , cpdmaxsyllable_172(0)
  , cpdmaxsyllable_173(0)
  , cpdmaxsyllable_174(0)
  , cpdmaxsyllable_175(0)
  , cpdmaxsyllable_176(0)
  , cpdmaxsyllable_177(0)
  , cpdmaxsyllable_178(0)
  , cpdmaxsyllable_179(0)
  , cpdmaxsyllable_180(0)
  , cpdmaxsyllable_181(0)
  , cpdmaxsyllable_182(0)
  , cpdmaxsyllable_183(0)
  , cpdmaxsyllable_184(0)
  , cpdmaxsyllable_185(0)
  , cpdmaxsyllable_186(0)
  , cpdma