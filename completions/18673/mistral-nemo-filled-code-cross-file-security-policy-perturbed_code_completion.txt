// For each pixel, extract the black channel value.
// Convert the extracted double precision floating-point channel value to quantum values.
// Set the corresponding quantum values for black channel in the image.
// Adjust the pointer to account for padding and move to the next pixel.
// <MASK>
for (x=0; x < (ssize_t) number_pixels; x++)
{
  p=PushDoublePixel(quantum_info,p,&pixel);
  SetPixelBlack(image,ClampToQuantum(pixel),q);
  p+=quantum_info->pad;
  q+=GetPixelChannels(image);
}