} else {
          // Parse the number from the source string until the comma
          char* endptr;
          long value = strtol(src, &endptr, 10);
          if (endptr == src || value < 0 || value >= DEFAULTFLAGS) {
            HUNSPELL_WARNING(stderr,
                             "error: line %d: flag id %ld is out of valid range (0 to %d)\n",
                             af->getlinenum(), value, DEFAULTFLAGS - 1);
            value = 0; // Default to 0 if invalid
          }
          *dest = (unsigned short)value;
          if (*dest == 0) {
            HUNSPELL_WARNING(stderr, "error: line %d: 0 is wrong flag id\n",
                             af->getlinenum());
          }
          dest++;
          src = endptr + 1; // Move past the comma
        }