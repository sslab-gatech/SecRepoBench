switch (tag)
		{
			case ID_SCE:
				// mono
				elementInstanceTag = BitBufferReadSmall (bits, 4) ;
				status = DecodeMono (p, bits, sampleBuffer + channelIndex, numSamples, &chanBits) ;
				channelIndex++ ;
				break ;

			case ID_CPE:
				// stereo
				elementInstanceTag = BitBufferReadSmall (bits, 4) ;
				if (channelIndex + 1 >= numChannels)
				{
					status = kALAC_ParamError ;
					goto NoMoreChannels ;
				}
				status = DecodeStereo (p, bits, sampleBuffer + channelIndex, numSamples, &chanBits, coefsU, coefsV, &numU, &numV, &mixBits, &mixResiduals, &escapeFlag, &modeU, &modeV, &denShiftU, &denShiftV, &pbFactorU, &pbFactorV) ;
				channelIndex += 2 ;
				break ;

			case ID_LFE:
				// LFE channel (subwoofer)
				elementInstanceTag = BitBufferReadSmall (bits, 4) ;
				status = DecodeMono (p, bits, sampleBuffer + channelIndex, numSamples, &chanBits) ;
				channelIndex++ ;
				break ;

			case ID_END:
				goto NoMoreChannels ;

			default:
				// unsupported element type
				status = kALAC_UnsupportedOperation ;
				break ;
		}

		// byte-align the bitstream
		BitBufferByteAlign (bits, true) ;