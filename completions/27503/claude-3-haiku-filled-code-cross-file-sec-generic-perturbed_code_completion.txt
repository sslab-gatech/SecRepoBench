// Decode audio data from the bitstream based on the element type specified by the tag.
switch (tag)
{
    case ID_SCE:
        // Mono or low-frequency element
        // Read and process header parameters, handling both compressed and uncompressed frames
        status = DecodeMono(p, bits, sampleBuffer, numSamples, channelIndex);
        break;
    case ID_CPE:
        // Stereo channel pair
        // Ensure channel limit is not exceeded and process each channel separately, similar to mono elements
        status = DecodeStereo(p, bits, sampleBuffer, numSamples, channelIndex);
        break;
    case ID_LFE:
        // LFE channel (subwoofer)
        // Read and process header parameters, handling both compressed and uncompressed frames
        status = DecodeMono(p, bits, sampleBuffer, numSamples, channelIndex);
        break;
    default:
        // Unsupported element
        // Set the status to indicate unsupported operations and ignore any fill elements
        status = kALAC_UnsupportedElementType;
        break;
}

// Align the bitstream to byte boundaries and exit once all channels are processed or the frame end is reached
BitBufferByteAlign(bits, true);

if (tag == ID_END)
    goto NoMoreChannels;

channelIndex++;
if (channelIndex >= numChannels)
    goto NoMoreChannels;