// Read the ALACSpecificConfig
if (theCookieBytesRemaining >= sizeof (ALACSpecificConfig))
{
    theConfig.frameLength = psf_get_be32 (theActualCookie, offsetof (ALACSpecificConfig, frameLength)) ;

    if (theConfig.frameLength > ALAC_FRAME_LENGTH)
        return fALAC_FrameLengthError ;

    theConfig.compatibleVersion = theActualCookie [offsetof (ALACSpecificConfig, compatibleVersion)] ;
    theConfig.bitDepth = theActualCookie [offsetof (ALACSpecificConfig, bitDepth)] ;
    theConfig.pb = theActualCookie [offsetof (ALACSpecificConfig, pb)] ;
    theConfig.mb = theActualCookie [offsetof (ALACSpecificConfig, mb)] ;
    theConfig.kb = theActualCookie [offsetof (ALACSpecificConfig, kb)] ;
    theConfig.numChannels = theActualCookie [offsetof (ALACSpecificConfig, numChannels)] ;
    theConfig.maxRun = psf_get_be16 (theActualCookie, offsetof (ALACSpecificConfig, maxRun)) ;
    theConfig.maxFrameBytes = psf_get_be32 (theActualCookie, offsetof (ALACSpecificConfig, maxFrameBytes)) ;
    theConfig.avgBitRate = psf_get_be32 (theActualCookie, offsetof (ALACSpecificConfig, avgBitRate)) ;
    theConfig.sampleRate = psf_get_be32 (theActualCookie, offsetof (ALACSpecificConfig, sampleRate)) ;

    p->mConfig = theConfig ;
    p->mNumChannels = theConfig.numChannels ;

    RequireAction (p->mConfig.compatibleVersion <= kALACVersion, return kALAC_IncompatibleVersion ;) ;
    RequireAction ((p->mConfig.bitDepth >= 8 && p->mConfig.bitDepth <= 32), return kALAC_BadBitWidth ;) ;
    RequireAction ((p->mMixBufferU != NULL) && (p->mMixBufferV != NULL) && (p->u.mPredictor != NULL),
                   status = kALAC_MemFullError ; goto Exit ;) ;
}
else
{
    status = kALAC_BadSpecificConfigSize ;
}