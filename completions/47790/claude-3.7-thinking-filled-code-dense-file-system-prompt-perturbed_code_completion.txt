{
  hb_codepoint_t gid = 0;
  
  for (unsigned int i = 0; i < ranges.len && gid < glyph_count; i++)
  {
    hb_codepoint_t start_sid = ranges[i].first;
    unsigned int count = ranges[i].count;
    
    for (unsigned int j = 0; j < count && gid < glyph_count; j++)
    {
      mapping->set (gid, start_sid + j);
      gid++;
    }
  }
}