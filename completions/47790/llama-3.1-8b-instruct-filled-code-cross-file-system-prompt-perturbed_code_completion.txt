for (unsigned int i = 0; i < glyph_count; i++) {
  unsigned int sid = mapping->start_sid + i;
  for (unsigned int j = 0; j < mapping->range_count; j++) {
    if (sid >= mapping->ranges[j].start_sid &&
        sid < mapping->ranges[j].start_sid + mapping->ranges[j].count) {
      mapping->glyph_to_sid[i] = sid;
      break;
    }
  }
}