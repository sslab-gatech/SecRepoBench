for (unsigned int i = 0; i < glyph_ranges.len; i++) {
  unsigned int sid = glyph_ranges[i].start_sid;
  unsigned int count = glyph_ranges[i].num_sids;
  for (unsigned int j = 0; j < count; j++) {
    mapping->set(glyph_id, sid);
    glyph_id++;
    sid++;
    if (glyph_id >= glyph_count) break;
  }
  if (glyph_id >= glyph_count) break;
}