for (unsigned int glyph = 0; glyph < glyph_count; glyph++)
{
  unsigned int sid = glyph_to_sid(glyph);
  if (sid == 0)
    continue;

  for (unsigned int i = 0; i < num_glyphs; i++)
  {
    if (sids[i] == sid)
    {
      mapping->set(glyph, i);
      break;
    }
  }
}