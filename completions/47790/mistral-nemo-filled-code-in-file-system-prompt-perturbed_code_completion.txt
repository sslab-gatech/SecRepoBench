// <MASK>
void cff1::accelerator_t::collect_glyph_to_sid_map (hb_map_t *mapping, unsigned int glyph_count) const
{
  if (charset != &Null (Charset))
  {
    charset->collect_glyph_to_sid_map (mapping, glyph_count);
  }
  else
  {
    for (unsigned int i = 0; i < glyph_count; i++)
    {
      hb_codepoint_t sid = 0;
      switch (topDict.CharsetOffset)
      {
        case ISOAdobeCharset:
          if (i <= 228 /*zcaron*/) sid = i;
          break;
        case ExpertCharset:
          sid = lookup_expert_charset_for_glyph (i);
          break;
        case ExpertSubsetCharset:
          sid = lookup_expert_subset_charset_for_glyph (i);
          break;
        default:
          break;
      }
      if (sid != 0)
      {
        mapping->set (i, sid);
      }
    }
  }
}