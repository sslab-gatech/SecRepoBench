{
  for (unsigned int glyph = 0; glyph < glyph_count;)
    {
      unsigned int sid = glyph_to_sid (glyph);
      unsigned int count = 1;
      while (glyph + count < glyph_count && glyph_to_sid (glyph + count) == sid + count)
	count++;
      for (unsigned int i = 0; i < count; i++)
	mapping->set (glyph + i, sid + i);
      glyph += count;
    }
}