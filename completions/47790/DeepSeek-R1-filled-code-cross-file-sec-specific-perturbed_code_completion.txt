for (unsigned int glyph = 0; glyph < glyph_count; glyph++)
{
  hb_codepoint_t sid = glyph_to_sid (glyph);
  if (unlikely (sid == 0xFFFF)) continue; /* Skip invalid SIDs */
  mapping->set (glyph, sid);
}