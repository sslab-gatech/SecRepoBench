{
    unsigned int glyph_id = 1; // Start from glyph 1, as glyph 0 is typically .notdef
    for (const auto& range : ranges)
    {
      if (unlikely (glyph_id >= glyph_count))
      {
        break; // Stop if we've mapped all glyphs
      }

      for (unsigned int i = 0; i <= range.nLeft && glyph_id < glyph_count; ++i)
      {
        mapping->set(glyph_id++, range.first + i);
      }
    }
  }