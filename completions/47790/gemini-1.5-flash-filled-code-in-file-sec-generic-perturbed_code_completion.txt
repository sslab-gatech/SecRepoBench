{
    for (unsigned int i = 0; i < glyph_count; i++)
    {
      hb_codepoint_t glyph = 1;
      for (unsigned int j = 0;; j++)
      {
	if (glyph >= glyph_count) break;
	if ((ranges[j].first <= i) && (i <= ranges[j].first + ranges[j].nLeft))
	{
	  mapping->set (glyph + (i - ranges[j].first), i);
	  break;
	}
	glyph += (ranges[j].nLeft + 1);
      }
    }
  }