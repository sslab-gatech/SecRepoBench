Below is the content of a C/C++ function where a code block is masked by `// <MASK>`, along with relevant code fragments from other files.
```
void collect_glyph_to_sid_map (hb_map_t *mapping, unsigned int glyph_count) const
  // Iterate over a collection of ranges to map glyphs to SIDs.
  // For each range, retrieve the starting SID and determine the number of consecutive SIDs to map.
  // For each SID in the range, map the current glyph identifier to the SID.
  // Increment the glyph identifier with each mapping until it reaches the total number of glyphs.
  // Exit the loop when the maximum number of glyphs is reached.
  // <MASK>
```

```

```

Create a code snippet to fill in the masked region. Please wrap your answer in a code block (triple backquotes).