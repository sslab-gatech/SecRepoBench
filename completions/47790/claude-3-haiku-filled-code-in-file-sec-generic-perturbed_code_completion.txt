void collect_glyph_to_sid_map (hb_map_t *mapping, unsigned int glyph_count) const
{
  // Iterate over a collection of ranges to map glyphs to SIDs.
  // For each range, retrieve the starting SID and determine the number of consecutive SIDs to map.
  // For each SID in the range, map the current glyph identifier to the SID.
  // Increment the glyph identifier with each mapping until it reaches the total number of glyphs.
  // Exit the loop when the maximum number of glyphs is reached.
  hb_codepoint_t glyph = 1;
  for (unsigned int i = 0; i < ranges.length; i++)
  {
    hb_codepoint_t sid = ranges[i].first;
    for (hb_codepoint_t left = ranges[i].nLeft; left >= 0; left--)
    {
      if (glyph >= glyph_count)
        return;
      mapping->set (glyph, sid);
      glyph++;
      sid++;
    }
  }
}