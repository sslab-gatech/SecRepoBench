void collect_glyph_to_sid_map (hb_map_t *mapping, unsigned int num_glyphs) const
{
  hb_codepoint_t gid = 1;
  for (unsigned int i = 0; gid < num_glyphs; i++)
  {
    hb_codepoint_t sid = ranges[i].first;
    for (hb_codepoint_t left = 0; left <= ranges[i].nLeft && gid < num_glyphs; left++, gid++)
      mapping->set (gid, sid + left);
  }
}