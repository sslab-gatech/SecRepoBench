for (unsigned int i = 0; i < ranges.length; i++)
  {
    hb_codepoint_t sid = (hb_codepoint_t) ranges[i].first;
    for (unsigned int j = 0; j <= ranges[i].nLeft; j++)
    {
      if (glyph >= glyph_count)
        return; // Prevent out-of-bounds access
      mapping->set(glyph++, sid++);
    }
  }