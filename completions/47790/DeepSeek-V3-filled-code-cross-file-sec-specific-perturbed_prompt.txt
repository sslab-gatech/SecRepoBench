Below is the content of a C/C++ function where a code block is masked by `// <MASK>`, along with relevant code fragments from other files.
```
void collect_glyph_to_sid_map (hb_map_t *mapping, unsigned int glyph_count) const
  // Iterate over a collection of ranges to map glyphs to SIDs.
  // For each range, retrieve the starting SID and determine the number of consecutive SIDs to map.
  // For each SID in the range, map the current glyph identifier to the SID.
  // Increment the glyph identifier with each mapping until it reaches the total number of glyphs.
  // Exit the loop when the maximum number of glyphs is reached.
  // <MASK>
```

```
// Here are some relevant code fragments from other files of the repo:

// the below code fragment can be found in:
// src/hb-ot-cff1-table.hh
hb_codepoint_t get_glyph (hb_codepoint_t sid, unsigned int num_glyphs) const
  {
    switch (format)
    {
    case 0: return u.format0.get_glyph (sid, num_glyphs);
    case 1: return u.format1.get_glyph (sid, num_glyphs);
    case 2: return u.format2.get_glyph (sid, num_glyphs);
    default:return 0;
    }
  }

// the below code fragment can be found in:
// src/hb-ot-cff1-table.hh
hb_codepoint_t get_glyph (hb_codepoint_t sid, unsigned int num_glyphs) const
  {
    if (sid == 0)
      return 0;

    for (unsigned int glyph = 1; glyph < num_glyphs; glyph++)
    {
      if (sids[glyph-1] == sid)
	return glyph;
    }
    return 0;
  }

// the below code fragment can be found in:
// src/hb-ot-cff1-table.hh
hb_codepoint_t glyph_to_sid (hb_codepoint_t glyph) const
    {
      if (charset != &Null (Charset))
	return charset->get_sid (glyph, num_glyphs);
      else
      {
	hb_codepoint_t sid = 0;
	switch (topDict.CharsetOffset)
	{
	  case ISOAdobeCharset:
	    if (glyph <= 228 /*zcaron*/) sid = glyph;
	    break;
	  case ExpertCharset:
	    sid = lookup_expert_charset_for_sid (glyph);
	    break;
	  case ExpertSubsetCharset:
	      sid = lookup_expert_subset_charset_for_sid (glyph);
	    break;
	  default:
	    break;
	}
	return sid;
      }
    }

// the below code fragment can be found in:
// src/hb-ot-cmap-table.hh
void collect_variation_selectors (hb_set_t *out) const
    { subtable_uvs->collect_variation_selectors (out); }

// the below code fragment can be found in:
// src/hb-ot-cmap-table.hh
bool sanitize (hb_sanitize_context_t *c) const
  {
    TRACE_SANITIZE (this);
    return_trace (c->check_struct (this) &&
		  record.sanitize (c, this));
  }
```

Create a code snippet to fill in the masked region. Please wrap your answer in a code block (triple backquotes).