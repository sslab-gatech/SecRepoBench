for (unsigned int i = 0; i < glyph_count; i++) {
  hb_codepoint_t sid = glyph_to_sid(i);
  if (sid != 0) {
    for (unsigned int j = 0; j < num_glyphs; j++) {
      if (sids[j] == sid) {
        mapping->set(i, sid);
        break;
      }
    }
  }
}