{
  unsigned int glyph_id = 0;
  for (unsigned int i = 0; i < ranges.length && glyph_id < glyph_count; i++) {
    hb_ot_cff1_range_t range = ranges[i];
    unsigned int start_sid = range.start_sid;
    unsigned int sid_count = range.sid_count;
    for (unsigned int j = 0; j < sid_count && glyph_id < glyph_count; j++, start_sid++) {
      hb_map_set (mapping, glyph_id, start_sid);
      glyph_id++;
    }
  }
}