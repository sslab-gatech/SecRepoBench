{
    unsigned int glyph_id = 1; // Start from glyph 1, as glyph 0 is typically .notdef
    for (unsigned int i = 0; i < ranges.length && glyph_id < glyph_count; ++i) {
      unsigned int sid_start = ranges[i].first;
      unsigned int sid_end = sid_start + ranges[i].nLeft;
      for (unsigned int sid = sid_start; sid <= sid_end && glyph_id < glyph_count; ++sid, ++glyph_id) {
        mapping->set(glyph_id, sid);
      }
    }
  }