for (unsigned int i = 0; i < glyph_count; ++i) {
  hb_codepoint_t sid = glyph_to_sid(i);
  if (sid != 0) {
    hb_map_set(mapping, i, sid);
  }
}