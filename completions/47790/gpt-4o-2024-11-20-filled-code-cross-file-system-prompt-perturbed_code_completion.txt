{
  unsigned int glyph = 0;

  for (const auto& range : ranges)
  {
    hb_codepoint_t sid = range.start_sid;
    unsigned int count = range.count;

    for (unsigned int i = 0; i < count && glyph < glyph_count; i++, glyph++)
    {
      hb_map_set(mapping, glyph, sid + i);
    }

    if (glyph >= glyph_count)
      break;
  }
}