{
  unsigned int glyph_id = 0;
  for (const auto& range : ranges)
  {
    unsigned int start_sid = range.start_sid;
    unsigned int sid_count = range.sid_count;

    for (unsigned int i = 0; i < sid_count && glyph_id < glyph_count; ++i)
    {
      hb_map_set(mapping, glyph_id, start_sid + i);
      ++glyph_id;
    }

    if (glyph_id >= glyph_count)
      break;
  }
}