for (unsigned int left = ranges[i].nLeft; left >= 0; left--)
      {
        mapping->set(glyph, ranges[i].first + (ranges[i].nLeft - left));
        glyph++;
        if (glyph >= glyph_count) break; // Prevent overflow
      }