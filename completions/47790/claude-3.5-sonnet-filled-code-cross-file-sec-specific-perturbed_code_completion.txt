unsigned int glyph = 0;
for (const auto &range : ranges) {
  if (glyph >= glyph_count) break;
  
  unsigned int sid = range.first;
  unsigned int count = range.second;
  
  for (unsigned int i = 0; i < count && glyph < glyph_count; ++i, ++glyph) {
    mapping->set(glyph, sid + i);
  }
}