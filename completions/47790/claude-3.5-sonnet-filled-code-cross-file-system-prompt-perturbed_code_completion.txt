{
  hb_codepoint_t gid = 0;
  for (const auto &range : ranges) {
    if (gid >= glyph_count) break;
    
    hb_codepoint_t sid = range.first;
    unsigned int count = range.last - range.first + 1;
    
    for (unsigned int i = 0; i < count && gid < glyph_count; i++, gid++) {
      mapping->set(gid, sid + i);
    }
  }
}