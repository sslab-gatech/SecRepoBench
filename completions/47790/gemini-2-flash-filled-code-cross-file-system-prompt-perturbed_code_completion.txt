{
  unsigned int glyph = 0;
  for (unsigned int i = 0; i < num_ranges && glyph < glyph_count; ++i)
  {
    unsigned int first_sid = ranges[i].first;
    unsigned int num_sids = ranges[i].second;

    for (unsigned int sid_index = 0; sid_index < num_sids && glyph < glyph_count; ++sid_index)
    {
      unsigned int sid = first_sid + sid_index;
      hb_map_set (mapping, glyph, sid);
      glyph++;
    }
  }
}