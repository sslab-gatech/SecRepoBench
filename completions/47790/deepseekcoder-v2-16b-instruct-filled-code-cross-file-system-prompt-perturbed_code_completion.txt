for (unsigned int i = 0; i < glyph_count; ++i) {
  unsigned int sid = get_starting_sid_for_glyph(i);
  unsigned int count = get_sid_count_for_glyph(i);
  for (unsigned int j = 0; j < count; ++j) {
    mapping[i] = sid + j;
  }
}