{
  unsigned int glyph_id = 0;
  for (unsigned int i = 0; i < ranges.size(); i++)
  {
    const Range &range = ranges[i];
    unsigned int sid = range.start_sid;
    unsigned int count = range.count;

    for (unsigned int j = 0; j < count && glyph_id < glyph_count; j++, glyph_id++)
    {
      mapping->set(glyph_id, sid + j);
    }

    if (glyph_id >= glyph_count)
      break;
  }
}