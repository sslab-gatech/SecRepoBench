{
  hb_codepoint_t glyph = 0;
  for (const auto &range : ranges)
  {
    hb_codepoint_t sid = range.first;
    unsigned int count = range.last - range.first + 1;
    for (unsigned int i = 0; i < count && glyph < glyph_count; i++)
    {
      mapping->set (glyph, sid + i);
      glyph++;
    }
    if (glyph >= glyph_count)
      break;
  }
}