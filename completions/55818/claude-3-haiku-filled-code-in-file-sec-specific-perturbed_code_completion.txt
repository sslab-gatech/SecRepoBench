void AffixMgr::setcminmax(size_t* mincharindex, size_t* cmax, const char* word, size_t len) {
  // Determine the minimum and maximum character positions in the word.
  // If the `utf8` flag is set, calculate the min char index as the starting position
  // and max char index as the ending position based on UTF-8 character boundaries.
  // Increment min char index by the number of UTF-8 characters specified by `cpdmin`.
  // Exclude trailing UTF-8 continuation bytes while adjusting max char index.
  // If `utf8` is not set, adjust min char index and max char index.
  if (utf8) {
    *mincharindex = 0;
    *cmax = len;
    for (size_t i = 0; i < cpdmin && *mincharindex < len; i++) {
      while (*mincharindex < len && (word[*mincharindex] & 0xC0) == 0x80) {
        (*mincharindex)++;
      }
      (*mincharindex)++;
    }
    for (size_t i = *cmax; i > 0 && (word[i-1] & 0xC0) == 0x80; i--) {
      (*cmax)--;
    }
  } else {
    *mincharindex = cpdmin;
    *cmax = len;
  }
}