if (utf8) {
  // Calculate the min char index as the starting position and max char index as the ending position based on UTF-8 character boundaries.
  *mincharindex = 0;
  *cmax = len;
  
  // Increment min char index by the number of UTF-8 characters specified by `cpdmin`.
  for (size_t i = 0; i < cpdmin; i++) {
    if (*mincharindex < len) {
      (*mincharindex)++;
      while ((*mincharindex < len) && ((word[*mincharindex] & 0xC0) == 0x80)) {
        (*mincharindex)++;
      }
    }
  }
  
  // Exclude trailing UTF-8 continuation bytes while adjusting max char index.
  while ((*cmax > 0) && ((word[*cmax - 1] & 0xC0) == 0x80)) {
    (*cmax)--;
  }
} else {
  // If `utf8` is not set, adjust min char index and max char index.
  *mincharindex = cpdmin;
  *cmax = len - cpdmax;
}