// Determine the minimum and maximum character positions in the word.
  size_t mincharindex = 0;
  size_t maxcharindex = len - 1;

  if (utf8) {
    const char* p = word;
    const char* end = word + len;

    // Calculate the min char index as the starting position based on UTF-8 character boundaries.
    while ((p < end) && (*p & 0xC0) != 0x80) {
      p++;
    }
    mincharindex = p - word;

    // Calculate the max char index as the ending position based on UTF-8 character boundaries.
    while ((p > word) && ((*(p - 1) & 0xC0) == 0x80)) {
      p--;
    }
    maxcharindex = p - word;

    // Increment min char index by the number of UTF-8 characters specified by cpdmin.
    mincharindex += cpdmin;

    // Exclude trailing UTF-8 continuation bytes while adjusting max char index.
    while ((maxcharindex > 0) && ((word[maxcharindex - 1] & 0xC0) == 0x80)) {
      maxcharindex--;
    }
  } else {
    // Adjust min char index and max char index.
    // (No additional logic needed for ASCII/non-UTF-8 words)
  }

  *mincharindex = mincharindex;
  *cmax = maxcharindex;