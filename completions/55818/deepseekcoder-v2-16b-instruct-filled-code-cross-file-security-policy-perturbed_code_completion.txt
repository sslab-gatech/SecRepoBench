// Determine the minimum and maximum character positions in the word.
  // If the `utf8` flag is set, calculate the min char index as the starting position
  // and max char index as the ending position based on UTF-8 character boundaries.
  // Increment min char index by the number of UTF-8 characters specified by `cpdmin`.
  // Exclude trailing UTF-8 continuation bytes while adjusting max char index.
  // If `utf8` is not set, adjust min char index and max char index.
  if (utf8) {
    size_t min_char_index = 0;
    size_t max_char_index = len;

    // Increment min char index by the number of UTF-8 characters specified by `cpdmin`
    min_char_index += cpdmin;

    // Exclude trailing UTF-8 continuation bytes while adjusting max char index
    while (max_char_index > min_char_index && (*(word + max_char_index - 1) & 0xc0) == 0x80) {
      max_char_index--;
    }

    *mincharindex = min_char_index;
    *cmax = max_char_index;
  } else {
    // Adjust min char index and max char index for non-UTF-8 case
    *mincharindex = 0;
    *cmax = len;
  }
}