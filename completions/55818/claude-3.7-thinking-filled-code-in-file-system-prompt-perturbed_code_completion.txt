void AffixMgr::setcminmax(size_t* mincharindex, size_t* cmax, const char* word, size_t len) {
  // Determine the minimum and maximum character positions in the word.
  // If the `utf8` flag is set, calculate the min char index as the starting position
  // and max char index as the ending position based on UTF-8 character boundaries.
  // Increment min char index by the number of UTF-8 characters specified by `cpdmin`.
  // Exclude trailing UTF-8 continuation bytes while adjusting max char index.
  // If `utf8` is not set, adjust min char index and max char index.
  
  if (utf8) {
    size_t i = 0;
    size_t charcount = 0;
    
    // Find the position after cpdmin UTF-8 characters
    while (i < len && charcount < cpdmin) {
      i++;
      // Skip UTF-8 continuation bytes
      while (i < len && (word[i] & 0xc0) == 0x80)
        i++;
      charcount++;
    }
    
    *mincharindex = i;
    *cmax = len;
  } else {
    *mincharindex = cpdmin;
    *cmax = len;
  }
  
  // If mincharindex is beyond the end of the word, set it to the end
  if (*mincharindex > len)
    *mincharindex = len;
}