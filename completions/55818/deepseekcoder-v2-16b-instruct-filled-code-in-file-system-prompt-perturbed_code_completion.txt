string::npos, checkcpdtable[scpd - 1].pattern2);
          i += checkcpdtable[scpd - 1].pattern2.size();
          if (checkcpdtable[scpd - 1].pattern3.empty())
            break;
          st.replace(i, std::string::npos, checkcpdtable[scpd - 1].pattern3);
          i += checkcpdtable[scpd - 1].pattern3.size();
          if (checkcpdtable[scpd - 1].cond) {
            rv = prefix_check(st, soldi, i - soldi, IN_CPD_MID, needaffix);
            if (rv) {
              if (TESTAFF(rv->astr, checkcpdtable[scpd - 1].cond, rv->alen)) {
                checked_prefix = 1;
                break;
              }
            }
          }
          if (checkcpdtable[scpd - 1].cond2) {
            rv = affix_check(st, soldi, i - soldi);
            if (rv) {
              if (TESTAFF(rv->astr, checkcpdtable[scpd - 1].cond2, rv->alen)) {
                checked_prefix = 1;
                break;
              }
            }
          }
          if (checked_prefix)
            break;
          st.replace(soldi, i - soldi, checkcpdtable[scpd - 1].pattern);
          i = soldi;
          scpd++;
          continue;
        }

        if (onlycpdrule) {
          if (words[wordnum]->astr &&
              TESTAFF(words[wordnum]->astr, onlyincompound, words[wordnum]->alen)) {
            if (TESTAFF(words[wordnum]->astr, compoundroot, words[wordnum]->alen)) {
              if (TESTAFF(words[wordnum]->astr, circumfix, words[wordnum]->alen)) {
                if (TESTAFF(words[wordnum]->astr, needaffix, words[wordnum]->alen)) {
                  if (TESTAFF(words[wordnum]->astr, forbiddenword, words[wordnum]->alen)) {
                    if (TESTAFF(words[wordnum]->astr, nosuggest, words[wordnum]->alen)) {
                      if (TESTAFF(words[wordnum]->astr, nongramsuggest, words[wordnum]->alen)) {
                        if (TESTAFF(words[wordnum]->astr, substandard, words[wordnum]->alen)) {
                          if (TESTAFF(words[wordnum]->astr, warn, words[wordnum]->alen)) {
                            if (TESTAFF(words[wordnum]->astr, forbidwarn, words[wordnum]->alen)) {
                              if (TESTAFF(words[wordnum]->astr, checksharps, words[wordnum]->alen)) {
                                if (TESTAFF(words[wordnum]->astr, fullstrip, words[wordnum]->alen)) {
                                  if (TESTAFF(words[wordnum]->astr, sugswithdots, words[wordnum]->alen)) {
                                    if (TESTAFF(words[wordnum]->astr, keepcase, words[wordnum]->alen)) {
                                      if (TESTAFF(words[wordnum]->astr, forceucase, words[wordnum]->alen)) {
                                        if (TESTAFF(words[wordnum]->astr, checknum, words[wordnum]->alen)) {
                                          if (TESTAFF(words[wordnum]->astr, checksharps, words[wordnum]->alen)) {
                                            if (TESTAFF(words[wordnum]->astr, substandard, words[wordnum]->alen)) {
                                              if (TESTAFF(words[wordnum]->astr, warn, words[wordnum]->alen)) {
                                                if (TESTAFF(words[wordnum]->astr, forbidwarn, words[wordnum]->alen)) {
                                                  if (TESTAFF(words[wordnum]->astr, checksharps, words[wordnum]->alen)) {
                                                    if (TESTAFF(words[wordnum]->astr, fullstrip, words[wordnum]->alen)) {
                                                      if (TESTAFF(words[wordnum]->astr, sugswithdots, words[wordnum]->alen)) {
                                                        if (TESTAFF(words[wordnum]->astr, keepcase, words[wordnum]->alen)) {
                                                          if (TESTAFF(words[wordnum]->astr, forceucase, words[wordnum]->alen)) {
                                                            if (TESTAFF(words[wordnum]->astr, checknum, words[wordnum]->alen)) {
                                                              if (TESTAFF(words[wordnum]->astr, checksharps, words[wordnum]->alen)) {
                                                                if (TESTAFF(words[wordnum]->astr, substandard, words[wordnum]->alen)) {
                                                                  if (TESTAFF(words[wordnum]->astr, warn, words[wordnum]->alen)) {
                                                                    if (TESTAFF(words[wordnum]->astr, forbidwarn, words[wordnum]->alen)) {
                                                                      if (TESTAFF(words[wordnum]->astr, checksharps, words[wordnum]->alen)) {
                                                                        if (TESTAFF(words[wordnum]->astr, fullstrip, words[wordnum]->alen)) {
                                                                          if (TESTAFF(words[wordnum]->astr, sugswithdots, words[wordnum]->alen)) {
                                                                            if (TESTAFF(words[wordnum]->astr, keepcase, words[wordnum]->alen)) {
                                                                              if (TESTAFF(words[wordnum]->astr, forceucase, words[wordnum]->alen)) {
                                                                                if (TESTAFF(words[wordnum]->astr, checknum, words[wordnum]->alen)) {
                                                                                  if (TESTAFF(words[wordnum]->astr, checksharps, words[wordnum]->alen)) {
                                                                                    if (TESTAFF(words[wordnum]->astr, substandard, words[wordnum]->alen)) {
                                                                                      if (TESTAFF(words[wordnum]->astr, warn, words[wordnum]->alen)) {
                                                                                        if (TESTAFF(words[wordnum]->astr, forbidwarn, words[wordnum]->alen)) {
                                                                                          if (TESTAFF(words[wordnum]->astr, checksharps, words[wordnum]->alen)) {
                                                                                            if (TESTAFF(words[wordnum]->astr, fullstrip, words[wordnum]->alen)) {
                                                                                              if (TESTAFF(words[wordnum]->astr, sugswithdots, words[wordnum]->alen)) {
                                                                                                if (TESTAFF(words[wordnum]->astr, keepcase, words[wordnum]->alen)) {
                                                                                                  if (TESTAFF(words[wordnum]->astr, forceucase, words[wordnum]->alen)) {
                                                                                                    if (TESTAFF(words[wordnum]->astr, checknum, words[wordnum]->alen)) {
                                                                                                      if (TESTAFF(words[wordnum]->astr, checksharps, words[wordnum]->alen)) {
                                                                                                        if (TESTAFF(words[wordnum]->astr, substandard, words[wordnum]->alen)) {
                                                                                                          if (TESTAFF(words[wordnum]->astr, warn, words[wordnum]->alen)) {
                                                                                                            if (TESTAFF(words[wordnum]->astr, forbidwarn, words[wordnum]->alen)) {
                                                                                                              if (TESTAFF(words[wordnum]->astr, checksharps, words[wordnum]->alen)) {
                                                                                                                if (TESTAFF(words[wordnum]->astr, fullstrip, words[wordnum]->alen)) {
                                                                                                                  if (TESTAFF(words[wordnum]->astr, sugswithdots, words[wordnum]->alen)) {
                                                                                                                    if (TESTAFF(words[wordnum]->astr, keepcase, words[wordnum]->alen)) {
                                                                                                                      if (TESTAFF(words[wordnum]->astr, forceucase, words[wordnum]->alen)) {
                                                                                                                        if (TESTAFF(words[wordnum]->astr, checknum, words[wordnum]->alen)) {
                                                                                                                          if (TESTAFF(words[wordnum]->astr, checksharps, words[wordnum]->alen)) {
                                                                                                                            if (TESTAFF(words[wordnum]->astr, substandard, words[wordnum]->alen)) {
                                                                                                                              if (TESTAFF(words[wordnum]->astr, warn, words[wordnum]->alen)) {
                                                                                                                                if (TESTAFF(words[wordnum]->astr, forbidwarn, words[wordnum]->alen)) {
                                                                                                                                  if (TESTAFF(words[wordnum]->astr, checksharps, words[wordnum]->alen)) {
                                                                                                                                    if (TESTAFF(words[wordnum]->astr, fullstrip, words[wordnum]->alen)) {
                                                                                                                                      if (TESTAFF(words[wordnum]->astr, sugswithdots, words[wordnum]->alen)) {
                                                                                                                                        if (TESTAFF(words[wordnum]->astr, keepcase, words[wordnum]->alen)) {
                                                                                                                                          if (TESTAFF(words[wordnum]->astr, forceucase, words[wordnum]->alen)) {
                                                                                                                                            if (TESTAFF(words[wordnum]->astr, checknum, words[wordnum]->alen)) {
                                                                                                                                              if (TESTAFF(words[wordnum]->astr, checksharps, words[wordnum]->alen)) {
                                                                                                                                                if (TESTAFF(words[wordnum]->astr, substandard, words[wordnum]->alen)) {
                                                                                                                                                  if (TESTAFF(words[wordnum]->astr, warn, words[wordnum]->alen)) {
                                                                                                                                                    if (TESTAFF(words[wordnum]->astr, forbidwarn, words[wordnum]->alen)) {
                                                                                                                                                      if (TESTAFF(words[wordnum]->astr, checksharps, words[wordnum]->alen)) {
                                                                                                                                                        if (TESTAFF(words[wordnum]->astr, fullstrip, words[wordnum]->alen)) {
                                                                                                                                                          if (TESTAFF(words[wordnum]->astr, sugswithdots, words[wordnum]->alen)) {
                                                                                                                                                            if (TESTAFF(words[wordnum]->astr, keepcase, words[wordnum]->alen)) {
                                                                                                                                                              if (TESTAFF(words[wordnum]->astr, forceucase, words[wordnum]->alen)) {
                                                                                                                                                                if (TESTAFF(words[wordnum]->astr, checknum, words[wordnum]->alen)) {
                                                                                                                                                                  if (TESTAFF(words[wordnum]->astr, checksharps, words[wordnum]->alen)) {
                                                                                                                                                                    if (TESTAFF(words[wordnum]->astr, substandard, words[wordnum]->alen)) {
                                                                                                                                                                      if (TESTAFF(words[wordnum]->astr, warn, words[wordnum]->alen)) {
                                                                                                                                                                        if (TESTAFF(words[wordnum]->astr, forbidwarn, words[wordnum]->alen)) {
                                                                                                                                                                          if (TESTAFF(words[wordnum]->astr, checksharps, words[wordnum]->alen)) {
                                                                                                                                                                            if (TESTAFF(words[wordnum]->astr, fullstrip, words[wordnum]->alen)) {
                                                                                                                                                                              if (TESTAFF(words[wordnum]->astr, sugswithdots, words[wordnum]->alen)) {
                                                                                                                                                                                if (TESTAFF(words[wordnum]->astr, keepcase, words[wordnum]->alen)) {
                                                                                                                                                                                  if (TESTAFF(words[wordnum]->astr, forceucase, words[wordnum]->alen)) {
                                                                                                                                                                                    if (TESTAFF(words[wordnum]->astr, checknum, words[wordnum]->alen)) {
                                                                                                                                                                                      if (TESTAFF(words[wordnum]->astr, checksharps, words[wordnum]->alen)) {
                                                                                                                                                                                        if (TESTAFF(words[wordnum]->astr, substandard, words[wordnum]->alen)) {
                                                                                                                                                                                          if (TESTAFF(words[wordnum]->astr, warn, words[wordnum]->alen)) {
                                                                                                                                                                                            if (TESTAFF(words[wordnum]->astr, forbidwarn, words[wordnum]->alen)) {
                                                                                                                                                                                              if (TESTAFF(words[wordnum]->astr, checksharps, words[wordnum]->alen)) {
                                                                                                                                                                                                if (TESTAFF(words[wordnum]->astr, fullstrip, words[wordnum]->alen)) {
                                                                                                                                                                                                  if (TESTAFF(words[wordnum]->astr, sugswithdots, words[wordnum]->alen)) {
                                                                                                                                                                                                    if (TESTAFF(words[wordnum]->astr, keepcase, words[wordnum]->alen)) {
                                                                                                                                                                                                      if (TESTAFF(words[wordnum]->astr, forceucase, words[wordnum]->alen)) {