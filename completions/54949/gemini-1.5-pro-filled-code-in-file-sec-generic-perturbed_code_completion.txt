{
            plist_t dict = plist_new_dict();
            plist_t key = NULL;
            const char *key_ptr = NULL;
            size_t key_len = 0;

            if (!dict) {
                plist_free(*plist);
                *plist = NULL;
                return PLIST_ERR_NO_MEM;
            }

            plist_dict_set_item(dict, plist_get_string_ptr(*plist, NULL), NULL);
            plist_free(*plist);
            *plist = dict;
            
            while (ctx.pos < ctx.end && !ctx.err) {
                parse_skip_ws(&ctx);
                if (ctx.pos >= ctx.end) {
                    break;
                }
                key = NULL;
                ctx.err = node_from_openstep(&ctx, &key);
                if (ctx.err != 0) {
                    break;
                }
                if (!PLIST_IS_STRING(key)) {
                    PLIST_OSTEP_ERR("Invalid type for dictionary key at offset %ld\n", ctx.pos - ctx.start);
                    ctx.err++;
                    break;
                }
                key_ptr = plist_get_string_ptr(key, &key_len);

                parse_skip_ws(&ctx);
                if (*ctx.pos != '=') {
                    PLIST_OSTEP_ERR("Missing '=' while parsing dictionary item at offset %ld\n", ctx.pos - ctx.start);
                    ctx.err++;
                    break;
                }
                ctx.pos++;
                if (ctx.pos >= ctx.end) {
                    PLIST_OSTEP_ERR("EOF while parsing dictionary item at offset %ld\n", ctx.pos - ctx.start);
                    ctx.err++;
                    break;
                }

                plist_t val = NULL;
                ctx.err = node_from_openstep(&ctx, &val);
                if (ctx.err) {
                    plist_free(key);
                    break;
                }

                if (!val) {
                    plist_free(key);
                    PLIST_OSTEP_ERR("Missing value for dictionary item at offset %ld\n", ctx.pos - ctx.start);
                    ctx.err++;
                    break;
                }
                parse_skip_ws(&ctx);
                if (*ctx.pos != ';') {
                    plist_free(val);
                    plist_free(key);
                    PLIST_OSTEP_ERR("Missing terminating ';' while parsing dictionary item at offset %ld\n", ctx.pos - ctx.start);
                    ctx.err++;
                    break;
                }
                plist_dict_set_item(dict, key_ptr, val);
                plist_free(key);

                ctx.pos++;
            }

        }