{
        plist_t dict = plist_new_dict();
        plist_t key = *plist;
        plist_t val = NULL;
        while (ctx.pos < ctx.end && !ctx.err) {
            parse_skip_ws(&ctx);
            if (ctx.pos >= ctx.end) {
                break;
            }
            if (*ctx.pos != '=') {
                plist_free(key);
                plist_free(dict);
                return PLIST_ERR_PARSE;
            }
            ctx.pos++;
            parse_skip_ws(&ctx);
            if (ctx.pos >= ctx.end) {
                plist_free(key);
                plist_free(dict);
                return PLIST_ERR_PARSE;
            }
            val = NULL;
            ctx.err = node_from_openstep(&ctx, &val);
            if (ctx.err != 0) {
                plist_free(key);
                plist_free(dict);
                return ctx.err;
            }
            if (!val) {
                plist_free(key);
                plist_free(dict);
                return PLIST_ERR_PARSE;
            }
            plist_dict_set_item(dict, plist_get_string_ptr(key, NULL), val);
            plist_free(key);
            key = NULL;
            parse_skip_ws(&ctx);
            if (*ctx.pos != ';') {
                plist_free(dict);
                return PLIST_ERR_PARSE;
            }
            ctx.pos++;
            parse_skip_ws(&ctx);
            if (ctx.pos >= ctx.end) {
                break;
            }
            key = NULL;
            ctx.err = node_from_openstep(&ctx, &key);
            if (ctx.err != 0) {
                plist_free(dict);
                return ctx.err;
            }
            if (!key || !PLIST_IS_STRING(key)) {
                plist_free(key);
                plist_free(dict);
                return PLIST_ERR_PARSE;
            }
        }
        plist_free(key);
        *plist = dict;
    }