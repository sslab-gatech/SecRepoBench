// Attempt to parse the data as a dictionary of 'strings'.
// If parsing fails, free the allocated plist and set an error code.
// If parsing succeeds, assign the newly created dictionary to the plist.
int err = node_from_openstep(&ctx, plist);
if (err != 0) {
    plist_free(*plist);
    *plist = NULL;
    return PLIST_ERR_PARSE;
} else {
    *plist = plist_new_dict();
}