{
    plist_t dict = plist_new_dict();
    if (!dict) {
        plist_free(*plist);
        *plist = NULL;
        return PLIST_ERR_NO_MEM;
    }

    struct _parse_ctx dict_ctx = { ctx.pos + 1, ctx.pos + 1, ctx.end, 0 };
    plist_t key = NULL;
    plist_t value = NULL;

    while (dict_ctx.pos < dict_ctx.end && !dict_ctx.err) {
        parse_skip_ws(&dict_ctx);
        if (dict_ctx.pos >= dict_ctx.end) {
            break;
        }
        
        int err = node_from_openstep(&dict_ctx, &key);
        if (err != 0 || !key) {
            plist_free(dict);
            plist_free(*plist);
            *plist = NULL;
            return PLIST_ERR_PARSE;
        }
        
        parse_skip_ws(&dict_ctx);
        if (dict_ctx.pos >= dict_ctx.end || *dict_ctx.pos != '=') {
            plist_free(key);
            plist_free(dict);
            plist_free(*plist);
            *plist = NULL;
            return PLIST_ERR_PARSE;
        }
        dict_ctx.pos++;
        
        err = node_from_openstep(&dict_ctx, &value);
        if (err != 0 || !value) {
            plist_free(key);
            plist_free(dict);
            plist_free(*plist);
            *plist = NULL;
            return PLIST_ERR_PARSE;
        }
        
        plist_dict_set_item(dict, plist_get_string_ptr(key), value);
        plist_free(key);
        key = NULL;
        value = NULL;
        
        parse_skip_ws(&dict_ctx);
        if (dict_ctx.pos < dict_ctx.end && *dict_ctx.pos == ';') {
            dict_ctx.pos++;
        }
    }
    
    plist_free(*plist);
    *plist = dict;
}