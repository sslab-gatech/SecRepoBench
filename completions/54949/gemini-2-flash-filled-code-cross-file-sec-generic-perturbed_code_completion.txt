{
            plist_t dict = plist_new_dict();
            if (!dict) {
                err = PLIST_ERR_OUT_OF_MEMORY;
                plist_free(*plist);
                *plist = NULL;
                return err;
            }
            const char *key_start = ctx.pos;
            const char *value_start = NULL;
            size_t key_len = 0;
            size_t value_len = 0;
            while (ctx.pos < ctx.end) {
                // Parse key
                key_start = ctx.pos;
                while (ctx.pos < ctx.end && *ctx.pos != '=') {
                    ctx.pos++;
                }
                if (ctx.pos == ctx.end) {
                    plist_free(dict);
                    plist_free(*plist);
                    *plist = NULL;
                    return PLIST_ERR_PARSE;
                }
                key_len = ctx.pos - key_start;
                ctx.pos++; // Skip '='

                // Parse value
                value_start = ctx.pos;
                while (ctx.pos < ctx.end && *ctx.pos != ';') {
                    ctx.pos++;
                }
                if (ctx.pos == ctx.end) {
                    plist_free(dict);
                    plist_free(*plist);
                    *plist = NULL;
                    return PLIST_ERR_PARSE;
                }
                value_len = ctx.pos - value_start;
                ctx.pos++; // Skip ';'

                // Create key and value strings
                char *key = strndup(key_start, key_len);
                if (!key) {
                    plist_free(dict);
                    plist_free(*plist);
                    *plist = NULL;
                    return PLIST_ERR_OUT_OF_MEMORY;
                }
                char *value = strndup(value_start, value_len);
                if (!value) {
                    free(key);
                    plist_free(dict);
                    plist_free(*plist);
                    *plist = NULL;
                    return PLIST_ERR_OUT_OF_MEMORY;
                }

                // Add key-value pair to dictionary
                plist_dict_set_item_string(dict, key, value);

                // Free allocated strings
                free(key);
                free(value);
            }
            plist_free(*plist);
            *plist = dict;
        }