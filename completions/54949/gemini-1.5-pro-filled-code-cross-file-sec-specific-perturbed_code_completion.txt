{
            plist_t dict = plist_new_dict();
            if (!dict) {
                plist_free(*plist);
                *plist = NULL;
                return PLIST_ERR_OUT_OF_MEMORY;
            }
            ctx->pos++; // skip '='
            parse_skip_ws(ctx);
            char state = 0;
            const char *key = NULL;
            const char *val = NULL;
            size_t keylen = 0, vallen = 0;
            while (ctx->pos < ctx->end) {
                if (state == 0) {
                    key = ctx->pos;
                    while (ctx->pos < ctx->end && *ctx->pos != '=') {
                        ctx->pos++;
                    }
                    keylen = ctx->pos - key;
                    if (ctx->pos >= ctx->end) {
                        plist_free(*plist);
                        *plist = NULL;
                        plist_free(dict);
                        return PLIST_ERR_PARSE;
                    }
                    ctx->pos++; // skip '='
                    parse_skip_ws(ctx);
                    state = 1;
                } else {
                    val = ctx->pos;
                    while (ctx->pos < ctx->end && *ctx->pos != ';') {
                        ctx->pos++;
                    }
                    vallen = ctx->pos - val;
                    if (ctx->pos >= ctx->end) {
                        plist_free(*plist);
                        *plist = NULL;
                        plist_free(dict);
                        return PLIST_ERR_PARSE;
                    }
                    ctx->pos++; // skip ';'

                    char *keydup = strndup(key, keylen);
                    char *valdup = strndup(val, vallen);

                    plist_dict_set_item(dict, keydup, plist_new_string(valdup));

                    free(keydup);
                    free(valdup);

                    parse_skip_ws(ctx);
                    state = 0;
                }
            }
            if (state != 0) {
                plist_free(*plist);
                *plist = NULL;
                plist_free(dict);
                return PLIST_ERR_PARSE;
            }

            plist_free(*plist);
            *plist = dict;
        }