if (content_marker[0] != 0xc6) {
  return BLOSC2_ERROR_DATA;  // Expecting msgpack BIN32 marker
}
int32_t content_len;
from_big(&content_len, content_marker + 1, sizeof(content_len));
if (content_len < 0 || offset + 1 + 4 + content_len > header_len) {
  return BLOSC2_ERROR_DATA;  // Content goes out of header bounds
}
current_metalayer->content_len = content_len;
char* content = malloc((size_t)content_len);
if (!content) {
  return BLOSC2_ERROR_MEMORY_ALLOC;
}
memcpy(content, content_marker + 1 + 4, (size_t)content_len);
current_metalayer->content = (uint8_t*)content;