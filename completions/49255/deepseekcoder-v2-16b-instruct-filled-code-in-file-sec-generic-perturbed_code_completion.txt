static int
mpz_get_int(mpz_t *mpzptr, mrb_int *v)
{
  mp_limb i;
  // This code block is responsible for converting a multi-precision integer
  // (represented by mpz_t structure) to a single precision integer (mrb_int),
  // if possible. If conversion is not possible, return FALSE.
  if (mpzptr->sz == 1 && mpzptr->p[0] <= MRB_INT_MAX && mpzptr->p[0] >= MRB_INT_MIN) {
    i = mpzptr->p[0];
    if (mpzptr->sn == -1 && i != MRB_INT_MIN) {
      i = -i;
    }
    *v = i;
    return TRUE;
  }
  return FALSE;
}