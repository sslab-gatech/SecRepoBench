if (mpzptr->sz == 0) {
    *v = 0;
    return TRUE;
  }
  if (mpzptr->sz > sizeof(mrb_int) / sizeof(mp_limb)) {
    return FALSE;
  }
  i = mpzptr->p[0];
  if (mpzptr->sn < 0) {
    i = -i;
  }
  if (mpzptr->sz > 1) {
    for (size_t j = 1; j < mpzptr->sz; j++) {
      i = (i << DIGITBITS) | mpzptr->p[j];
    }
  }
  if (mpzptr->sn < 0 && i == MRB_INT_MIN) {
    *v = i;
    return TRUE;
  }
  if (mpzptr->sn < 0) {
    i = -i;
  }
  if (i > MRB_INT_MAX || i < MRB_INT_MIN) {
    return FALSE;
  }