mp_limb_t limbs[1];
size_t limbs_size = sizeof(limbs) / sizeof(mp_limb_t);
if (mpz_sizeinbase(mpzptr, 2) <= limbs_size * DIGITBITS) {
  mpz_export(limbs, NULL, -1, sizeof(mp_limb_t), 0, 0, *mpzptr);
  i = limbs[0];
  *v = i;
  return TRUE;
} else {
  return FALSE;
}