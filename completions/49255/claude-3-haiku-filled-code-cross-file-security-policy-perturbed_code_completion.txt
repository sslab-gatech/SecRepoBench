mp_limb_t limbs[sizeof(mrb_int) / sizeof(mp_limb_t)];
size_t num_limbs = sizeof(limbs) / sizeof(mp_limb_t);
if (mpz_sizeinbase(mpzptr, 2) <= num_limbs * DIGITBITS) {
  mpz_export(limbs, NULL, -1, sizeof(mp_limb_t), 0, 0, *mpzptr);
  *v = 0;
  for (size_t i = 0; i < num_limbs; i++) {
    *v = (*v << DIGITBITS) | limbs[i];
  }
  return TRUE;
} else {
  return FALSE;
}