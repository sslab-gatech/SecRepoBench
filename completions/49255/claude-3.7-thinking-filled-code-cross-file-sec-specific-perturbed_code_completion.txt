if (!mpzptr || !v) {
  return FALSE;
}

if (mpzptr->sz == 0) {
  i = 0;
} else if (mpzptr->sz == 1) {
  if (!mpzptr->p) {
    return FALSE;
  }
  
  mp_limb limb = mpzptr->p[0];
  
  if (mpzptr->sn < 0) {
    if (limb > (mp_limb)(-MRB_INT_MIN)) {
      return FALSE;
    }
    i = -limb;
  } else {
    if (limb > (mp_limb)MRB_INT_MAX) {
      return FALSE;
    }
    i = limb;
  }
} else {
  return FALSE;
}