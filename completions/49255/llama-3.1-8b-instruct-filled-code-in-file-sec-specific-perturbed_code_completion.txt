static mrb_int
mpz_get_int(mpz_t *mpzptr, mrb_int *v)
{
  mp_limb i;
  if (mpzptr->sn < 0) {
    *v = -1;
    return FALSE;
  }
  if (mpzptr->sz == 0) {
    *v = 0;
    return TRUE;
  }
  i = mpzptr->p[0];
  if (i & (1 << (DIGITBITS-1))) {
    *v = -1;
    return FALSE;
  }
  *v = i;
  return TRUE;
}