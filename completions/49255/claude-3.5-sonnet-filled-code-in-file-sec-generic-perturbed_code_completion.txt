if (uzero(mpzptr)) {
  *v = 0;
  return TRUE;
}

if (mpzptr->sz > 1 || (mpzptr->sz == 1 && (mpzptr->p[0] & LC))) {
  return FALSE;
}

i = mpzptr->p[0];
if (mpzptr->sn < 0) {
  i = -i;
}

if (i > MRB_INT_MAX || i < MRB_INT_MIN) {
  return FALSE;
}