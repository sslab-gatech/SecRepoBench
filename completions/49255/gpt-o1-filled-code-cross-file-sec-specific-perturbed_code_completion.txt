if (mpzptr->sz == 0) {
    /* value is zero */
    i = 0;
  }
  else if (mpzptr->sz > 1) {
    /* value cannot fit in mrb_int if more than one limb is used */
    return FALSE;
  }
  else { /* mpzptr->sz == 1 */
    /* check sign and range */
    if (mpzptr->sn < 0) {
      /* check if negative value fits in mrb_int */
      if (mpzptr->p[0] > (mp_limb)(-MRB_INT_MIN)) {
        return FALSE;
      }
      i = -(mrb_int)(mpzptr->p[0]);
    }
    else {
      /* check if positive value fits in mrb_int */
      if (mpzptr->p[0] > (mp_limb)MRB_INT_MAX) {
        return FALSE;
      }
      i = (mrb_int)mpzptr->p[0];
    }
  }