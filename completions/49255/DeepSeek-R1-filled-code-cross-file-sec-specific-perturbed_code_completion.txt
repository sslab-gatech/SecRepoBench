if (mpzptr->sz == 0) {
    *v = 0;
    return TRUE;
  }

  if (mpzptr->sz != 1) {
    return FALSE;
  }

  i = mpzptr->p[0];
  if (mpzptr->sn > 0) {
    if (i > (mp_limb)MRB_INT_MAX) {
      return FALSE;
    }
  } else {
    if (i > (mp_limb)(MRB_INT_MAX) + 1) {
      return FALSE;
    }
  }