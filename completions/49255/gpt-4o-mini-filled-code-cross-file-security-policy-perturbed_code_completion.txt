if (mpz_size(mpzptr) > sizeof(mrb_int) * 8) {
    return FALSE; // Value too large to fit in mrb_int
  }

  i = mpz_get_ui(mpzptr); // Get the unsigned integer value from mpz_t

  if (i > INT_MAX) {
    return FALSE; // Check for overflow
  }
  
  *v = (mrb_int)i; // Safe to assign