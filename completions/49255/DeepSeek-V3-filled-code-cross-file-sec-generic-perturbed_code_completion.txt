if (mpz_size(mpzptr) > 1) {
    return FALSE;
  }
  if (mpz_size(mpzptr) == 0) {
    *v = 0;
    return TRUE;
  }
  i = mpz_get_limb(mpzptr, 0);
  if (mpz_sgn(mpzptr) < 0) {
    if (i > (mp_limb)1 << (sizeof(mrb_int)*8 - 1)) {
      return FALSE;
    }
    *v = -(mrb_int)i;
  } else {
    if (i > (mp_limb)((mrb_int)-1) >> 1) {
      return FALSE;
    }
    *v = (mrb_int)i;
  }