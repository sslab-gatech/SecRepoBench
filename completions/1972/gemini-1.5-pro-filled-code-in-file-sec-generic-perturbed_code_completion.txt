switch (content->type) {
        case XML_ELEMENT_CONTENT_PCDATA:
            strcat(buf, "#PCDATA");
            break;
        case XML_ELEMENT_CONTENT_ELEMENT:
            if (content->prefix != NULL) {
                if (size - len < xmlStrlen(content->prefix) + 10) {
                    if ((size - len > 4) && (buf[len - 1] != '.'))
                        strcat(buf, " ...");
                    return;
                }
                strcat(buf, (char *) content->prefix);
                strcat(buf, ":");
            }
            if (size - len < xmlStrlen(content->name) + 10) {
                if ((size - len > 4) && (buf[len - 1] != '.'))
                    strcat(buf, " ...");
                return;
            }
            strcat(buf, (char *) content->name);
            break;
        case XML_ELEMENT_CONTENT_SEQ:
            xmlSnprintfElementContent(buf, size, content->c1,
                                     (content->c1->type == XML_ELEMENT_CONTENT_OR) ||
                                     (content->c1->type == XML_ELEMENT_CONTENT_SEQ));
            strcat(buf, " , ");
            xmlSnprintfElementContent(buf, size, content->c2,
                                     (content->c2->type == XML_ELEMENT_CONTENT_OR) ||
                                     ((content->c2->type == XML_ELEMENT_CONTENT_SEQ) &&
                                      (content->c2->ocur != XML_ELEMENT_CONTENT_ONCE)));
            break;
        case XML_ELEMENT_CONTENT_OR:
            xmlSnprintfElementContent(buf, size, content->c1,
                                     (content->c1->type == XML_ELEMENT_CONTENT_OR) ||
                                     (content->c1->type == XML_ELEMENT_CONTENT_SEQ));
            strcat(buf, " | ");
            xmlSnprintfElementContent(buf, size, content->c2,
                                     (content->c2->type == XML_ELEMENT_CONTENT_SEQ) ||
                                     ((content->c2->type == XML_ELEMENT_CONTENT_OR) &&
                                      (content->c2->ocur != XML_ELEMENT_CONTENT_ONCE)));
            break;
        default:
            xmlErrValid(NULL, XML_ERR_INTERNAL_ERROR,
                        "Internal: ELEMENT content corrupted invalid type\n",
                        NULL);
    }