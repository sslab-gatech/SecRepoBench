switch (content->type) {
    case XML_ELEMENT_CONTENT_PCDATA:
        strcat(buf, "#PCDATA");
        break;
    case XML_ELEMENT_CONTENT_ELEMENT:
        if (content->name!= NULL) {
            if (content->prefix!= NULL)
                strcat(buf, content->prefix);
            strcat(buf, content->name);
        }
        break;
    case XML_ELEMENT_CONTENT_SEQ:
        xmlSnprintfElementContent(buf, capacity, content->c1, 0);
        if (capacity - strlen(buf) > 1)
            strcat(buf, ",");
        xmlSnprintfElementContent(buf, capacity, content->c2, 0);
        break;
    case XML_ELEMENT_CONTENT_OR:
        xmlSnprintfElementContent(buf, capacity, content->c1, 0);
        if (capacity - strlen(buf) > 1)
            strcat(buf, "|");
        xmlSnprintfElementContent(buf, capacity, content->c2, 0);
        break;
}