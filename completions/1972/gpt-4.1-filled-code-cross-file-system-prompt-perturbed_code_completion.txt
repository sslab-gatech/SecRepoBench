switch (content->type) {
        case XML_ELEMENT_CONTENT_PCDATA:
            strcat(buf, "#PCDATA");
            break;
        case XML_ELEMENT_CONTENT_ELEMENT:
            if (content->prefix != NULL) {
                strcat(buf, (const char *)content->prefix);
                strcat(buf, ":");
            }
            if (content->name != NULL)
                strcat(buf, (const char *)content->name);
            break;
        case XML_ELEMENT_CONTENT_SEQ:
        case XML_ELEMENT_CONTENT_OR: {
            int need_paren = 0;
            /* Add parentheses if sub-content is not a leaf */
            if ((content->c1 != NULL) &&
                ((content->c1->type == XML_ELEMENT_CONTENT_SEQ) ||
                 (content->c1->type == XML_ELEMENT_CONTENT_OR)))
                need_paren = 1;
            xmlSnprintfElementContent(buf, capacity, content->c1, need_paren);
            if (content->type == XML_ELEMENT_CONTENT_SEQ)
                strcat(buf, ", ");
            else
                strcat(buf, " | ");
            need_paren = 0;
            if ((content->c2 != NULL) &&
                ((content->c2->type == XML_ELEMENT_CONTENT_SEQ) ||
                 (content->c2->type == XML_ELEMENT_CONTENT_OR)))
                need_paren = 1;
            xmlSnprintfElementContent(buf, capacity, content->c2, need_paren);
            break;
        }
        default:
            break;
    }