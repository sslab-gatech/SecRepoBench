if (content->ocur == XML_ELEMENT_CONTENT_ONCE) {
    if (content->type == XML_ELEMENT_CONTENT_PCDATA) {
        strcat(buf, "#PCDATA");
    } else if (content->type == XML_ELEMENT_CONTENT_ELEMENT) {
        if (content->elem->ns!= NULL && content->elem->ns->prefix!= NULL) {
            xmlChar fn[50];
            xmlChar *fullname = xmlBuildQName(content->elem->name,
                                             content->elem->ns->prefix, fn, 50);
            if (fullname!= NULL) {
                strcat(buf, fullname);
                xmlFree(fullname);
            } else {
                strcat(buf, content->elem->name);
            }
        } else {
            strcat(buf, content->elem->name);
        }
    } else if (content->type == XML_ELEMENT_CONTENT_SEQ) {
        xmlElementContentPtr seq = content->seq;
        int first = 1;
        while (seq!= NULL) {
            if (seq->elem!= NULL) {
                if (!first) {
                    strcat(buf, ",");
                }
                if (seq->elem->ns!= NULL && seq->elem->ns->prefix!= NULL) {
                    xmlChar fn[50];
                    xmlChar *fullname = xmlBuildQName(seq->elem->name,
                                                     seq->elem->ns->prefix, fn, 50);
                    if (fullname!= NULL) {
                        strcat(buf, fullname);
                        xmlFree(fullname);
                    } else {
                        strcat(buf, seq->elem->name);
                    }
                } else {
                    strcat(buf, seq->elem->name);
                }
                first = 0;
            }
            seq = seq->next;
        }
    } else if (content->type == XML_ELEMENT_CONTENT_OR) {
        xmlElementContentPtr or = content->or;
        int first = 1;
        while (or!= NULL) {
            if (or->elem!= NULL) {
                if (!first) {
                    strcat(buf, "|");
                }
                if (or->elem->ns!= NULL && or->elem->ns->prefix!= NULL) {
                    xmlChar fn[50];
                    xmlChar *fullname = xmlBuildQName(or->elem->name,
                                                     or->elem->ns->prefix, fn, 50);
                    if (fullname!= NULL) {
                        strcat(buf, fullname);
                        xmlFree(fullname);
                    } else {
                        strcat(buf, or->elem->name);
                    }
                } else {
                    strcat(buf, or->elem->name);
                }
                first = 0;
            }
            or = or->next;
        }
    }
} else if (content->ocur == XML_ELEMENT_CONTENT_OPT) {
    strcat(buf, "?");
} else if (content->ocur == XML_ELEMENT_CONTENT_MULT) {
    strcat(buf, "*");
} else if (content->ocur == XML_ELEMENT_CONTENT_PLUS) {
    strcat(buf, "+");
}