switch (content->type) {
        case XML_ELEMENT_CONTENT_PCDATA:
            strcat(buf, "#PCDATA");
            break;
        case XML_ELEMENT_CONTENT_ELEMENT:
            if (content->name != NULL) {
                if (content->ns != NULL && content->ns->prefix != NULL) {
                    char prefix[50];
                    xmlChar *fullname = xmlBuildQName(content->name, content->ns->prefix, prefix, 50);
                    if (fullname != NULL) {
                        strcat(buf, fullname);
                        xmlFree(fullname);
                    }
                } else {
                    strcat(buf, content->name);
                }
            }
            break;
        case XML_ELEMENT_CONTENT_SEQ:
            if (content->children != NULL) {
                xmlElementContentPtr child = content->children;
                while (child != NULL) {
                    xmlSnprintfElementContent(buf, capacity, child, 1);
                    if (child->next != NULL) {
                        strcat(buf, ",");
                    }
                    child = child->next;
                }
            }
            break;
        case XML_ELEMENT_CONTENT_OR:
            if (content->children != NULL) {
                xmlElementContentPtr child = content->children;
                while (child != NULL) {
                    xmlSnprintfElementContent(buf, capacity, child, 1);
                    if (child->next != NULL) {
                        strcat(buf, "|");
                    }
                    child = child->next;
                }
            }
            break;
        default:
            break;
    }