switch (content->type) {
    case XML_ELEMENT_CONTENT_PCDATA:
        strcat(buf, "#PCDATA");
        break;
    case XML_ELEMENT_CONTENT_ELEMENT:
        if (content->prefix) {
            strcat(buf, (const char*)content->prefix);
            strcat(buf, ":");
        }
        strcat(buf, (const char*)content->name);
        break;
    case XML_ELEMENT_CONTENT_SEQ:
        xmlSnprintfElementContent(buf, capacity, content->c1,
            (content->c1->type == XML_ELEMENT_CONTENT_SEQ ||
             content->c1->type == XML_ELEMENT_CONTENT_OR));
        strcat(buf, ", ");
        xmlSnprintfElementContent(buf, capacity, content->c2,
            (content->c2->type == XML_ELEMENT_CONTENT_SEQ ||
             content->c2->type == XML_ELEMENT_CONTENT_OR));
        break;
    case XML_ELEMENT_CONTENT_OR:
        xmlSnprintfElementContent(buf, capacity, content->c1,
            (content->c1->type == XML_ELEMENT_CONTENT_SEQ ||
             content->c1->type == XML_ELEMENT_CONTENT_OR));
        strcat(buf, " | ");
        xmlSnprintfElementContent(buf, capacity, content->c2,
            (content->c2->type == XML_ELEMENT_CONTENT_SEQ ||
             content->c2->type == XML_ELEMENT_CONTENT_OR));
        break;
}