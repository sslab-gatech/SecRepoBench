// <MASK>
if (content->type == XML_ELEMENT_CONTENT_ELEMENT) {
    if (content->name != NULL) {
        if (content->prefix != NULL) {
            char fullname[50];
            xmlStrncpy(fullname, content->prefix, 49);
            xmlStrncat(fullname, ":", 1);
            xmlStrncat(fullname, content->name, 49 - xmlStrlen(fullname));
            xmlSnprintfElementContent(buf, capacity - len, fullname, 0);
        } else {
            xmlSnprintfElementContent(buf, capacity - len, content->name, 0);
        }
    }
} else if (content->type == XML_ELEMENT_CONTENT_PCDATA) {
    xmlBufferCat(buf, BAD_CAST "#PCDATA");
} else if (content->type == XML_ELEMENT_CONTENT_SEQ) {
    xmlSnprintfElementContent(buf, capacity - len, content->c1, 1);
    xmlBufferCat(buf, ", ");
    xmlSnprintfElementContent(buf, capacity - len, content->c2, 1);
} else if (content->type == XML_ELEMENT_CONTENT_OR) {
    xmlSnprintfElementContent(buf, capacity - len, content->c1, 1);
    xmlBufferCat(buf, " | ");
    xmlSnprintfElementContent(buf, capacity - len, content->c2, 1);
}
if (englob)
    strcat(buf, ")");