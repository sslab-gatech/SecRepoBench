// <MASK>
if (dwFlags & cmsFLAGS_CAN_CHANGE_FORMATTER) {
    xform->InputFormat = InputFormat;
    xform->OutputFormat = OutputFormat;
    xform->FromInput = _cmsGetFormatter(ContextID, InputFormat, cmsFormatterInput, CMS_PACK_FLAGS_16BITS).Fmt16;
    xform->ToOutput = _cmsGetFormatter(ContextID, OutputFormat, cmsFormatterOutput, CMS_PACK_FLAGS_16BITS).Fmt16;
} else {
    cmsSignalError(ContextID, cmsERROR_NOT_SUITABLE, "cmsChangeBuffersFormat works only on transforms created originally with at least 16 bits of precision");
    return NULL;
}