int AffixMgr::cpdcase_check(const char* word, int index) {
  // Check if the two characters at specified positions in the word form a valid case pair.
  // If the word is in UTF-8 format, convert the characters to a Unicode representation.
  // Determine if either of the characters remains unchanged when converted to uppercase,
  // indicating they are already uppercase.
  // Ensure neither character is a hyphen ('-').
  // If the conditions are met, return 1 to indicate a match is found.
  if (index < 0 || index >= strlen(word) - 1) {
    return 0;
  }
  char c1 = word[index];
  char c2 = word[index + 1];
  if (c1 == '-' || c2 == '-') {
    return 0;
  }
  // Convert characters to Unicode representation
  w_char w1, w2;
  if (utf8) {
    w1 = u8_u16(c1);
    w2 = u8_u16(c2);
  } else {
    w1 = c1;
    w2 = c2;
  }
  // Check if either character remains unchanged when converted to uppercase
  if (isupper(w1) && w1 == toupper(w1)) {
    return 0;
  }
  if (isupper(w2) && w2 == toupper(w2)) {
    return 0;
  }
  // Check if the characters form a valid case pair
  if (islower(w1) && isupper(w2)) {
    return 1;
  }
  if (isupper(w1) && islower(w2)) {
    return 1;
  }
  return 0;
}