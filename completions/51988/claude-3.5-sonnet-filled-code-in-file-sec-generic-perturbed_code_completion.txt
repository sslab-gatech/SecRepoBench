if (word[index] != word[index + 1] &&
    (utf8 ? is_upper_utf8(word + index, word.size() - index) !=
            is_upper_utf8(word + index + 1, word.size() - index - 1)
          : is_upper(word[index]) != is_upper(word[index + 1])) &&
    word[index] != '-' && word[index + 1] != '-') {
  return 1;
}