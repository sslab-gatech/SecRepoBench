if (utf8) {
    std::vector<w_char> w1, w2;
    u8_u16(w1, std::string(word + index -1, 1));
    u8_u16(w2, std::string(word + index, 1));
    if (!w1.empty() && !w2.empty() &&
        (w1[0] != '-') && (w2[0] != '-') &&
        (towupper(w1[0]) == w1[0] || towupper(w2[0]) == w2[0]))
      return 1;
  } else {
    if (((csconv[(unsigned char)word[index - 1]].cupper ==
          csconv[(unsigned char)word[index - 1]].clower) ||
         (csconv[(unsigned char)word[index]].cupper ==
          csconv[(unsigned char)word[index]].clower)) &&
        (word[index - 1] != '-') && (word[index] != '-'))
      return 1;
  }