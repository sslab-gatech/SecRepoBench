if (!word || index < 0) {
    return 0;
  }

  size_t len = strlen(word);
  if (index >= (int)len - 1) {
    return 0;
  }

  char char1 = word[index];
  char char2 = word[index + 1];

  if (char1 == '-' || char2 == '-') {
    return 0;
  }

  if (affix_utf8) {
    std::vector<unsigned short> unicode_word;
    if (!u8_to_u16(unicode_word, word)) {
      return 0; // Invalid UTF-8
    }
    if (index >= (int)unicode_word.size() - 1) {
      return 0;
    }
    unsigned short uchar1 = unicode_word[index];
    unsigned short uchar2 = unicode_word[index + 1];

    if (uchar1 == 0x002D || uchar2 == 0x002D) {
      return 0;
    }

    unsigned short upper_uchar1 = toupper(uchar1);
    unsigned short upper_uchar2 = toupper(uchar2);

    if (upper_uchar1 == uchar1 || upper_uchar2 == uchar2) {
      return 0;
    }

    return 1;

  } else {
    if (isupper(char1) || isupper(char2)) {
      return 0;
    }

    return 1;
  }