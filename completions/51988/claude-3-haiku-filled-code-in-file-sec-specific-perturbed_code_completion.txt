int AffixMgr::cpdcase_check(const char* word, int index) {
    // Check if the two characters at specified positions in the word form a valid case pair.
    // If the word is in UTF-8 format, convert the characters to a Unicode representation.
    // Determine if either of the characters remains unchanged when converted to uppercase,
    // indicating they are already uppercase.
    // Ensure neither character is a hyphen ('-').
    // If the conditions are met, return 1 to indicate a match is found.
    if (!utf8) {
        if (word[index - 1] == word[index]) {
            return 0;
        }
        if (isupper(word[index - 1]) && isupper(word[index])) {
            return 1;
        }
    } else {
        std::vector<w_char> wchars;
        u8_u16(wchars, word);
        if (wchars[index - 1].l == wchars[index].l && wchars[index - 1].h == wchars[index].h) {
            return 0;
        }
        if (isupper(wchars[index - 1].l) && isupper(wchars[index].l) &&
            wchars[index - 1].h == wchars[index].h && wchars[index - 1].l != '-' && wchars[index].l != '-') {
            return 1;
        }
    }
    return 0;
}