if (utf8) {
    w_char wc1 = u8_u16(word, index);
    w_char wc2 = u8_u16(word, index + 1);
    if (wc1 == '-' || wc2 == '-')
      return 0;
    if ((toupper(wc1) == wc1) && (tolower(wc2) == wc2))
      return 1;
    if ((tolower(wc1) == wc1) && (toupper(wc2) == wc2))
      return 1;
  } else {
    if (word[index] == '-' || word[index + 1] == '-')
      return 0;
    if ((isupper(word[index])) && (islower(word[index + 1])))
      return 1;
    if ((islower(word[index])) && (isupper(word[index + 1])))
      return 1;
  }