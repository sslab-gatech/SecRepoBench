if (word[index] && word[index + 1]) {
    if (isutf8) {
      w_char c1 = word[index];
      w_char c2 = word[index + 1];
      if (isupper(c1) || isupper(c2)) {
        return 1;
      }
    } else {
      if (isupper(word[index]) || isupper(word[index + 1])) {
        return 1;
      }
    }
    if (word[index] != '-' && word[index + 1] != '-') {
      return 1;
    }
  }
  return 0;