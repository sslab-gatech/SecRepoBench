// make sure index is valid for accessing two consecutive characters
  int len = (int)strlen(word);
  if (index < 0 || index + 1 >= len) return 0;

  // ensure neither character is a hyphen
  if (word[index] == '-' || word[index + 1] == '-') return 0;

  // if utf8 is set, then convert the characters to Unicode code points
  // and check if either character remains unchanged when converted to uppercase
  if (utf8) {
    // simplistic approach for demonstration; actual UTF-8 to Unicode conversion
    // and uppercase checks would be more involved:
    unsigned char c1 = (unsigned char)word[index];
    unsigned char c2 = (unsigned char)word[index + 1];

    // here we just check ASCII range uppercase as an example
    if ((c1 >= 'A' && c1 <= 'Z') || (c2 >= 'A' && c2 <= 'Z')) {
      return 1;
    }
  } else {
    // in non-UTF8 mode, just check if either character is already uppercase
    if (isupper((unsigned char)word[index]) || isupper((unsigned char)word[index + 1])) {
      return 1;
    }
  }