const char *icc_profile = GetImageProperty(image, "icc", exception_info);
if (icc_profile != NULL && strlen(icc_profile) >= 128) {
  cmsHPROFILE icc_handle = cmsOpenProfileFromMem(icc_profile, strlen(icc_profile));
  if (icc_handle != NULL) {
    const char *description = cmsGetProfileInfoASCII(icc_handle, cmsInfoDescription, "en", "US", NULL, 0);
    const char *manufacturer = cmsGetProfileInfoASCII(icc_handle, cmsInfoManufacturer, "en", "US", NULL, 0);
    const char *model = cmsGetProfileInfoASCII(icc_handle, cmsInfoModel, "en", "US", NULL, 0);
    const char *copyright = cmsGetProfileInfoASCII(icc_handle, cmsInfoCopyright, "en", "US", NULL, 0);

    if (description != NULL) {
      SetImageProperty(image, "icc:description", description);
    }
    if (manufacturer != NULL) {
      SetImageProperty(image, "icc:manufacturer", manufacturer);
    }
    if (model != NULL) {
      SetImageProperty(image, "icc:model", model);
    }
    if (copyright != NULL) {
      SetImageProperty(image, "icc:copyright", copyright);
    }

    cmsCloseProfile(icc_handle);
  }
}