const char
    *profile;

  if (image == (Image *) NULL)
    return((const char *) NULL);
  profile=GetImageProperty(image,"icc",exception_info);
  if (profile == (const char *) NULL)
    profile=GetImageProperty(image,"icm",exception_info);
  if (profile == (const char *) NULL)
    return((const char *) NULL);
#ifdef USE_LCMS2
  {
    cmsHPROFILE
      icc_profile;

    char
      *description,
      *manufacturer,
      *model,
      *copyright;

    size_t
      length;

    length=strlen(profile);
    if (length == 0)
      return((const char *) NULL);
    icc_profile=cmsOpenProfileFromMem(profile,(size_t) length);
    if (icc_profile == (cmsHPROFILE) NULL)
      return((const char *) NULL);
    description=cmsGetProfileDescription(icc_profile);
    manufacturer=cmsGetProfileManufacturer(icc_profile);
    model=cmsGetProfileModel(icc_profile);
    copyright=cmsGetProfileCopyright(icc_profile);
    (void) SetImageProperty(image,"description",description,exception_info);
    (void) SetImageProperty(image,"manufacturer",manufacturer,exception_info);
    (void) SetImageProperty(image,"model",model,exception_info);
    (void) SetImageProperty(image,"copyright",copyright,exception_info);
    cmsCloseProfile(icc_profile);
    if (description != (char *) NULL)
      cmsFree(description);
    if (manufacturer != (char *) NULL)
      cmsFree(manufacturer);
    if (model != (char *) NULL)
      cmsFree(model);
    if (copyright != (char *) NULL)
      cmsFree(copyright);
    return(GetImageProperty(image,key,exception_info));
  }
#else
  return(profile);
#endif