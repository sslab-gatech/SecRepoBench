ICCProfile
    *icc_profile;

  char
    *profile_description,
    *profile_manufacturer,
    *profile_model,
    *profile_copyright;

  if (image->icc_profile == (void *) NULL)
    {
      (void) ThrowMagickException(exception,GetMagickModule(),OptionError,
        "NoICCProfile","%s",key);
      return((const char *) NULL);
    }
  icc_profile=(ICCProfile *) image->icc_profile;
  if (icc_profile->profile == (void *) NULL)
    {
      (void) ThrowMagickException(exception,GetMagickModule(),OptionError,
        "NoICCProfile","%s",key);
      return((const char *) NULL);
    }
  if (LCMS == (void *) NULL)
    {
      (void) ThrowMagickException(exception,GetMagickModule(),OptionError,
        "LCMSNotFound","%s",key);
      return((const char *) NULL);
    }
  if (icc_profile->profile_length < 128)
    {
      (void) ThrowMagickException(exception,GetMagickModule(),OptionError,
        "InvalidICCProfile","%s",key);
      return((const char *) NULL);
    }
  profile_description=(char *) NULL;
  profile_manufacturer=(char *) NULL;
  profile_model=(char *) NULL;
  profile_copyright=(char *) NULL;
  if (icc_profile->profile_length >= 128)
    {
      profile_description=GetICCProfileDescription(icc_profile->profile);
      if (profile_description == (char *) NULL)
        profile_description="";
    }
  if (icc_profile->profile_length >= 128)
    {
      profile_manufacturer=GetICCProfileManufacturer(icc_profile->profile);
      if (profile_manufacturer == (char *) NULL)
        profile_manufacturer="";
    }
  if (icc_profile->profile_length >= 128)
    {
      profile_model=GetICCProfileModel(icc_profile->profile);
      if (profile_model == (char *) NULL)
        profile_model="";
    }
  if (icc_profile->profile_length >= 128)
    {
      profile_copyright=GetICCProfileCopyright(icc_profile->profile);
      if (profile_copyright == (char *) NULL)
        profile_copyright="";
    }
  if (profile_description != (char *) NULL)
    (void) SetImageProperty(image,"icc:description",profile_description,exception);
  if (profile_manufacturer != (char *) NULL)
    (void) SetImageProperty(image,"icc:manufacturer",profile_manufacturer,exception);
  if (profile_model != (char *) NULL)
    (void) SetImageProperty(image,"icc:model",profile_model,exception);
  if (profile_copyright != (char *) NULL)
    (void) SetImageProperty(image,"icc:copyright",profile_copyright,exception);
  return((const char *) NULL);