const char
    *profile;

  size_t
    profile_length;

#if defined(MAGICKCORE_LCMS_DELEGATE)
  cmsHPROFILE
    hProfile;

  cmsInfoType
    info;

  const char
    *manufacturer,*model,*description,*copyright;

  char
    buffer[MagickPathExtent];
#endif

  profile=GetImageProfile(image,"icc");
  if (profile == (const char *) NULL)
    profile=GetImageProfile(image,"icm");
  if (profile == (const char *) NULL)
    return((const char *) NULL);
  profile_length=strlen(profile);
  if (profile_length < 8)
    return((const char *) NULL);
#if defined(MAGICKCORE_LCMS_DELEGATE)
  hProfile=cmsOpenProfileFromMem(profile,(cmsUInt32Number) profile_length);
  if (hProfile != (cmsHPROFILE) NULL)
    {
      info=cmsInfoDescription;
      description=(const char *) cmsGetProfileInfo(hProfile,ptcASCII,info,"en","US");
      if (description != (const char *) NULL)
        {
          (void) SetImageProperty(image,"icc:description",description,
            exception_info);
        }
      info=cmsInfoManufacturer;
      manufacturer=(const char *) cmsGetProfileInfo(hProfile,ptcASCII,info,"en","US");
      if (manufacturer != (const char *) NULL)
        {
          (void) FormatLocaleString(buffer,MagickPathExtent,"%.1024s",
            manufacturer);
          (void) SetImageProperty(image,"icc:manufacturer",buffer,
            exception_info);
        }
      info=cmsInfoModel;
      model=(const char *) cmsGetProfileInfo(hProfile,ptcASCII,info,"en","US");
      if (model != (const char *) NULL)
        {
          (void) FormatLocaleString(buffer,MagickPathExtent,"%.1024s",model);
          (void) SetImageProperty(image,"icc:model",buffer,exception_info);
        }
      info=cmsInfoCopyright;
      copyright=(const char *) cmsGetProfileInfo(hProfile,ptcASCII,info,"en","US");
      if (copyright != (const char *) NULL)
        {
          (void) SetImageProperty(image,"icc:copyright",copyright,
            exception_info);
        }
      (void) cmsCloseProfile(hProfile);
    }
#endif
  return(GetImageProperty(image,key,exception_info));