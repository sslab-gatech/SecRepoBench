const StringInfo
    *profile;

  const char
    *property;

  (void) exception_info;
  if (image == (const Image *) NULL)
    return((const char *) NULL);
  if (LocaleCompare(key,"icc") == 0)
    property="icc-profile";
  else if (LocaleCompare(key,"icm") == 0)
    property="icc-profile";
  else
    return((const char *) NULL);
  profile=GetImageProfile(image,property);
  if (profile == (const StringInfo *) NULL)
    return((const char *) NULL);
  if (profile->length < 128)
    return((const char *) NULL);
#if defined(MAGICKCORE_LCMS_DELEGATE)
  {
    cmsHPROFILE
      icc_profile;

    char
      description[MagickPathExtent],
      manufacturer[MagickPathExtent],
      model[MagickPathExtent],
      copyright[MagickPathExtent];

    icc_profile=cmsOpenProfileFromMem(profile->datum,profile->length);
    if (icc_profile == (cmsHPROFILE) NULL)
      return((const char *) NULL);
    *description='\0';
    *manufacturer='\0';
    *model='\0';
    *copyright='\0';
    (void) cmsGetProfileInfoASCII(icc_profile,cmsInfoDescription,"en","US",
      description,MagickPathExtent);
    (void) cmsGetProfileInfoASCII(icc_profile,cmsInfoManufacturer,"en","US",
      manufacturer,MagickPathExtent);
    (void) cmsGetProfileInfoASCII(icc_profile,cmsInfoModel,"en","US",model,
      MagickPathExtent);
    (void) cmsGetProfileInfoASCII(icc_profile,cmsInfoCopyright,"en","US",
      copyright,MagickPathExtent);
    (void) cmsCloseProfile(icc_profile);
    if (*description != '\0')
      (void) SetImageProperty((Image *) image,"icc:description",description,
        exception_info);
    if (*manufacturer != '\0')
      (void) SetImageProperty((Image *) image,"icc:manufacturer",manufacturer,
        exception_info);
    if (*model != '\0')
      (void) SetImageProperty((Image *) image,"icc:model",model,exception_info);
    if (*copyright != '\0')
      (void) SetImageProperty((Image *) image,"icc:copyright",copyright,
        exception_info);
  }
#endif
  return(GetImageProperty((Image *) image,property,exception_info));