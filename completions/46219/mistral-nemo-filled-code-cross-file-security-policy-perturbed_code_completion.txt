ICCProfile
    *icc_profile;

  char
    *description,
    *manufacturer,
    *model,
    *copyright;

  if (image->debug != MagickFalse)
    (void) LogMagickEvent(TraceEvent,GetMagickModule(),"%s",image->filename);
  if (image->properties == (void *) NULL)
    image->properties=NewSplayTree(CompareSplayTreeString,RelinquishMagickMemory,
      DestroyRegistryNode);
  if (image->properties == (SplayTreeInfo *) NULL)
    {
      (void) ThrowMagickException(exception,GetMagickModule(),MemoryError,
        "UnableToSetRegistry","%s",key);
      return((const char *) NULL);
    }
  if (image->icc_profile == (ICCProfile *) NULL)
    {
      icc_profile=GetICCProfile(image,key,exception);
      if (icc_profile == (ICCProfile *) NULL)
        return((const char *) NULL);
      image->icc_profile=icc_profile;
    }
  else
    icc_profile=image->icc_profile;
  description=GetICCProfileDescription(icc_profile,exception);
  manufacturer=GetICCProfileManufacturer(icc_profile,exception);
  model=GetICCProfileModel(icc_profile,exception);
  copyright=GetICCProfileCopyright(icc_profile,exception);
  if (description != (char *) NULL)
    (void) SetImageProperty(image,"description",description,exception);
  if (manufacturer != (char *) NULL)
    (void) SetImageProperty(image,"manufacturer",manufacturer,exception);
  if (model != (char *) NULL)
    (void) SetImageProperty(image,"model",model,exception);
  if (copyright != (char *) NULL)
    (void) SetImageProperty(image,"copyright",copyright,exception);
  return((const char *) NULL);
}