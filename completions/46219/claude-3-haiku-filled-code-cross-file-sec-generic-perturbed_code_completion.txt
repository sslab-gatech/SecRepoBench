const char *icc_profile = GetImageProperty(image, "icc", exception_info);
if (icc_profile != NULL && strlen(icc_profile) >= sizeof(cmsHPROFILE)) {
    cmsHPROFILE profile = cmsOpenProfileFromMem(icc_profile, strlen(icc_profile));
    if (profile != NULL) {
        const char *description = cmsGetProfileInfoASCII(profile, cmsInfoDescription, "en", "US", NULL, 0);
        const char *manufacturer = cmsGetProfileInfoASCII(profile, cmsInfoManufacturer, "en", "US", NULL, 0);
        const char *model = cmsGetProfileInfoASCII(profile, cmsInfoModel, "en", "US", NULL, 0);
        const char *copyright = cmsGetProfileInfoASCII(profile, cmsInfoCopyright, "en", "US", NULL, 0);

        if (description != NULL) {
            SetImageProperty(image, "icc:description", description);
        }
        if (manufacturer != NULL) {
            SetImageProperty(image, "icc:manufacturer", manufacturer);
        }
        if (model != NULL) {
            SetImageProperty(image, "icc:model", model);
        }
        if (copyright != NULL) {
            SetImageProperty(image, "icc:copyright", copyright);
        }

        cmsCloseProfile(profile);
    }
}
return icc_profile;