const StringInfo
    *profile;

  cmsHPROFILE
    icc_profile;

  char
    *value;

  profile=GetImageProfile(image,"icc");
  if (profile == (StringInfo *) NULL)
    profile=GetImageProfile(image,"icm");
  if (profile == (StringInfo *) NULL)
    return((char *) NULL);
  if (GetStringInfoLength(profile) < 378)
    return((char *) NULL);
#if defined(LCMS_VERSION) && (LCMS_VERSION >= 2000)
  icc_profile=cmsOpenProfileFromMem(GetStringInfoDatum(profile),
    (cmsUInt32Number) GetStringInfoLength(profile));
  if (icc_profile == (cmsHPROFILE *) NULL)
    return((char *) NULL);
  value=AcquireString(cmsTakeProductName(icc_profile));
  (void) SetImageProperty((Image *) image,key,(const char *) value,
    exception_info);
  value=DestroyString(value);
  (void) cmsGetProfileInfoASCII(icc_profile,cmsInfoManufacturer,"en","US",value,
    MagickPathExtent);
  (void) SetImageProperty((Image *) image,key,(const char *) value,
    exception_info);
  value=DestroyString(value);
  (void) cmsGetProfileInfoASCII(icc_profile,cmsInfoModel,"en","US",value,
    MagickPathExtent);
  (void) SetImageProperty((Image *) image,key,(const char *) value,
    exception_info);
  value=DestroyString(value);
  (void) cmsGetProfileInfoASCII(icc_profile,cmsInfoCopyright,"en","US",value,
    MagickPathExtent);
  (void) SetImageProperty((Image *) image,key,(const char *) value,
    exception_info);
  value=DestroyString(value);
  (void) cmsCloseProfile(icc_profile);
#endif
  return((char *) NULL);