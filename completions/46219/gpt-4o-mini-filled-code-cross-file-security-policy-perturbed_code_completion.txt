const char *icc_profile = GetImageProperty(image, key, exception);
  if (icc_profile == (const char *) NULL)
    return((const char *) NULL);

  size_t profile_length = strlen(icc_profile);
  if (profile_length == 0)
    return((const char *) NULL);

#ifdef LCMS
  // Open the ICC profile and extract properties
  cmsHPROFILE hProfile = cmsOpenProfileFromMem(icc_profile, profile_length);
  if (hProfile == NULL)
    return((const char *) NULL);

  // Extract properties such as description, manufacturer, model, and copyright
  char description[256], manufacturer[256], model[256], copyright[256];
  cmsGetProfileInfoASCII(hProfile, cmsInfoDescription, description, sizeof(description));
  cmsGetProfileInfoASCII(hProfile, cmsInfoManufacturer, manufacturer, sizeof(manufacturer));
  cmsGetProfileInfoASCII(hProfile, cmsInfoModel, model, sizeof(model));
  cmsGetProfileInfoASCII(hProfile, cmsInfoCopyright, copyright, sizeof(copyright));

  // Store these properties in the image
  (void) SetImageProperty(image, "icc:description", description);
  (void) SetImageProperty(image, "icc:manufacturer", manufacturer);
  (void) SetImageProperty(image, "icc:model", model);
  (void) SetImageProperty(image, "icc:copyright", copyright);

  cmsCloseProfile(hProfile);
#endif

  return icc_profile;