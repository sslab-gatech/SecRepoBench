static const char *GetICCProperty(const Image *image,const char *key,
  ExceptionInfo *exception_info)
{
  // Retrieve ICC profile properties from an image. First, attempt to get the
  // ICC profile from the image using "icc" or "icm" profile keys. If found,
  // ensure the profile length is adequate for processing. If LCMS is defined,
  // open the ICC profile and extract profile information such as description,
  // manufacturer, model, and copyright. Store these as properties in the image.
  const StringInfo
    *profile;

  cmsHPROFILE
    icc_profile;

  if (image->debug!= MagickFalse)
    (void) LogMagickEvent(TraceEvent,GetMagickModule(),"%s",image->filename);

  profile=GetImageProfile(image,"icc");
  if (profile == (StringInfo *) NULL)
    profile=GetImageProfile(image,"icm");
  if (profile == (StringInfo *) NULL)
    return((const char *) NULL);
  if (GetStringInfoLength(profile) < 4)
    return((const char *) NULL);
  icc_profile=cmsOpenProfileFromMem(GetStringInfoDatum(profile),
    (cmsUInt32Number) GetStringInfoLength(profile));
  if (icc_profile!= (cmsHPROFILE *) NULL)
    {
      const char
        *description,
        *manufacturer,
        *model,
        *copyright;

      cmsUInt32Number
        version;

      cmsUInt32Number
        flags;

      cmsUInt32Number
        signature;

      cmsUInt32Number
        tag;

      cmsUInt32Number
        tag_count;

      cmsUInt32Number
        tag_number;

      cmsUInt32Number
        tag_type;

      cmsUInt32Number
        tag_value;

      cmsUInt32Number
        vendor;

      cmsUInt32Number
        year;

      cmsUInt32Number
        year_month;

      cmsUInt32Number
        year_month_day;

      cmsUInt32Number
        year_month_day_hour;

      cmsUInt32Number
        year_month_day_hour_minute;

      cmsUInt32Number
        year_month_day_hour_minute_second;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction_fraction;

      cmsUInt32Number
        year_month_day_hour_minute_second_fraction_fraction_fractio