// Retrieve ICC profile properties from an image. First, attempt to get the
  // ICC profile from the image using "icc" or "icm" profile keys. If found,
  // ensure the profile length is adequate for processing. If LCMS is defined,
  // open the ICC profile and extract profile information such as description,
  // manufacturer, model, and copyright. Store these as properties in the image.
  const char *icc_profile = GetImageProperty(image, "icc", exception_info);
  if (icc_profile != NULL && strlen(icc_profile) > 0) {
    // Check if the ICC profile length is adequate for processing
    if (strlen(icc_profile) >= 4) {
      // Open the ICC profile and extract profile information
      // Assuming lcms2 library is used for ICC profile processing
      if (LCMS_DEFINED) {
        lcms_profile_t *profile = lcms_open_profile(icc_profile);
        if (profile != NULL) {
          char description[256];
          char manufacturer[256];
          char model[256];
          char copyright[256];

          lcms_get_description(profile, description, sizeof(description));
          lcms_get_manufacturer(profile, manufacturer, sizeof(manufacturer));
          lcms_get_model(profile, model, sizeof(model));
          lcms_get_copyright(profile, copyright, sizeof(copyright));

          // Store these as properties in the image
          SetImageProperty(image, "description", description, exception_info);
          SetImageProperty(image, "manufacturer", manufacturer, exception_info);
          SetImageProperty(image, "model", model, exception_info);
          SetImageProperty(image, "copyright", copyright, exception_info);

          lcms_close_profile(profile);
        }
      }
    }
  }