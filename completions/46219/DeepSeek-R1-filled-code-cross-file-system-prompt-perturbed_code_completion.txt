static const char *GetICCProperty(const Image *image,const char *key,
  ExceptionInfo *exception_info)
{
  const StringInfo
    *profile;

  profile=GetImageProfile(image,"icc");
  if (profile == (const StringInfo *) NULL)
    profile=GetImageProfile(image,"icm");
  if (profile == (const StringInfo *) NULL)
    return((const char *) NULL);
  if (profile->length < 128)
    return((const char *) NULL);
#if defined(MAGICKCORE_LCMS_DELEGATE)
  {
    cmsHPROFILE
      icc_profile;

    char
      info[MagickPathExtent];

    cmsUInt32Number
      length;

    icc_profile=cmsOpenProfileFromMem(profile->datum,profile->length);
    if (icc_profile == (cmsHPROFILE) NULL)
      return((const char *) NULL);
    length=cmsGetProfileInfoASCII(icc_profile,cmsInfoDescription,"en","US",info,
      sizeof(info));
    if (length > 0)
      (void) SetImageProperty((Image *) image,"icc:description",info,
        exception_info);
    length=cmsGetProfileInfoASCII(icc_profile,cmsInfoManufacturer,"en","US",info,
      sizeof(info));
    if (length > 0)
      (void) SetImageProperty((Image *) image,"icc:manufacturer",info,
        exception_info);
    length=cmsGetProfileInfoASCII(icc_profile,cmsInfoModel,"en","US",info,
      sizeof(info));
    if (length > 0)
      (void) SetImageProperty((Image *) image,"icc:model",info,exception_info);
    length=cmsGetProfileInfoASCII(icc_profile,cmsInfoCopyright,"en","US",info,
      sizeof(info));
    if (length > 0)
      (void) SetImageProperty((Image *) image,"icc:copyright",info,
        exception_info);
    cmsCloseProfile(icc_profile);
  }
#endif
  return(GetImageProperty(image,key,exception_info));
}