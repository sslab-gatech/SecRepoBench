const StringInfo
    *profile;

  /*
    Attempt to retrieve the ICC or ICM profile from the image.
  */
  profile=GetImageProfile(image,"icc");
  if (profile == (const StringInfo *) NULL)
    profile=GetImageProfile(image,"icm");
  if ((profile == (const StringInfo *) NULL) ||
      (GetStringInfoLength(profile) < 128))
    return((const char *) NULL);

#if defined(MAGICKCORE_LCMS_DELEGATE)
  {
    cmsHPROFILE
      icc_profile;

    /*
      Open the ICC profile using Little CMS if available.
    */
    icc_profile=cmsOpenProfileFromMem(GetStringInfoDatum(profile),
      (cmsUInt32Number) GetStringInfoLength(profile));
    if (icc_profile != (cmsHPROFILE) NULL)
      {
        char
          *description,
          *manufacturer,
          *model,
          *copyright;

        /*
          Extract and store profile description.
        */
        description=(char *) cmsGetProfileInfoASCII(icc_profile,
          cmsInfoDescription,"en","US");
        if (description != (char *) NULL)
          {
            (void) SetImageProperty((Image *) image,"icc:description",
              description,exception_info);
            free(description);
          }

        /*
          Extract and store profile manufacturer.
        */
        manufacturer=(char *) cmsGetProfileInfoASCII(icc_profile,
          cmsInfoManufacturer,"en","US");
        if (manufacturer != (char *) NULL)
          {
            (void) SetImageProperty((Image *) image,"icc:manufacturer",
              manufacturer,exception_info);
            free(manufacturer);
          }

        /*
          Extract and store profile model.
        */
        model=(char *) cmsGetProfileInfoASCII(icc_profile,
          cmsInfoModel,"en","US");
        if (model != (char *) NULL)
          {
            (void) SetImageProperty((Image *) image,"icc:model",
              model,exception_info);
            free(model);
          }

        /*
          Extract and store profile copyright.
        */
        copyright=(char *) cmsGetProfileInfoASCII(icc_profile,
          cmsInfoCopyright,"en","US");
        if (copyright != (char *) NULL)
          {
            (void) SetImageProperty((Image *) image,"icc:copyright",
              copyright,exception_info);
            free(copyright);
          }

        (void) cmsCloseProfile(icc_profile);
      }
  }
#endif

  /*
    Return NULL here; stored properties can be retrieved via GetImageProperty.
  */
  return((const char *) NULL);