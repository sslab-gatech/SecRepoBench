const char *profile = GetImageProperty(image, key, exception);
  if (profile == (const char *) NULL)
    return ((const char *) NULL);

  size_t length = strlen(profile);
  if (length == 0)
    return ((const char *) NULL);

  char *property_value = (char *) AcquireQuantumMemory(length + 1, sizeof(*property_value));
  if (property_value == (char *) NULL) {
    (void) ThrowMagickException(exception, GetMagickModule(), ResourceLimitError,
      "MemoryAllocationFailed", "%s", "GetICCProperty");
    return ((const char *) NULL);
  }

  (void) memcpy(property_value, profile, length);
  property_value[length] = '\0';

  return property_value;