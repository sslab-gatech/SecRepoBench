const char *profile = GetImageProperty((Image *) image, "icc", exception_info);
  if (profile == (const char *) NULL)
    profile = GetImageProperty((Image *) image, "icm", exception_info);
  if (profile == (const char *) NULL)
    return((const char *) NULL);
  if (strlen(profile) < 128)
    return((const char *) NULL);
#if defined(MAGICKCORE_LCMS_SUPPORT)
  {
    cmsHPROFILE
      icc_profile;

    char
      description[MagickPathExtent],
      manufacturer[MagickPathExtent],
      model[MagickPathExtent],
      copyright[MagickPathExtent];

    icc_profile = cmsOpenProfileFromMem(profile, strlen(profile));
    if (icc_profile == (cmsHPROFILE) NULL)
      return((const char *) NULL);
    (void) FormatLocaleString(description, MagickPathExtent, "%s",
      cmsTakeProductDesc(icc_profile));
    (void) SetImageProperty((Image *) image, "icc:description", description,
      exception_info);
    (void) FormatLocaleString(manufacturer, MagickPathExtent, "%s",
      cmsTakeManufacturer(icc_profile));
    (void) SetImageProperty((Image *) image, "icc:manufacturer", manufacturer,
      exception_info);
    (void) FormatLocaleString(model, MagickPathExtent, "%s",
      cmsTakeModel(icc_profile));
    (void) SetImageProperty((Image *) image, "icc:model", model, exception_info);
    (void) FormatLocaleString(copyright, MagickPathExtent, "%s",
      cmsTakeCopyright(icc_profile));
    (void) SetImageProperty((Image *) image, "icc:copyright", copyright,
      exception_info);
    cmsCloseProfile(icc_profile);
    return(GetImageProperty((Image *) image, "icc:description", exception_info));
  }
#else
  return((const char *) NULL);
#endif