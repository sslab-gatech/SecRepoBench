if ( H5Aexists_by_name(dset_id,".","MATLAB_fields",H5P_DEFAULT) ) {
    err = Mat_H5ReadFieldNames(matvariable, dset_id, &nfields);
} else {
    H5G_info_t group_info;
    
    /* Get number of objects in the group */
    H5Gget_info(dset_id, &group_info);
    
    /* If there are any objects in the group, allocate memory for the field names */
    if ( group_info.nlinks > 0 ) {
        struct ReadGroupInfoIterData group_data;
        group_data.nfields = 0;
        group_data.matvar = matvariable;
        
        matvariable->internal->fieldnames = (char**)calloc((size_t)group_info.nlinks,
                                            sizeof(*matvariable->internal->fieldnames));
        if ( NULL != matvariable->internal->fieldnames ) {
            hsize_t idx = 0;
            /* Iterate through the objects in the group and get their names */
            H5Literate(dset_id, H5_INDEX_NAME, H5_ITER_NATIVE, &idx, 
                      Mat_H5ReadGroupInfoIterate, (void*)&group_data);
            nfields = group_data.nfields;
            matvariable->internal->num_fields = (unsigned int)nfields;
        } else {
            nfields = 0;
            err = MATIO_E_OUT_OF_MEMORY;
        }
    } else {
        nfields = 0;
    }
}