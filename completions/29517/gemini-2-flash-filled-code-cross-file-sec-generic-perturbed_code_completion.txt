if ( H5Aexists_by_name(dset_id,".","MATLAB_fields",H5P_DEFAULT) ) {
        err = Mat_H5ReadFieldNames(matvariable, dset_id, &nfields);
        if ( err ) {
            return err;
        }
    } else {
        H5O_info_t object_info;
        struct ReadGroupInfoIterData iter_data;

        object_info.type = H5O_TYPE_UNKNOWN;
        iter_data.matvar = matvariable;
        iter_data.nfields = 0;
        matvariable->internal->num_fields = 0;

        /* Count the number of links */
#if H5_VERSION_GE(1,14,0)
        H5L_info2_t link_info;
        herr_t herr = H5Literate(dset_id, H5_INDEX_NAME, H5_ITER_INC, NULL,
                                 Mat_H5ReadGroupInfoIterate, &iter_data);
#else
        H5L_info_t link_info;
        herr_t herr = H5Literate(dset_id, H5_INDEX_NAME, H5_ITER_INC, NULL,
                                 Mat_H5ReadGroupInfoIterate, &iter_data);
#endif
        if ( herr < 0 ) {
            return MATIO_E_GENERIC_READ_ERROR;
        }

        nfields = iter_data.nfields;
        matvariable->internal->num_fields = nfields;
    }