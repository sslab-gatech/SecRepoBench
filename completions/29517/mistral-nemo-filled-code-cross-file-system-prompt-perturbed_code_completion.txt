// Check if the structure defines its fields using the "MATLAB_fields" attribute.
    // If the attribute exists, read the field names and update the number of fields.
    // If the attribute does not exist, retrieve the number of links in the dataset group.
    // If there are links, iterate over them to count and collect field names.
    // Store the field names in the matvar structure and update the total number of fields.
    if ( H5Aexists_by_name(dset_id,".","MATLAB_fields",H5P_DEFAULT) ) {
        hsize_t nfields;
        err = Mat_H5ReadFieldNames(matvar, dset_id, &nfields);
        if ( err < 0 ) {
            return err;
        }
        matvar->internal->fieldnames = (char**)realloc(matvar->internal->fieldnames, nfields*sizeof(char*));
        if ( NULL == matvar->internal->fieldnames ) {
            return MATIO_E_OUT_OF_MEMORY;
        }
        matvar->internal->num_fields = nfields;
    } else {
        H5G_info_t group_info;
        H5Gget_info(dset_id, &group_info, H5P_DEFAULT);
        nfields = group_info.nlinks;
        matvar->internal->fieldnames = (char**)calloc(nfields, sizeof(char*));
        if ( NULL == matvar->internal->fieldnames ) {
            return MATIO_E_OUT_OF_MEMORY;
        }
        matvar->internal->num_fields = nfields;
        err = H5Giterate(dset_id, ".", H5_ITERATE_ALL, Mat_H5ReadGroupInfoIterate, (void*)matvar);
        if ( err < 0 ) {
            return err;
        }
    }