// Check if the structure defines its fields using the "MATLAB_fields" attribute.
// If the attribute exists, read the field names and update the number of fields.
// If the attribute does not exist, retrieve the number of links in the dataset group.
// If there are links, iterate over them to count and collect field names.
// Store the field names in the matvar structure and update the total number of fields.
if ( H5Aexists_by_name(dset_id, ".", "MATLAB_fields", H5P_DEFAULT) ) {
    err = Mat_H5ReadFieldNames(matvar, dset_id, &nfields);
} else {
    struct ReadGroupInfoIterData group_data;
    group_data.matvar = matvar;
    group_data.nfields = 0;
    group_data.fieldnames = NULL;
    herr_t herr = H5Giterate(dset_id, ".", H5G_ITER_NATIVE, Mat_H5ReadGroupInfoIterate, &group_data);
    if ( herr < 0 ) {
        err = MATIO_E_GENERIC_READ_ERROR;
    } else {
        nfields = group_data.nfields;
        matvar->internal->fieldnames = group_data.fieldnames;
    }
}
if ( nfields < 0 ) {
    return MATIO_E_UNKNOWN_ERROR;
}