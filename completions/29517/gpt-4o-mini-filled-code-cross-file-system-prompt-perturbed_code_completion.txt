if ( H5Aexists_by_name(dset_id,".","MATLAB_fields",H5P_DEFAULT) ) {
        err = Mat_H5ReadFieldNames(matvariable, dset_id, &nfields);
    } else {
        H5G_info_t group_info;
        H5Gget_info(dset_id, &group_info);
        nfields = group_info.nlinks;
        matvariable->internal->fieldnames = (char **)malloc(nfields * sizeof(char *));
        if (matvariable->internal->fieldnames == NULL) {
            return MATIO_E_OUT_OF_MEMORY;
        }
        struct ReadGroupInfoIterData group_data = {matvariable, 0};
        H5Literate(dset_id, H5_INDEX_NAME, H5_ITER_NATIVE, NULL, Mat_H5ReadGroupInfoIterate, &group_data);
        nfields = group_data.nfields;
    }