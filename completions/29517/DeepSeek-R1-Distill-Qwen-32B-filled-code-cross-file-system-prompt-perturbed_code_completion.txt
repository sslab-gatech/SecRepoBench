// Check if the "MATLAB_fields" attribute exists
if (H5Aexists_by_name(dset_id, ".", "MATLAB_fields", H5P_DEFAULT)) {
    hid_t attr_id = H5Aopen_by_name(dset_id, ".", "MATLAB_fields", H5P_DEFAULT, H5P_DEFAULT);
    hid_t attr_type = H5Aget_type(attr_id);
    if (H5T_STRING == H5Tget_class(attr_type)) {
        hsize_t nfields = 0;
        herr_t herr = H5Aget_storage_size(attr_id, &nfields);
        if