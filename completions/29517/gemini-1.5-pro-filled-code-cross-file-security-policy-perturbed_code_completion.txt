if ( H5Aexists_by_name(dset_id,".","MATLAB_fields",H5P_DEFAULT) ) {
        err = Mat_H5ReadFieldNames(matvariable,dset_id,&nfields);
        if ( err ) {
            return err;
        }
    } else {
        struct ReadGroupInfoIterData group_data = {matvariable, 0};
        herr_t herr = H5Literate_by_name(dset_id, ".", H5_INDEX_NAME, H5_ITER_NATIVE,
            NULL, Mat_H5ReadGroupInfoIterate, &group_data, H5P_DEFAULT);
        nfields = group_data.nfields;
        if ( herr < 0 ) {
            Mat_VarFree(matvariable);
            return MATIO_E_HDF5_GET_STRUCT_INFO_ERROR;
        }
    }
    matvariable->class_type = MAT_C_STRUCT;
    matvariable->internal->num_fields = nfields;