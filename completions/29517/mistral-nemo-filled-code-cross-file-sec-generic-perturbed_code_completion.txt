// Check if the structure defines its fields using the "MATLAB_fields" attribute.
    // If the attribute exists, read the field names and update the number of fields.
    // If the attribute does not exist, retrieve the number of links in the dataset group.
    // If there are links, iterate over them to count and collect field names.
    // Store the field names in the matvar structure and update the total number of fields.
    if ( H5Aexists_by_name(dset_id,".","MATLAB_fields",H5P_DEFAULT) ) {
        hsize_t nfields;
        hid_t attr_id = H5Aopen_by_name(dset_id,".","MATLAB_fields",H5P_DEFAULT,H5P_DEFAULT);
        herr_t herr = H5Aread(attr_id,H5T_NATIVE_HSIZE,&nfields);
        H5Aclose(attr_id);
        if ( herr < 0 ) {
            return MATIO_E_GENERIC_READ_ERROR;
        }
        matvar->internal->fieldnames = (char**)calloc(nfields, sizeof(char*));
        if ( NULL != matvar->internal->fieldnames ) {
            matvar->internal->num_fields = nfields;
            for ( hsize_t k = 0; k < nfields; k++ ) {
                matvar->internal->fieldnames[k] = (char*)calloc(NAME_BUF_SIZE, sizeof(char));
                if ( NULL == matvar->internal->fieldnames[k] ) {
                    return MATIO_E_OUT_OF_MEMORY;
                }
            }
        } else {
            return MATIO_E_OUT_OF_MEMORY;
        }
    } else {
        H5G_info_t group_info;
        H5Gget_info(dset_id, &group_info, H5P_DEFAULT);
        nfields = group_info.nlinks;
        matvar->internal->fieldnames = (char**)calloc(nfields, sizeof(char*));
        if ( NULL != matvar->internal->fieldnames ) {
            matvar->internal->num_fields = nfields;
            for ( hsize_t k = 0; k < nfields; k++ ) {
                matvar->internal->fieldnames[k] = (char*)calloc(NAME_BUF_SIZE, sizeof(char));
                if ( NULL == matvar->internal->fieldnames[k] ) {
                    return MATIO_E_OUT_OF_MEMORY;
                }
            }
            H5G_iterate(dset_id, H5_ITER_NATIVE, Mat_H5ReadGroupInfoIterate, matvar);
        } else {
            return MATIO_E_OUT_OF_MEMORY;
        }
    }