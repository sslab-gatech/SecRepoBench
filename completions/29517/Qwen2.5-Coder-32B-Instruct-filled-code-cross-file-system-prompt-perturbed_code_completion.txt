if ( H5Aexists_by_name(dset_id,".","MATLAB_fields",H5P_DEFAULT) ) {
    hid_t attr_id;
    attr_id = H5Aopen_by_name(dset_id,".","MATLAB_fields",H5P_DEFAULT,H5P_DEFAULT);
    err = Mat_H5ReadFieldNames(matvariable, attr_id, &nfields);
    H5Aclose(attr_id);
} else {
    struct ReadGroupInfoIterData group_data;
    group_data.matvar = matvariable;
    group_data.nfields = 0;
    H5Literate(dset_id, H5_INDEX_NAME, H5_ITER_INC, NULL, Mat_H5ReadGroupInfoIterate, &group_data);
    nfields = group_data.nfields;
}