if ( H5Aexists_by_name(dset_id,".","MATLAB_fields",H5P_DEFAULT) ) {
        err = Mat_H5ReadFieldNames(matvariable,dset_id,&nfields);
        if ( err ) {
            return err;
        }
    } else {
        struct ReadGroupInfoIterData group_data = {matvariable, 0};

        H5Literate_by_name(dset_id, ".", H5_INDEX_NAME, H5_ITER_NATIVE, NULL,
                           Mat_H5ReadGroupInfoIterate, &group_data, H5P_DEFAULT);
        nfields = group_data.nfields;
    }
    matvariable->internal->num_fields = nfields;
    matvariable->class_type = MAT_C_STRUCT;