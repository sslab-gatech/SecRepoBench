if (H5Aexists_by_name(dset_id, ".", "MATLAB_fields", H5P_DEFAULT)) {
        err = Mat_H5ReadFieldNames(matvariable, dset_id, &nfields);
    } else {
        H5G_info_t group_info;
        if (H5Gget_info(dset_id, &group_info) >= 0) {
            nfields = group_info.nlinks;
            if (nfields > 0) {
                matvariable->internal->fieldnames = (char**)calloc((size_t)nfields, sizeof(*matvariable->internal->fieldnames));
                if (matvariable->internal->fieldnames != NULL) {
                    struct ReadGroupInfoIterData group_data;
                    group_data.nfields = 0;
                    group_data.matvar = matvariable;
                    H5Literate(dset_id, H5_INDEX_NAME, H5_ITER_NATIVE, NULL, Mat_H5ReadGroupInfoIterate, (void*)&group_data);
                } else {
                    err = MATIO_E_OUT_OF_MEMORY;
                }
            }
        } else {
            err = MATIO_E_GENERIC_READ_ERROR;
        }
    }