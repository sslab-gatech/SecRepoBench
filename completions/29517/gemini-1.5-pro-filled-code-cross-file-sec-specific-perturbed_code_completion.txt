if ( H5Aexists_by_name(dset_id,".","MATLAB_fields",H5P_DEFAULT) ) {
        err = Mat_H5ReadFieldNames(matvariable,dset_id,&nfields);
        if ( err ) {
            return err;
        }
    } else {
        struct ReadGroupInfoIterData group_data;

        group_data.matvar  = matvariable;
        group_data.nfields = 0;
        matvariable->internal->fieldnames =
            (char**)calloc(MAX_N_FIELDS,sizeof(*matvariable->internal->fieldnames));
        if ( NULL == matvariable->internal->fieldnames ) {
            return MATIO_E_OUT_OF_MEMORY;
        }
        H5Literate_by_name(dset_id, ".", H5_INDEX_NAME, H5_ITER_NATIVE, NULL,
                           Mat_H5ReadGroupInfoIterate, &group_data, H5P_DEFAULT);
        nfields = group_data.nfields;
        matvariable->internal->num_fields = (unsigned int)nfields;
        if ( nfields > 0 ) {
            char **fieldnames = (char**)realloc(matvariable->internal->fieldnames,
                                               nfields*sizeof(*fieldnames));
            if ( NULL != fieldnames ) {
                matvariable->internal->fieldnames = fieldnames;
            } else {
                nfields = 0;
            }
        } else {
            free(matvariable->internal->fieldnames);
            matvariable->internal->fieldnames = NULL;
        }
    }
    matvariable->class_type = MAT_C_STRUCT;