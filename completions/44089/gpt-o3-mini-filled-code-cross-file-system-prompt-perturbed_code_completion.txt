int is_float = 0;
for (size_t i = 0; i < str_len; i++) {
    if (str_val[i] == '.' || str_val[i] == 'e' || str_val[i] == 'E') {
        is_float = 1;
        break;
    }
}

errno = 0;
char* endp = NULL;
if (is_float) {
    double real_val = strtod(str_val, &endp);
    if (endp != str_end || errno != 0) {
        PLIST_JSON_ERR("%s: invalid characters encountered in real number '%.*s'\n", __func__, (int)str_len, str_val);
        return NULL;
    }
    plist_data_t data = plist_new_plist_data();
    data->type = PLIST_REAL;
    data->real = real_val;
    parsed_value = plist_new_node(data);
} else {
    long long int_val = strtoll(str_val, &endp, 10);
    if (endp != str_end || errno != 0) {
        PLIST_JSON_ERR("%s: invalid characters encountered in integer number '%.*s'\n", __func__, (int)str_len, str_val);
        return NULL;
    }
    plist_data_t data = plist_new_plist_data();
    data->type = PLIST_UINT;
    data->uint = (uint64_t)int_val;
    parsed_value = plist_new_node(data);
}