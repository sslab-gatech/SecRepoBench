char buf[64];
    if (str_len < sizeof(buf) - 1) {
        strncpy(buf, str_val, str_len);
        buf[str_len] = '\0';
        char* endp = NULL;
        long val = strtol(buf, &endp, 10);
        if (*endp == '\0') {
            if (val <= INT_MAX && val >= INT_MIN) {
                parsed_value = plist_new_integer((int)val);
            } else {
                parsed_value = plist_new_real((double)val);
            }
        } else {
            PLIST_JSON_ERR("%s: invalid number '%.*s' encountered\n", __func__, (int)str_len, str_val);
        }
    } else {
        PLIST_JSON_ERR("%s: number string too long\n", __func__);
    }