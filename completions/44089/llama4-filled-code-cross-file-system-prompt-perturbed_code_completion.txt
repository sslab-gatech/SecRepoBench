double num_val = strtod(str_val, &endp);
if (endp == str_val) {
    PLIST_JSON_ERR("%s: invalid numerical value '%.*s' encountered\n", __func__, (int)str_len, str_val);
} else if (*endp != '\0') {
    parsed_value = plist_new_real(num_val);
} else if (num_val >= 0 && num_val <= UINT32_MAX) {
    parsed_value = plist_new_uint((uint32_t)num_val);
} else {
    parsed_value = plist_new_real(num_val);
}