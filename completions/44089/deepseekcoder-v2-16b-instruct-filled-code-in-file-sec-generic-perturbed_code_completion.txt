char* endp = NULL;
long long intval = strtoll(str_val, &endp, 10);
if (endp != str_end && *endp == '\0') {
    if (floor(node_data->realval) == node_data->realval) {
        parsed_value = plist_new_int(intval);
    } else {
        parsed_value = plist_new_real(node_data->realval);
    }
} else {
    PLIST_JSON_ERR("%s: invalid numerical value '%.*s' encountered\n", __func__, (int)str_len, str_val);
}