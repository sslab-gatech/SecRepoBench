double value = strtod(str_val, &endp);
if (endp == str_val) {
    PLIST_JSON_ERR("%s: invalid number '%.*s' encountered\n", __func__, (int)str_len, str_val);
} else if (*endp == '\0') {
    if (strchr(str_val, '.')!= NULL) {
        plist_data_t data = plist_new_plist_data();
        data->type = PLIST_REAL;
        data->val.d = value;
        parsed_value = plist_new_node(data);
    } else {
        plist_data_t data = plist_new_plist_data();
        data->type = PLIST_UINT;
        data->val.u = (uint64_t)value;
        parsed_value = plist_new_node(data);
    }
} else {
    PLIST_JSON_ERR("%s: invalid number '%.*s' encountered\n", __func__, (int)str_len, str_val);
}