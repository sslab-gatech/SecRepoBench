char num_str[str_len + 1];
strncpy(num_str, str_val, str_len);
num_str[str_len] = '\0';
double dbl_val = strtod(num_str, &endp);
if (endp != num_str + str_len) {
    PLIST_JSON_ERR("%s: invalid numerical value '%.*s'\n", __func__, (int)str_len, str_val);
    return NULL;
}
if (dbl_val >= 0 && dbl_val == floor(dbl_val) && dbl_val <= (double)UINT64_MAX) {
    parsed_value = plist_new_uint((uint64_t)dbl_val);
} else {
    parsed_value = plist_new_real(dbl_val);
}