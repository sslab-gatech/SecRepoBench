double num = strtod(str_val, &endp);
if (endp == str_val || (*endp != '\0' && *endp != '.' && !isspace(*endp))) {
    PLIST_JSON_ERR("%s: invalid numerical value '%.*s' encountered\n", __func__, (int)str_len, str_val);
    return NULL;
}
if (floor(num) == num && num >= 0 && num <= UINT32_MAX) {
    parsed_value = plist_new_uint((uint32_t)num);
} else {
    parsed_value = plist_new_real(num);
}