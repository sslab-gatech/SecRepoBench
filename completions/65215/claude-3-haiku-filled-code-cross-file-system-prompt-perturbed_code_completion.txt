// <MASK>
if (strncmp(urlString, "file://", 7) == 0) {
    char *path = urlString + 7;
    if (path[0] == '/' && path[1] == '/') {
        // Handle "file:///" prefix with drive letter
        path += 2;
    }
    gf_url_remove_last_delimiter(path, urlString);
    gf_urldecode(urlString);
}