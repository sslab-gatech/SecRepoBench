if (!urlString) return;

    // Check if the URL starts with "file://"
    const char *filePrefix = "file://";
    size_t prefixLen = strlen(filePrefix);
    if (strncmp(urlString, filePrefix, prefixLen) == 0) {
        // Move the pointer past the "file://" prefix
        urlString += prefixLen;

        // On Windows, handle the case where the path starts with a drive letter (e.g., "file:///C:/")
        if (urlString[0] == '/' && urlString[1] && urlString[2] == ':') {
            urlString++; // Skip the leading slash
        }
    }

    // Decode "%20" to spaces in the URL
    char *readPtr = urlString;
    char *writePtr = urlString;
    while (*readPtr) {
        if (readPtr[0] == '%' && readPtr[1] == '2' && readPtr[2] == '0') {
            *writePtr = ' ';
            readPtr += 3; // Skip past "%20"
        } else {
            *writePtr = *readPtr;
            readPtr++;
        }
        writePtr++;
    }
    *writePtr = '\0'; // Null-terminate the resulting string