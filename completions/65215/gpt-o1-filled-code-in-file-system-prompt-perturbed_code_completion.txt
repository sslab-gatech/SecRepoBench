#ifdef WIN32
	if (urlString && !strnicmp(urlString, "file:///", 8)) {
		/* if there's a drive letter following "file:///" remove all 8 characters,
		   otherwise just remove 7 (the "file://" part). */
		if (isalpha((unsigned char)urlString[8]) && urlString[9] == ':') {
			memmove(urlString, urlString + 8, strlen(urlString + 8) + 1);
		} else {
			memmove(urlString, urlString + 7, strlen(urlString + 7) + 1);
		}
	} else if (urlString && !strnicmp(urlString, "file://", 7)) {
		memmove(urlString, urlString + 7, strlen(urlString + 7) + 1);
	}
#else
	if (urlString && !strnicmp(urlString, "file://", 7)) {
		memmove(urlString, urlString + 7, strlen(urlString + 7) + 1);
	}
#endif

	/* Replace any "%20" substrings with a space */
	if (urlString) {
		char *p = urlString;
		while ((p = strstr(p, "%20")) != NULL) {
			*p = ' ';
			memmove(p + 1, p + 3, strlen(p + 3) + 1);
			p++;
		}
	}