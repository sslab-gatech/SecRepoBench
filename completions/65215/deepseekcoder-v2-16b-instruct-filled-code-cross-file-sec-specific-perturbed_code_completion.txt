char *path = strdup(urlString);
	if (strncmp(path, "file://", 7) == 0) {
		path += 7;
		if (*path == '/') {
			path++;
		}
	}

	char *last_char = path + strlen(path) - 1;
	while (*last_char == ' ' || *last_char == '\r' || *last_char == '\n') {
		*last_char = '\0';
		last_char--;
	}

	char *dest = urlString;
	while (*path) {
		if (*path == '%' && *(path + 1) == '2' && *(path + 2) == '0') {
			*dest++ = ' ';
			path += 3;
		} else {
			*dest++ = *path++;
		}
	}
	*dest = '\0';

	free(path);
}