if (strncmp(urlString, "file://", 7) == 0) {
    /* If the URL starts with "file://", adjust the string */
    char *path = urlString + 7;
    /* Check if the URL is of the form "file:///<drive_letter>:" */
    if (*path == '/' && ((path[1] >= 'A' && path[1] <= 'Z') || (path[1] >= 'a' && path[1] <= 'z')) && path[2] == ':') {
        /* Remove the extra slash */
        memmove(urlString, path + 1, strlen(path));
    }
    else {
        memmove(urlString, path, strlen(path) + 1);
    }
}

/* Replace occurrences of "%20" with a space */
{
    char *src = urlString;
    char *dst = urlString;
    while (*src) {
        if (src[0] == '%' && src[1] == '2' && src[2] == '0') {
            *dst++ = ' ';
            src += 3;
        }
        else {
            *dst++ = *src++;
        }
    }
    *dst = '\0';
}