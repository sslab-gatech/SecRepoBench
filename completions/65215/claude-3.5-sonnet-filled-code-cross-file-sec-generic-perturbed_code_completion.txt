if (urlString) {
    char *start = urlString;
    if (strncmp(urlString, "file:///", 8) == 0) {
        start += 8;
        if (isalpha(start[0]) && start[1] == ':') {
            start -= 1;
        }
    } else if (strncmp(urlString, "file://", 7) == 0) {
        start += 7;
    }

    char *src = start;
    char *dst = urlString;
    while (*src) {
        if (src[0] == '%' && src[1] == '2' && src[2] == '0') {
            *dst++ = ' ';
            src += 3;
        } else {
            *dst++ = *src++;
        }
    }
    *dst = '\0';
}