// <MASK>
char *path = urlString;
if (strncmp(path, "file://", 7) == 0) {
    path += 7;
    if (path[0] == '/' && path[1] == '/') {
        path += 2;
    }
}

// Replace "%20" with spaces
char *pos = path;
while ((pos = strstr(pos, "%20"))) {
    *pos = ' ';
    memmove(pos + 1, pos + 3, strlen(pos + 3) + 1);
}