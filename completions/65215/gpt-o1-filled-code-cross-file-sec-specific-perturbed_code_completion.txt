if (!urlString || !*urlString)
        return;

    /* remove "file:///" or "file://" prefix if present */
    if (!strncmp(urlString, "file:///", 8)) {
        memmove(urlString, urlString + 8, strlen(urlString + 8) + 1);
    } else if (!strncmp(urlString, "file://", 7)) {
        memmove(urlString, urlString + 7, strlen(urlString + 7) + 1);
    }

    /* replace "%20" with space in-place */
    {
        char *src = urlString;
        char *dst = urlString;
        while (*src) {
            if (!strncmp(src, "%20", 3)) {
                *dst++ = ' ';
                src += 3;
            } else {
                *dst++ = *src++;
            }
        }
        *dst = '\0';
    }