if (!urlString) return;

    /* Remove "file:///" or "file://" prefix */
    if (!strncmp(urlString, "file:///", 8)) {
        memmove(urlString, urlString + 8, strlen(urlString + 8) + 1);
    } else if (!strncmp(urlString, "file://", 7)) {
        memmove(urlString, urlString + 7, strlen(urlString + 7) + 1);
    }

    /* Replace "%20" with space */
    char *ptr = urlString;
    while ((ptr = strstr(ptr, "%20")) != NULL) {
        *ptr = ' ';
        memmove(ptr + 1, ptr + 3, strlen(ptr + 3) + 1);
    }