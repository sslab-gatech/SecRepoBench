if (strncmp(urlString, "file:///", 8) == 0) {
    if (urlString[9] == ':') {
        // Case with drive letter (e.g., file:///C:/path)
        memmove(urlString, urlString + 8, strlen(urlString) - 7);
    } else {
        // Case without drive letter (e.g., file:///path)
        memmove(urlString, urlString + 7, strlen(urlString) - 6);
    }
} else if (strncmp(urlString, "file://", 7) == 0) {
    memmove(urlString, urlString + 7, strlen(urlString) - 6);
}

char *src = urlString;
char *dst = urlString;
while (*src) {
    if (src[0] == '%' && src[1] == '2' && src[2] == '0') {
        *dst++ = ' ';
        src += 3;
    } else {
        *dst++ = *src++;
    }
}
*dst = '\0';