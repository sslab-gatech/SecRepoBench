if (!urlString) return;

	// Remove "file://" or "file:///" prefix
	if (!strncmp(urlString, "file:///", 8)) {
		// Handle Windows drive letter case (file:///C:/...)
		memmove(urlString, urlString + 8, strlen(urlString) - 7);
	} else if (!strncmp(urlString, "file://", 7)) {
		// Handle regular file:// case
		memmove(urlString, urlString + 7, strlen(urlString) - 6);
	}

	// Replace %20 with spaces
	char *p = urlString;
	while ((p = strstr(p, "%20"))) {
		*p = ' ';
		memmove(p+1, p+3, strlen(p+3)+1);
	}