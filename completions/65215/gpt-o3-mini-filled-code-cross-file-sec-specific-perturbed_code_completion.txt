if (strncmp(urlString, "file://", 7) == 0) {
    /* Check if the URL contains a drive letter after an extra slash (e.g., "file:///C:/...") */
    if (urlString[7] == '/' && isalpha((unsigned char)urlString[8]) && urlString[9] == ':') {
        /* Remove "file:///" (8 characters) */
        memmove(urlString, urlString + 8, strlen(urlString + 8) + 1);
    } else {
        /* Remove "file://" (7 characters) */
        memmove(urlString, urlString + 7, strlen(urlString + 7) + 1);
    }
}

/* Replace all occurrences of "%20" in the URL with spaces */
char *src = urlString;
char *dst = urlString;
while (*src) {
    if (src[0] == '%' && src[1] == '2' && src[2] == '0') {
        *dst++ = ' ';
        src += 3;
    } else {
        *dst++ = *src++;
    }
}
*dst = '\0';