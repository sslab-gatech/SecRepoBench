char *file_prefix = "file://";
size_t prefix_len = strlen(file_prefix);

if (strncmp(urlString, file_prefix, prefix_len) == 0) {
    char *path = urlString + prefix_len;
    
    // Handle the case of "file:///" followed by a drive letter
    if (path[0] == '/' && isalpha(path[1]) && path[2] == ':') {
        path++;
    }
    
    memmove(urlString, path, strlen(path) + 1);
}

char *p = urlString;
while ((p = strstr(p, "%20")) != NULL) {
    *p = ' ';
    memmove(p + 1, p + 3, strlen(p + 3) + 1);
}