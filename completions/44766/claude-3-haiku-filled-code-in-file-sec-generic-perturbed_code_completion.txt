//the spec is unclear here, just says "the value 0 is interpreted as undetermined"
if (a->dataSize < 8) {
    GF_LOG(GF_LOG_ERROR, GF_LOG_CONTAINER, ("[iso file] Unknown sample description %s has invalid data size %d, skipping\n", gf_4cc_to_str(a->original_4cc), a->dataSize));
    gf_isom_box_del_parent(&s->child_boxes, a);
    return GF_ISOM_INVALID_MEDIA;
}

bs = gf_bs_new(a->data, a->dataSize, GF_BITSTREAM_READ);
gf_bs_set_cookie(bs, GF_ISOM_BS_COOKIE_NO_LOGS);

//try to parse the unknown box
switch (trak->Media->handler->handlerType) {
case GF_ISOM_MEDIA_VISUAL:
case GF_ISOM_MEDIA_AUXV:
case GF_ISOM_MEDIA_PICT: {
    GF_GenericVisualSampleEntryBox *genv = (GF_GenericVisualSampleEntryBox *) gf_isom_box_new(GF_ISOM_BOX_TYPE_GNRV);
    genv->size = a->dataSize - 8;
    gf_isom_video_sample_entry_read((GF_VisualSampleEntryBox *) genv, bs);
    stsd_switch_box(bs, (GF_Box *) genv, a, &genv->data, &genv->data_size, &genv->EntryType, trak->Media->information->sampleTable->SampleDescription, i-1);
}
break;
case GF_ISOM_MEDIA_AUDIO: {
    GF_GenericAudioSampleEntryBox *gena = (GF_GenericAudioSampleEntryBox *) gf_isom_box_new(GF_ISOM_BOX_TYPE_GNRA);
    gena->size = a->dataSize - 8;
    gf_isom_audio_sample_entry_read((GF_AudioSampleEntryBox *) gena, bs);
    stsd_switch_box(bs, (GF_Box *) gena, a, &gena->data, &gena->data_size, &gena->EntryType, trak->Media->information->sampleTable->SampleDescription, i-1);
}
break;
default: {
    GF_GenericSampleEntryBox *genm = (GF_GenericSampleEntryBox *) gf_isom_box_new(GF_ISOM_BOX_TYPE_GNRM);
    genm->size = a->dataSize - 8;
    e = gf_isom_base_sample_entry_read((GF_SampleEntryBox *)genm, bs);
    if (e) return e;
    stsd_switch_box(bs, (GF_Box *) genm, a, &genm->data, &genm->data_size, &genm->EntryType, trak->Media->information->sampleTable->SampleDescription, i-1);
}
break;
}

gf_bs_del(bs);