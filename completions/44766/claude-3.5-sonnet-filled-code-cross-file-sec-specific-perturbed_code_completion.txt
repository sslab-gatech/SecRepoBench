if (!strncmp(data+index, "esds", 4)) {
    GF_BitStream *esds_bs = gf_bs_new(data + index - 4, size - index + 4, GF_BITSTREAM_READ);
    if (esds_bs) {
        gf_bs_set_cookie(esds_bs, 1);
        GF_Box *a;
        e = gf_isom_box_parse(&a, esds_bs);
        if (!e && (a->type == GF_ISOM_BOX_TYPE_ESDS)) {
            GF_ESDBox *esds = (GF_ESDBox *)a;
            if (ptr->esd) {
                gf_list_del_item(s->child_boxes, ptr->esd);
                gf_isom_box_del((GF_Box *)ptr->esd);
            }
            ptr->esd = esds;
            gf_list_add(s->child_boxes, ptr->esd);
        } else if (a) {
            gf_isom_box_del(a);
        }
        gf_bs_del(esds_bs);
        break;
    }
}