if (!strncmp(data+index, "esds", 4)) {
			GF_BitStream *esds_bs;
			GF_ESDSBox *esds;
			u64 cur_pos = gf_bs_get_position(bs);

			esds_bs = gf_bs_new(data+index, size-index, GF_BITSTREAM_READ);
			if (!esds_bs) {
				gf_free(data);
				return GF_OUT_OF_MEM;
			}
			gf_bs_set_cookie(esds_bs, GF_ISOM_BS_COOKIE_NO_LOG);
			esds = NULL;
			gf_isom_box_parse((GF_Box **)&esds, esds_bs);
			gf_bs_del(esds_bs);

			if (ptr->esds) {
				gf_isom_box_del_parent(&ptr->esds->box);
				gf_isom_box_del((GF_Box *)ptr->esds);
				ptr->esds = NULL;
			}

			if (esds) {
				if (esds->box.type == GF_ISOM_BOX_TYPE_ESDS) {
					ptr->esds = esds;
					gf_isom_box_add_child((GF_Box*)s, (GF_Box*)esds);
					gf_bs_seek(bs, cur_pos);
					gf_free(data);
					return GF_OK;
				} else {
					gf_isom_box_del((GF_Box *)esds);
				}
			}
			gf_bs_seek(bs, cur_pos);
			break;
		}