if (data[index] == 'e' && data[index+1] == 's' && data[index+2] == 'd' && data[index+3] == 's') {
    GF_BitStream *new_bs = gf_bs_new(data + index, size - index, GF_BITSTREAM_READ);
    if (!new_bs) continue;

    gf_bs_set_cookie(new_bs, GF_ISOM_BS_COOKIE_SUPPRESS_LOG);

    GF_Box *existing_esds = gf_isom_box_find_child(s->child_boxes, GF_ISOM_BOX_TYPE_ESDS);
    if (existing_esds) {
        gf_list_del_item(s->child_boxes, existing_esds);
        gf_isom_box_del(existing_esds);
    }

    GF_Box *new_esds = NULL;
    e = gf_isom_box_parse(&new_esds, new_bs);
    if (!e && new_esds && new_esds->type == GF_ISOM_BOX_TYPE_ESDS) {
        gf_list_add(s->child_boxes, new_esds);
    }

    gf_bs_del(new_bs);
}