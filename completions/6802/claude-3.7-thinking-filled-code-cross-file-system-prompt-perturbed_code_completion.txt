p++;  // Move past 'p'
if ((*p == '{') || (*p == '['))
{
  level++;
  q=subexpression;
  for (p++; *p != '\0'; )
  {
    if ((*p == '{') || (*p == '['))
      level++;
    else if ((*p == '}') || (*p == ']'))
    {
      level--;
      if (level == 0)
        break;
    }
    *q++=(*p++);
  }
  *q='\0';
  alpha=FxEvaluateSubexpression(fx_info,pixchannel,x,y,subexpression,
    &depth,&beta,exception);
  point.x=alpha;
  point.y=beta;
  p++;  // Move past closing bracket
}