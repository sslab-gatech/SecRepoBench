char
            *r;

          r=strchr(p+1,'{');
          if (r == (char *) NULL)
            r=strchr(p+1,'[');
          if (r != (char *) NULL)
            {
              level++;
              q=subexpression;
              for (p=r+1; *p != '\0'; )
              {
                if (strchr("{[",(int) *p) != (char *) NULL)
                  level++;
                else
                  if (strchr("}]",(int) *p) != (char *) NULL)
                    {
                      level--;
                      if (level == 0)
                        break;
                    }
                *q++=(*p++);
              }
              *q='\0';
              alpha=FxEvaluateSubexpression(fx_info,channel,x,y,subexpression,
                &depth,&beta,exception);
              point.x=alpha;
              point.y=beta;
              p=strchr(p,'}');
              if (p == (char *) NULL)
                p=strchr(expression,']');
              if (p != (char *) NULL)
                p++;
            }