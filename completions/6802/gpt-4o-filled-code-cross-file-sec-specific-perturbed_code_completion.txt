{
  if (*p == '{' || *p == '[')
  {
    char *subexpr_ptr = subexpression;
    char end_char = (*p == '{') ? '}' : ']';
    level = 1;
    for (p++; *p != '\0'; p++)
    {
      if (*p == *subexpr_ptr)
        level++;
      else if (*p == end_char)
      {
        level--;
        if (level == 0)
          break;
      }
      *subexpr_ptr++ = *p;
    }
    *subexpr_ptr = '\0';
    alpha = FxEvaluateSubexpression(fx_info, pixchannel, x, y, subexpression, &depth, &beta, exception);
    point.x = alpha;
    point.y = beta;
    if (*p == end_char)
      p++;
  }
}