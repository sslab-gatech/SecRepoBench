/*
            Extract a subexpression enclosed in curly braces '{}' or square brackets '[]' from the input expression.
            Evaluate the subexpression using FxEvaluateSubexpression and assign its result to point.x and point.y.
            Update the expression pointer 'p' to continue processing the rest of the expression.
          */
          if (*p == '{' || *p == '[') {
            char subexpr[MagickPathExtent];
            char *subexpr_end;
            size_t subexpr_length;
            double subexpr_result;

            subexpr_end = strchr(p + 1, (*p == '{') ? '}' : ']');
            if (subexpr_end == NULL) {
              (void) ThrowMagickException(exception, GetMagickModule(), OptionError,
                "UnbalancedParenthesis", "`%s'", expression);
              return 0.0;
            }

            subexpr_length = (size_t)(subexpr_end - p - 1);
            (void) CopyMagickString(subexpr, p + 1, subexpr_length + 1);
            subexpr[subexpr_length] = '\0';

            subexpr_result = FxEvaluateSubexpression(fx_info, pixchannel, x, y, subexpr, &depth, &beta, exception);
            point.x = subexpr_result;
            point.y = subexpr_result;

            p = subexpr_end + 1;
          }