if ((*p == 'p') && (isalpha((int) ((unsigned char) *(p+1))) == 0))
{
  p++;
  if ((*p == '{') || (*p == '['))
  {
    char
      bracket,
      subexpression[MagickPathExtent];

    register char
      *q;

    size_t
      level;

    bracket=(*p++);
    level=1;
    q=subexpression;
    while ((*p != '\0') && (level > 0))
    {
      if (*p == bracket)
        level++;
      else
        if (((bracket == '{') && (*p == '}')) || 
            ((bracket == '[') && (*p == ']')))
          level--;
      if (level > 0)
        *q++=(*p++);
      else
        p++;
    }
    *q='\0';
    alpha=FxEvaluateSubexpression(fx_info,pixchannel,x,y,subexpression,
      &depth,&beta,exception);
    point.x=alpha;
    point.y=beta;
  }
}