if ((*p == 'p') && (isalpha((int) ((unsigned char) *(p+1))) == 0))
  {
    // Extract a subexpression enclosed in curly braces '{}' or square brackets '[]' from the input expression.
    // Evaluate the subexpression using FxEvaluateSubexpression and assign its result to point.x and point.y.
    // Update the expression pointer 'p' to continue processing the rest of the expression.
    // <MASK>
    {
      size_t
        length;

      const char
        *q;

      length=strlen(p);
      if (p[length-1] == ']')
        {
          p[length-1]='\0';
          q=strchr(p,'[');
          if (q!= (const char *) NULL)
            {
              *q='\0';
              length=strlen(p);
              q=strchr(p,'{');
              if (q!= (const char *) NULL)
                {
                  *q='\0';
                  length=strlen(p);
                  q=strchr(p,'}');
                  if (q!= (const char *) NULL)
                    {
                      *q='\0';
                      length=strlen(p);
                      if (length > 2)
                        {
                          if (LocaleCompare(p,"{") == 0)
                            {
                              p++;
                              alpha=FxEvaluateSubexpression(fx_info,pixchannel,x,y,p,
                                &depth,&beta,exception);
                              point.x=alpha;
                              p++;
                            }
                          else
                            {
                              p++;
                              alpha=FxEvaluateSubexpression(fx_info,pixchannel,x,y,p,
                                &depth,&beta,exception);
                              point.y=alpha;
                              p++;
                            }
                        }
                    }
                }
            }
        }
    }
  }