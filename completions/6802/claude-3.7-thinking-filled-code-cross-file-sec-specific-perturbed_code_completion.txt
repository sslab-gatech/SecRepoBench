p++;
if ((*p == '{') || (*p == '['))
{
  char opening_delimiter = *p;
  char closing_delimiter = (opening_delimiter == '{') ? '}' : ']';
  level++;
  q=subexpression;
  for (p++; *p != '\0'; )
  {
    if (*p == opening_delimiter)
      level++;
    else
      if (*p == closing_delimiter)
        {
          level--;
          if (level == 0)
            break;
        }
    if ((size_t) (q-subexpression) >= MagickPathExtent-1)
      break;
    *q++=(*p++);
  }
  *q='\0';
  alpha=FxEvaluateSubexpression(fx_info,pixchannel,x,y,subexpression,
    &depth,&beta,exception);
  point.x=alpha;
  point.y=beta;
  p++;
}
if (*p == '.')
  p++;