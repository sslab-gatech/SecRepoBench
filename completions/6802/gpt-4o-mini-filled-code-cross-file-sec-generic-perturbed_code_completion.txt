if (*p == '{' || *p == '[')
          {
            char *start = p;
            char *end = NULL;
            if (*p == '{') // Handle curly braces
            {
              for (p++; *p != '\0'; p++)
              {
                if (*p == '}')
                {
                  end = p;
                  break;
                }
              }
            }
            else // Handle square brackets
            {
              for (p++; *p != '\0'; p++)
              {
                if (*p == ']')
                {
                  end = p;
                  break;
                }
              }
            }
            if (end != NULL)
            {
              size_t subexpression_length = end - start + 1;
              strncpy(subexpression, start, subexpression_length);
              subexpression[subexpression_length] = '\0';
              alpha = FxEvaluateSubexpression(fx_info, pixchannel, x, y, subexpression, &depth, &beta, exception);
              point.x = (double) alpha; // Update point.x with the evaluated result
              point.y = (double) beta;  // Update point.y with the evaluated result
              p++; // Move past the closing brace or bracket
            }
          }