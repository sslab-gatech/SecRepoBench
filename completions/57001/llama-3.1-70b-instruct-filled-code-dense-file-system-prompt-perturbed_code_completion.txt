// Read face data from the buffer and parse the number of indices per face.
unsigned int numIndices = strtoul10(vertex_data_ptr, &vertex_data_ptr);
if (numIndices < 3) {
    ASSIMP_LOG_ERROR("OFF: Face with less than 3 vertices");
    numIndices = 3;
}

// Ensure that the number of indices is valid, logging an error if not.
if (numIndices > numVertices) {
    ASSIMP_LOG_ERROR("OFF: Face with more vertices than the total number of vertices");
    numIndices = numVertices;
}

// Allocate memory for the indices of each face based on the parsed index count.
faces->mIndices = new unsigned int[faces->mNumIndices = numIndices];

// Adjust the total face count if an invalid face is encountered.
if (numIndices < 3) {
    --i;
    --faces;
    continue;
}

// Read the indices of the face.
for (unsigned int m = 0; m < faces->mNumIndices;++m) {
    SkipSpaces(&vertex_data_ptr);
    idx = strtoul10(vertex_data_ptr,&vertex_data_ptr);
    if (idx >= numVertices) {
        ASSIMP_LOG_ERROR("OFF: Vertex index is out of range");
        idx = numVertices - 1;
    }
    faces->mIndices[m] = idx;
}