if(!GetNextLine(buffer,line)) {
            ASSIMP_LOG_ERROR("OFF: The number of faces in the header is incorrect");
            break;
        } else if (line[0] == '#' || line[0] == '\0') {
            --i;
            continue;
        }
        vertex_data_ptr = line;
        unsigned int idx;

        SkipSpaces(&vertex_data_ptr);
        faces->mNumIndices = strtoul10(vertex_data_ptr,&vertex_data_ptr);

        if(!faces->mNumIndices) {
            ASSIMP_LOG_WARN("OFF: Face with zero indices encountered");
            --i;
            continue;
        }

        faces->mIndices = new unsigned int[faces->mNumIndices];

        // check if we can read all indices from the line
        for (unsigned int m = 0; m < faces->mNumIndices; ++m) {
            unsigned int tmp;
            SkipSpaces(&vertex_data_ptr);
            tmp = strtoul10(vertex_data_ptr, &vertex_data_ptr);
            if (tmp >= numVertices) {
                break;
            }
        }
        if (faces->mNumIndices > 3) {
            // Triangulate the face
            const unsigned int num_tris = faces->mNumIndices - 2;
            const unsigned int total_tris = mesh->mNumFaces + num_tris - 1;
            aiFace *new_faces = new aiFace[total_tris];
            for (unsigned int m = 0; m < i; ++m) {
                new_faces[m] = mesh->mFaces[m];
            }
            delete[] mesh->mFaces;
            mesh->mFaces = new_faces;
            faces = &mesh->mFaces[i];
            mesh->mNumFaces = total_tris;
            for (unsigned int m = 0; m < num_tris; ++m) {
                aiFace &tri = faces[m];
                tri.mNumIndices = 3;
                tri.mIndices = new unsigned int[3];
            }
            for (unsigned int m = 0; m < num_tris; ++m) {
                aiFace &tri = faces[m];
                tri.mIndices[0] = mesh->mFaces[i].mIndices[0];
                tri.mIndices[1] = mesh->mFaces[i].mIndices[m + 1];
                tri.mIndices[2] = mesh->mFaces[i].mIndices[m + 2];
            }
            faces = &mesh->mFaces[i + num_tris - 1];
            delete[] mesh->mFaces[i].mIndices;
            i += num_tris - 1;
        }