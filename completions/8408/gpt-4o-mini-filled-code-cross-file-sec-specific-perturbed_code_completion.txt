MagickBooleanType status = MagickTrue;
  ssize_t n = 0;
  DrawInfo **graphic_context = NULL;

  // Initialize graphic context stack
  graphic_context = (DrawInfo **) AcquireQuantumMemory(MaximumGraphicContext, sizeof(*graphic_context));
  if (graphic_context == (DrawInfo **) NULL)
    ThrowBinaryException(ResourceLimitError, "MemoryAllocationFailed", "Unable to allocate graphic context");

  // Main drawing logic here
  // ...

  // Clean up graphic context stack
  for (n = 0; n < MaximumGraphicContext; n++)
  {
    if (graphic_context[n] != (DrawInfo *) NULL)
      graphic_context[n] = DestroyDrawInfo(graphic_context[n]);
  }
  graphic_context = (DrawInfo **) RelinquishMagickMemory(graphic_context);