MagickBooleanType
    status;

  ssize_t
    n;

  DrawInfo
    **graphic_context;

  graphic_context=(DrawInfo **) AcquireQuantumMemory(1,sizeof(*graphic_context));
  if (graphic_context == (DrawInfo **) NULL)
    ThrowBinaryException(ResourceLimitError,"MemoryAllocationFailed",primitive_name);
  
  n=0;
  status=MagickTrue;

  while ((token=GetNextToken(&q,&q,MagickPathExtent)) != (char *) NULL)
  {
    if (LocaleCompare(token,"push") == 0)
    {
      graphic_context[n]=CloneDrawInfo(image,draw_info);
      n++;
      continue;
    }
    if (LocaleCompare(token,"pop") == 0)
    {
      n--;
      if (n < 0)
        ThrowBinaryException(DrawError,"UnbalancedGraphicContextPushPop",primitive_name);
      continue;
    }
    // Handle other drawing commands here...
    // For example, you can check for specific primitives and call the appropriate drawing functions.
  }