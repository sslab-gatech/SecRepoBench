// Interpret and execute drawing commands
primitive=AcquireString(draw_info->primitive);
token=AcquireString((char *) NULL);
for (primitive_info=(PrimitiveInfo *) NULL,primitive_name[0]='\0',
  stops=(StopInfo *) NULL,graphic_context=(DrawInfo **) NULL,n=0;
  *primitive!= '\0'; )
{
  if ((next_token=(char *) strchr(primitive,' '))!= (char *) NULL)
    *next_token='\0';
  if ((q=GetNextToken(primitive,&token)) == (const char *) NULL)
    break;
  if ((primitive_info=GetPrimitiveInfo(q,primitive_name)) == (PrimitiveInfo *) NULL)
    {
      if (image->debug!= MagickFalse)
        (void) LogMagickEvent(DrawEvent,GetMagickModule(),"%s",
          "Unrecognized primitive");
      break;
    }
  if (primitive_info->primitive == AcquirePrimitiveInfo)
    {
      if (AcquirePrimitiveInfo(image,draw_info,primitive_name,primitive_info,
          exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == AffinePrimitive)
    {
      if (DrawAffineImage(image,image,&affine,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == ClipPathPrimitive)
    {
      if (DrawClipPath(image,draw_info,primitive_name,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == ClipPathIdPrimitive)
    {
      if (DrawClipPath(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == ColorPrimitive)
    {
      if (DrawColor(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == CompositePrimitive)
    {
      if (DrawComposite(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == DebugPrimitive)
    {
      if (DrawDebug(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == EllipsePrimitive)
    {
      if (DrawEllipse(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == FillColorPrimitive)
    {
      if (DrawFillColor(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == FillOpacityPrimitive)
    {
      if (DrawFillOpacity(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == FillPatternPrimitive)
    {
      if (DrawFillPattern(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == FillRulePrimitive)
    {
      if (DrawFillRule(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == FillToBBoxPrimitive)
    {
      if (DrawFillToBBox(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == FontPrimitive)
    {
      if (DrawFont(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == FontFamilyPrimitive)
    {
      if (DrawFontFamily(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == FontWeightPrimitive)
    {
      if (DrawFontWeight(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == FontStylePrimitive)
    {
      if (DrawFontStyle(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == FontStretchPrimitive)
    {
      if (DrawFontStretch(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == ImagePrimitive)
    {
      if (DrawImage(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == LineCapPrimitive)
    {
      if (DrawLineCap(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == LineJoinPrimitive)
    {
      if (DrawLineJoin(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == LineWidthPrimitive)
    {
      if (DrawLineWidth(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == MatteColorPrimitive)
    {
      if (DrawMatteColor(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == PathPrimitive)
    {
      if (DrawPath(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == PointPrimitive)
    {
      if (DrawPoint(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == PolygonPrimitive)
    {
      if (DrawPolygon(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == PolylinePrimitive)
    {
      if (DrawPolyline(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == PopGraphicContextPrimitive)
    {
      if (PopGraphicContext(image,draw_info,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == PopPatternPrimitive)
    {
      if (PopPattern(image,draw_info,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == PushGraphicContextPrimitive)
    {
      if (PushGraphicContext(image,draw_info,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == PushPatternPrimitive)
    {
      if (PushPattern(image,draw_info,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == RectanglePrimitive)
    {
      if (DrawRectangle(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == RotatePrimitive)
    {
      if (DrawRotate(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == RoundRectanglePrimitive)
    {
      if (DrawRoundRectangle(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == ScalePrimitive)
    {
      if (DrawScale(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == SkewXPrimitive)
    {
      if (DrawSkewX(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == SkewYPrimitive)
    {
      if (DrawSkewY(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == StrokeAntialiasPrimitive)
    {
      if (DrawStrokeAntialias(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == StrokeColorPrimitive)
    {
      if (DrawStrokeColor(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == StrokeDashArrayPrimitive)
    {
      if (DrawStrokeDashArray(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == StrokeDashOffsetPrimitive)
    {
      if (DrawStrokeDashOffset(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == StrokeLineCapPrimitive)
    {
      if (DrawStrokeLineCap(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == StrokeLineJoinPrimitive)
    {
      if (DrawStrokeLineJoin(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == StrokeMiterLimitPrimitive)
    {
      if (DrawStrokeMiterLimit(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == StrokeOpacityPrimitive)
    {
      if (DrawStrokeOpacity(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == StrokePatternPrimitive)
    {
      if (DrawStrokePattern(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == StrokeWidthPrimitive)
    {
      if (DrawStrokeWidth(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == TextPrimitive)
    {
      if (DrawText(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == TextAntialiasPrimitive)
    {
      if (DrawTextAntialias(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == TextDecorationPrimitive)
    {
      if (DrawTextDecoration(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == TextEncodingPrimitive)
    {
      if (DrawTextEncoding(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == TextKerningPrimitive)
    {
      if (DrawTextKerning(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == TextUnderColorPrimitive)
    {
      if (DrawTextUnderColor(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == TranslatePrimitive)
    {
      if (DrawTranslate(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == ViewboxPrimitive)
    {
      if (DrawViewbox(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == ClipPathPrimitive)
    {
      if (DrawClipPath(image,draw_info,primitive_name,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == ClipPathIdPrimitive)
    {
      if (DrawClipPath(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == DebugPrimitive)
    {
      if (DrawDebug(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == PushGraphicContextPrimitive)
    {
      if (PushGraphicContext(image,draw_info,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == PopGraphicContextPrimitive)
    {
      if (PopGraphicContext(image,draw_info,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == PushPatternPrimitive)
    {
      if (PushPattern(image,draw_info,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == PopPatternPrimitive)
    {
      if (PopPattern(image,draw_info,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == ScalePrimitive)
    {
      if (DrawScale(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == SkewXPrimitive)
    {
      if (DrawSkewX(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == SkewYPrimitive)
    {
      if (DrawSkewY(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == TranslatePrimitive)
    {
      if (DrawTranslate(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == ViewboxPrimitive)
    {
      if (DrawViewbox(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == AffinePrimitive)
    {
      if (DrawAffine(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == ClipPathPrimitive)
    {
      if (DrawClipPath(image,draw_info,primitive_name,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == ClipPathIdPrimitive)
    {
      if (DrawClipPath(image,draw_info,primitive,exception) == MagickFalse)
        break;
      continue;
    }
  if (primitive_info->primitive == DebugPrimitive)
    {
      if (DrawDebu