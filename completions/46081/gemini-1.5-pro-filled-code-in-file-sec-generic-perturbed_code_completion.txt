quantum = quantumdata->quantum;
  if (quantumdata->format == FloatingPointQuantumFormat)
    {
      quantumdata->depth = 32;  // Default to single-precision float
      if (depth >= 64)
        quantumdata->depth = 64; // Use double-precision if requested
    }
  quantumdata->quantum = (1UL << quantumdata->depth) - 1;

  extent = GetQuantumExtent(image, quantumdata, GetQuantumType(image, &image->exception));
  if ((quantumdata->pixels == (MemoryInfo **) NULL) || (quantumdata->extent < extent))
    {
      MagickBooleanType
        status;

      status = AcquireQuantumPixels(quantumdata, extent);
      if (status == MagickFalse)
        return(MagickFalse);
    }
  return(MagickTrue);