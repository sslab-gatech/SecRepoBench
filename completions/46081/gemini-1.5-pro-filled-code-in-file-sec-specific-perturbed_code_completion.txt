quantum = quantumdata->quantum;
  if (quantumdata->format == FloatingPointQuantumFormat)
    {
      quantumdata->depth = 32;  // Use 32-bit for floating-point
      quantum = 32;
    }
  else if (quantumdata->format == DoublePrecisionQuantumFormat)
    {
      quantumdata->depth = 64;  // Use 64-bit for double precision
      quantum = 64;
    }
  extent = GetQuantumExtent(image, quantumdata, GetQuantumType(image, &image->exception));
  if ((quantumdata->pixels == (MemoryInfo **) NULL) || (quantumdata->extent < extent))
    {
      DestroyQuantumPixels(quantumdata);
      if (AcquireQuantumPixels(quantumdata, extent) == MagickFalse)
        return MagickFalse;
    }
  return MagickTrue;