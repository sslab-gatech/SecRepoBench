quantum = (quantumdata->depth + 7) / 8;
  extent = image->columns * image->rows * quantum * GetPixelChannels(image);
  if (quantumdata->pixels == (unsigned char *) NULL)
  {
    quantumdata->pixels = (unsigned char *) AcquireQuantumMemory(extent, sizeof(*quantumdata->pixels));
    if (quantumdata->pixels == (unsigned char *) NULL)
      return MagickFalse;
  }
  else
  {
    unsigned char *new_pixels;
    new_pixels = (unsigned char *) ResizeQuantumMemory(quantumdata->pixels, extent, sizeof(*quantumdata->pixels));
    if (new_pixels == (unsigned char *) NULL)
      return MagickFalse;
    quantumdata->pixels = new_pixels;
  }
  return MagickTrue;