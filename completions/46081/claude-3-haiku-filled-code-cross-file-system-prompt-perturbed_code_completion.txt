extent=GetQuantumExtent(image,quantumdata,QuantumDepth(quantumdata));
quantum=GetQuantumRange(quantumdata->depth);
if (extent > (size_t) (quantum*image->columns*image->rows))
{
  quantumdata->pixels=(Quantum *) RelinquishMagickMemory(quantumdata->pixels);
  quantumdata->pixels=(Quantum *) AcquireAlignedMemory(1,extent*sizeof(Quantum));
  if (quantumdata->pixels == (Quantum *) NULL)
    return(MagickFalse);
}
quantumdata->extent=extent;
return(MagickTrue);