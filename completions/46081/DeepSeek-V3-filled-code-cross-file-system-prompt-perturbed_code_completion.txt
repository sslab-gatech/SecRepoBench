quantum=quantumdata->depth;
  if (quantumdata->format == FloatingPointQuantumFormat)
    quantum=32;
  else if (quantumdata->format == SignedQuantumFormat)
    quantum=8*sizeof(Quantum);
  quantumdata->pad=(quantum % 8) != 0 ? 1 : 0;
  quantumdata->min_is_white=MagickFalse;
  quantumdata->pack=(quantum+7)/8;
  extent=image->columns*image->rows*quantumdata->pack*GetImageChannels(image);
  if (extent > quantumdata->extent)
    {
      if (quantumdata->pixels != (unsigned char *) NULL)
        quantumdata->pixels=(unsigned char *) RelinquishMagickMemory(
          quantumdata->pixels);
      quantumdata->pixels=(unsigned char *) AcquireQuantumMemory(extent,
        sizeof(*quantumdata->pixels));
      if (quantumdata->pixels == (unsigned char *) NULL)
        return(MagickFalse);
      quantumdata->extent=extent;
    }
  return(MagickTrue);