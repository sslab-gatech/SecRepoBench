quantum = quantumdata->depth;
  if (quantumdata->format == FloatingPointQuantumFormat)
    quantum = sizeof(double) * 8;
  extent = image->columns * image->rows * image->number_channels * quantum;
  if (quantumdata->pixels == (unsigned char *) NULL)
    quantumdata->pixels = (unsigned char *) AcquireQuantumMemory(extent,
      sizeof(*quantumdata->pixels));
  else
    quantumdata->pixels = (unsigned char *) ResizeQuantumMemory(
      quantumdata->pixels, extent, sizeof(*quantumdata->pixels));
  if (quantumdata->pixels == (unsigned char *) NULL)
    return(MagickFalse);
  return(MagickTrue);