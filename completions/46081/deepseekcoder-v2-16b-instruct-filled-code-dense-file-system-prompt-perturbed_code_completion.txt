extent = image->columns * image->rows;
  quantum = extent * GetPixelChannels(image) * (quantumdata->depth / 8);
  if (quantum > quantumdata->length)
  {
    void *new_quantum_pixels = AcquireQuantumMemory(extent, quantumdata->depth / 8);
    if (new_quantum_pixels == (void *) NULL)
      return MagickFalse;
    if (quantumdata->pixels != (void *) NULL)
      new_quantum_pixels = RelinquishMagickMemory(quantumdata->pixels);
    quantumdata->pixels = new_quantum_pixels;
    quantumdata->length = quantum;
  }
  return MagickTrue;
}