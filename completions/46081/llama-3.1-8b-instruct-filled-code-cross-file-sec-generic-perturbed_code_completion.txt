// Adjust the quantum depth based on the format and specified depth,
// particularly for floating point formats. Calculate the memory
// required for quantum pixels based on the image's channels, padding,
// and depth. Determine the necessary buffer size by comparing it to
// the product of the image's dimensions and memory requirement per
// pixel. Ensure memory allocation for quantum pixels is sufficient;
// if not, reallocate as needed. Return whether the allocation was
// successful.
extent = (size_t) image->columns * (size_t) image->rows * (size_t) image->depth;
quantumdata->buffer = AcquireQuantumMemory(extent);
if (quantumdata->buffer == (Quantum *) NULL)
  return MagickFalse;
quantumdata->extent = extent;
quantumdata->depth = MagickMin(depth, 64);
quantumdata->format = image->format;
quantumdata->type = image->type;
quantumdata->channels = image->channels;
quantumdata->storage_class = image->storage_class;
quantumdata->min_is_white = image->min_is_white;
quantumdata->is_inverse = image->is_inverse;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;
quantumdata->is_virtual = image->is_virtual;
quantumdata->is_colormap = image->is_colormap;
quantumdata->is_colorspace = image->is_colorspace;
quantumdata->is_matte = image->is_matte;
quantumdata->is_packed = image->is_packed;
quantumdata->is_direct = image->is_direct;