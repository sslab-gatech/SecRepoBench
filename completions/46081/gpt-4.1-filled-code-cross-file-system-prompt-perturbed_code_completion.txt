quantum=GetQuantumExtent(image,quantumdata->depth,quantumdata->format);
extent=image->columns*image->number_channels*quantum;
if ((quantumdata->pixels == (unsigned char *) NULL) ||
    (quantumdata->extent < extent))
  {
    if (quantumdata->pixels != (unsigned char *) NULL)
      quantumdata->pixels=(unsigned char *) RelinquishMagickMemory(quantumdata->pixels);
    quantumdata->pixels=(unsigned char *) AcquireQuantumMemory(extent,sizeof(*quantumdata->pixels));
    if (quantumdata->pixels == (unsigned char *) NULL)
      {
        quantumdata->extent=0;
        return(MagickFalse);
      }
    quantumdata->extent=extent;
  }
return(MagickTrue);