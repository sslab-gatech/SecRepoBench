extent=GetQuantumExtent(image,quantumdata);
  quantum=GetQuantumRange(quantumdata->depth);
  if (quantumdata->pixels == (unsigned char *) NULL)
    quantumdata->pixels=(unsigned char *) AcquireQuantumMemory(extent,sizeof(*quantumdata->pixels));
  else if (quantumdata->extent < extent)
    quantumdata->pixels=(unsigned char *) ResizeQuantumMemory(quantumdata->pixels,
      extent,sizeof(*quantumdata->pixels));
  if (quantumdata->pixels == (unsigned char *) NULL)
    ThrowBinaryException(ResourceLimitError,"MemoryAllocationFailed",
      image->filename);
  quantumdata->extent=extent;
  SetQuantumImageType(const_cast<Image *>(image),quantumdata->quantum_type);
  SetQuantumMinIsWhite(quantumdata,MagickTrue);
  return(MagickTrue);