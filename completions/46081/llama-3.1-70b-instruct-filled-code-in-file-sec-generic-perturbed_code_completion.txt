quantum=quantumdata->quantum;
if (quantumdata->format == FloatingPointQuantumFormat)
  {
    if (quantumdata->depth <= 16)
      quantum=16;
    else
      if (quantumdata->depth <= 32)
        quantum=32;
      else
        quantum=64;
  }
extent=GetQuantumExtent(image,quantumdata,GetQuantumType(image,(ExceptionInfo *) NULL));
if (quantumdata->pack == MagickFalse)
  extent=(size_t) ((extent+7)/8);
if (quantumdata->pad!= 0)
  extent=(size_t) ((extent+quantumdata->pad-1)/quantumdata->pad)*quantumdata->pad;
if (AcquireQuantumPixels(quantumdata,extent) == MagickFalse)
  return(MagickFalse);
return(MagickTrue);