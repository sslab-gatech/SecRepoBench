switch (quantumdata->format)
  {
    case FloatingPointQuantumFormat:
    {
      if (quantumdata->depth == 16)
        quantumdata->depth=32;
      if (quantumdata->depth == 32)
        quantumdata->depth=64;
      break;
    }
    default:
      break;
  }
  quantum=GetQuantumExtent(image,quantumdata);
  extent=MagickMax(image->columns*image->rows*quantum,quantum);
  if (quantumdata->pixels == (unsigned char *) NULL)
    quantumdata->pixels=(unsigned char *) AcquireAlignedMemory(extent,
      sizeof(*quantumdata->pixels));
  else if (extent > quantumdata->extent)
    quantumdata->pixels=(unsigned char *) ResizeAlignedMemory(
      quantumdata->pixels,extent,sizeof(*quantumdata->pixels));
  quantumdata->extent=extent;
  if (quantumdata->pixels == (unsigned char *) NULL)
    return(MagickFalse);
  return(MagickTrue);