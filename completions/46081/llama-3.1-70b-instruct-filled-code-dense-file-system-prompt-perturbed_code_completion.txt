size_t
  channels,
  quantum_depth;

quantum_depth=GetImageQuantumDepth(image,MagickFalse);
if (quantumdata->format == FloatingPointQuantumFormat)
  quantum_depth=64;
if (quantumdata->format == DoublePrecisionQuantumFormat)
  quantum_depth=64;
if (quantumdata->format == LongDoublePrecisionQuantumFormat)
  quantum_depth=64;
if (quantumdata->format == ComplexLongDoublePrecisionQuantumFormat)
  quantum_depth=64;
if (quantumdata->format == ComplexDoublePrecisionQuantumFormat)
  quantum_depth=64;
if (quantumdata->format == ComplexQuantumFormat)
  quantum_depth=64;
if (quantumdata->format == RealQuantumFormat)
  quantum_depth=64;
if (quantumdata->format == LongQuantumFormat)
  quantum_depth=64;
if (quantumdata->format == ShortQuantumFormat)
  quantum_depth=16;
if (quantumdata->format == OldQuantumFormat)
  quantum_depth=8;
if (quantumdata->format == IndexQuantumFormat)
  quantum_depth=8;
if (quantumdata->format == RGBQuantumFormat)
  quantum_depth=8;
if (quantumdata->format == RGBAQuantumFormat)
  quantum_depth=8;
if (quantumdata->format == CMYKQuantumFormat)
  quantum_depth=8;
if (quantumdata->format == CMYKAQuantumFormat)
  quantum_depth=8;
if (quantumdata->format == YCbCrQuantumFormat)
  quantum_depth=8;
if (quantumdata->format == YUVQuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I420QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == YUVQuantumFormat)
  quantum_depth=8;
if (quantumdata->format == IYUVQuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I422QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I444QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I411QuantumFormat)
  quantum_depth=8;
if (quantumdata->format == I440QuantumFormat)
  quantum_depth=8;
if (quantumdat