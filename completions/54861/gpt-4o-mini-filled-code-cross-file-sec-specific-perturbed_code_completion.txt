if (codeccontext->codec_id == AV_CODEC_ID_H264 || codeccontext->codec_id == AV_CODEC_ID_VP8 || codeccontext->codec_id == AV_CODEC_ID_VP9) {
        *height = FFALIGN(*height + 2, 2); // Adjust height for motion compensation
    }

    if (*width < 32) {
        *width = 32; // Ensure minimum width for edge emulation
    }