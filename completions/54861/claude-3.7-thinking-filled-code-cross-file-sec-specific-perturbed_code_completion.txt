if (codeccontext->codec_id == AV_CODEC_ID_H264 ||
    codeccontext->codec_id == AV_CODEC_ID_VP8 ||
    codeccontext->codec_id == AV_CODEC_ID_VP9 ||
    codeccontext->codec_id == AV_CODEC_ID_VP6 ||
    codeccontext->codec_id == AV_CODEC_ID_VP6F ||
    codeccontext->codec_id == AV_CODEC_ID_VC1 ||
    codeccontext->codec_id == AV_CODEC_ID_RV30 ||
    codeccontext->codec_id == AV_CODEC_ID_RV40 ||
    codeccontext->codec_id == AV_CODEC_ID_SVQ3 ||
    codeccontext->codec_id == AV_CODEC_ID_HEVC ||
    (*width < 32 || *height < 32)) { // Handle specific codecs or low resolution
    
    // Adjust height to be a multiple of 2 for motion compensation edge cases
    *height = FFALIGN(*height, 2);
}

// Ensure minimum width for edge emulation during motion vector processing
if (*width < 32) {
    *width = 32;
}