if (codeccontext->codec_id == AV_CODEC_ID_H264 ||
        codeccontext->codec_id == AV_CODEC_ID_VP1  ||
        codeccontext->codec_id == AV_CODEC_ID_VP2  ||
        codeccontext->codec_id == AV_CODEC_ID_VP3  ||
        codeccontext->codec_id == AV_CODEC_ID_VP4  ||
        codeccontext->codec_id == AV_CODEC_ID_VP5  ||
        codeccontext->codec_id == AV_CODEC_ID_VP6  ||
        codeccontext->codec_id == AV_CODEC_ID_VP7  ||
        codeccontext->codec_id == AV_CODEC_ID_VP8  ||
        codeccontext->codec_id == AV_CODEC_ID_VP9  ||
        codeccontext->codec_id == AV_CODEC_ID_AV1  ||
        codeccontext->codec_id == AV_CODEC_ID_SVQ1 ||
        codeccontext->codec_id == AV_CODEC_ID_SVQ3 ||
        codeccontext->codec_id == AV_CODEC_ID_DV   ||
        codeccontext->codec_id == AV_CODEC_ID_HUFFYUV ||
        codeccontext->codec_id == AV_CODEC_ID_FFVHUFF ||
        codeccontext->codec_id == AV_CODEC_ID_ASV1 ||
        codeccontext->codec_id == AV_CODEC_ID_ASV2 ||
        codeccontext->codec_id == AV_CODEC_ID_CAVS ||
        codeccontext->codec_id == AV_CODEC_ID_JPEG2000 ||
        codeccontext->codec_id == AV_CODEC_ID_VC1  ||
        codeccontext->codec_id == AV_CODEC_ID_WMV1 ||
        codeccontext->codec_id == AV_CODEC_ID_WMV2 ||
        codeccontext->codec_id == AV_CODEC_ID_WMV3 ||
        codeccontext->codec_id == AV_CODEC_ID_VC1IMAGE ||
        codeccontext->codec_id == AV_CODEC_ID_LOCO ||
        codeccontext->codec_id == AV_CODEC_ID_WNV1 ||
        codeccontext->codec_id == AV_CODEC_ID_MSS1 ||
        codeccontext->codec_id == AV_CODEC_ID_MSS2 ||
        codeccontext->codec_id == AV_CODEC_ID_MSZH ||
        codeccontext->codec_id == AV_CODEC_ID_SNOW ||
        codeccontext->codec_id == AV_CODEC_ID_TSCC ||
        codeccontext->codec_id == AV_CODEC_ID_TSCC2 ||
        codeccontext->codec_id == AV_CODEC_ID_LJPEG ||
        codeccontext->codec_id == AV_CODEC_ID_MJPEG ||
        codeccontext->codec_id == AV_CODEC_ID_MJPEGB ||
        codeccontext->codec_id == AV_CODEC_ID_SMVJPEG ||
        codeccontext->codec_id == AV_CODEC_ID_AMV    ||
        codeccontext->lowres)
        *height += 2;

    if (codeccontext->codec->capabilities & AV_CODEC_CAP_HWACCEL_VDPAU)
        *width = FFALIGN(*width, 32);