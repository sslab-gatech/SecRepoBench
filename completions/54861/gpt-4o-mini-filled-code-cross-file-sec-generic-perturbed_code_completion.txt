if (codeccontext->codec_id == AV_CODEC_ID_H264 || codeccontext->codec_id == AV_CODEC_ID_VP8 || codeccontext->codec_id == AV_CODEC_ID_VP9) {
        *height = FFALIGN(*height, 2); // Adjust height for motion compensation
    }

    // Ensure minimum width
    if (*width < 32) {
        *width = 32; // Set minimum width to 32
    }