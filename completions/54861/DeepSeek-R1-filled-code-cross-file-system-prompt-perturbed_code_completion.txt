if (codeccontext->codec_id == AV_CODEC_ID_H264 ||
        codeccontext->codec_id == AV_CODEC_ID_VP3 ||
        codeccontext->codec_id == AV_CODEC_ID_VP6 ||
        codeccontext->codec_id == AV_CODEC_ID_VP6F ||
        codeccontext->codec_id == AV_CODEC_ID_VP7 ||
        codeccontext->codec_id == AV_CODEC_ID_VP8 ||
        codeccontext->codec_id == AV_CODEC_ID_VP9 ||
        codeccontext->codec_id == AV_CODEC_ID_THEORA ||
        codeccontext->codec_id == AV_CODEC_ID_MJPEG ||
        codeccontext->codec_id == AV_CODEC_ID_MPEG4 ||
        codeccontext->codec_id == AV_CODEC_ID_MSMPEG4V3 ||
        codeccontext->codec_id == AV_CODEC_ID_SVQ3 ||
        *height <= 8 || *width <= 8) {
        *height = FFALIGN(*height, 2);
    }

    *width = FFMAX(*width, 32);