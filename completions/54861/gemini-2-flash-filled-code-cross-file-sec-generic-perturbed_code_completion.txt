if (codeccontext->codec_id == AV_CODEC_ID_H264 ||
        codeccontext->codec_id == AV_CODEC_ID_VP5 ||
        codeccontext->codec_id == AV_CODEC_ID_VP6 ||
        codeccontext->codec_id == AV_CODEC_ID_VP6F ||
        codeccontext->codec_id == AV_CODEC_ID_VP8 ||
        codeccontext->codec_id == AV_CODEC_ID_VP9 ||
        codeccontext->codec_id == AV_CODEC_ID_THEORA ||
        codeccontext->codec_id == AV_CODEC_ID_DIRAC ||
        codeccontext->codec_id == AV_CODEC_ID_PRORES ||
        codeccontext->codec_id == AV_CODEC_ID_DNXHD ||
        codeccontext->codec_id == AV_CODEC_ID_MPEG4 ||
        codeccontext->codec_id == AV_CODEC_ID_RAWVIDEO ||
        codeccontext->lowres) {
        *height = FFALIGN(*height, 2);
    }

    *width = FFMAX(*width, 32);