if ((codeccontext->codec_id == AV_CODEC_ID_H264 ||
     codeccontext->codec_id == AV_CODEC_ID_HEVC ||
     codeccontext->codec_id == AV_CODEC_ID_VP8 ||
     codeccontext->codec_id == AV_CODEC_ID_VP9) &&
    *height < 720) {
    // Adjust height by 2 to accommodate motion compensation edge cases at low resolutions
    *height += 2;
}

// Ensure minimum width for edge emulation during motion vector processing
if (codeccontext->codec_id == AV_CODEC_ID_H264 ||
    codeccontext->codec_id == AV_CODEC_ID_HEVC ||
    codeccontext->codec_id == AV_CODEC_ID_VP8 ||
    codeccontext->codec_id == AV_CODEC_ID_VP9) {
    *width = FFMAX(*width, 32);
}