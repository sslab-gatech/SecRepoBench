if (codeccontext->codec_id == AV_CODEC_ID_H264 ||
        (codeccontext->codec_id >= AV_CODEC_ID_VP8 &&
         codeccontext->codec_id <= AV_CODEC_ID_VP9) ||
        codeccontext->codec_id == AV_CODEC_ID_MPEG4 ||
        codeccontext->codec_id == AV_CODEC_ID_MPEG2VIDEO ||
        codeccontext->codec_id == AV_CODEC_ID_VC1 ||
        codeccontext->codec_id == AV_CODEC_ID_WMV2 ||
        codeccontext->codec_id == AV_CODEC_ID_WMV3 ||
        codeccontext->codec_id == AV_CODEC_ID_FLV1 ||
        codeccontext->codec_id == AV_CODEC_ID_RV10 ||
        codeccontext->codec_id == AV_CODEC_ID_RV20 ||
        codeccontext->codec_id == AV_CODEC_ID_RV30 ||
        codeccontext->codec_id == AV_CODEC_ID_RV40 ||
        codeccontext->lowres) {
        *height = FFALIGN(*height, 2);
    }
    *width = FFMAX(32, *width);