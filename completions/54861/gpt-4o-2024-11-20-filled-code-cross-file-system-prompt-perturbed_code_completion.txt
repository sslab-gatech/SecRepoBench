if (codeccontext->codec_id == AV_CODEC_ID_H264 ||
        codeccontext->codec_id == AV_CODEC_ID_VP8  ||
        codeccontext->codec_id == AV_CODEC_ID_VP9  ||
        codeccontext->codec_id == AV_CODEC_ID_AV1) {
        *height = FFALIGN(*height, 2); // Ensure height is aligned to 2 for motion compensation
    }

    if (codeccontext->lowres) {
        *height = FFALIGN(*height, 2); // Adjust height for low resolution
    }

    *width = FFMAX(*width, 32); // Ensure width is at least 32 for edge emulation