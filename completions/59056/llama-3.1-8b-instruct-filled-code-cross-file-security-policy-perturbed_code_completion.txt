if (n->Type()!= TokenType_CLOSE_BRACKET) {
    if (isTopLevel) {
        elements.insert(std::make_pair(str, element));
    } else {
        delete element;
        ParseError("unexpected end of file", n);
    }

    n = parser.AdvanceToNextToken();
    if (n == nullptr) {
        ParseError("unexpected end of file");
    }
}