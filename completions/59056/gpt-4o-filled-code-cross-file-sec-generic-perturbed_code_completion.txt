{
        ParseError("unexpected end of file");
        delete_Element(element);
        return;
    }

    if (n->Type() == TokenType_CLOSE_BRACKET) {
        if (!isTopLevel) {
            ParseError("unexpected close bracket", n);
            delete_Element(element);
            return;
        }
        break;
    }

    elements.insert(std::make_pair(str, element));
    n = parser.AdvanceToNextToken();
    if (n == nullptr) {
        ParseError("unexpected end of file");
        return;
    }