if (scope.IsTopLevel()) {
    scope.Elements().insert(std::make_pair(str, element));
    return;
} else {
    delete element;
    ParseError("unexpected end of file", parser.LastToken());
}