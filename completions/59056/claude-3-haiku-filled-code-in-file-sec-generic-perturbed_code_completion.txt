for (ElementMap::value_type &v : elements) {
    if (v.first == str) {
        elements.insert(std::make_pair(str, element));
        return;
    }
}

if (!isTopLevel) {
    delete_Element(element);
    ParseError("unexpected end of file", n);
}

elements.insert(std::make_pair(str, element));