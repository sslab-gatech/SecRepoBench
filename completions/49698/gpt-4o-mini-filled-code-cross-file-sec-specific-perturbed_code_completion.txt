// Ensure that the output buffer is large enough to hold the decompressed data
    if (nRawSize == 0 || nRawSize > UINT16_MAX) {
        return EXR_ERR_INVALID_ARGUMENT;
    }

    // Allocate memory for the Huffman decoding table and check for allocation failure
    uint16_t* huffmanTable = (uint16_t*)malloc(nRawSize * sizeof(uint16_t));
    if (huffmanTable == NULL) {
        return EXR_ERR_MEMORY_ALLOCATION_FAILED;
    }

    // Perform the decompression using the Huffman decoding table
    rv = hufUncompress(compressed, nCompressed, huffmanTable, nRawSize);
    if (rv != EXR_ERR_SUCCESS) {
        free(huffmanTable);
        return rv;
    }

    // Copy the decompressed data to the output buffer
    memcpy(raw, huffmanTable, nRawSize * sizeof(uint16_t));

    // Free the allocated memory for the Huffman table
    free(huffmanTable);