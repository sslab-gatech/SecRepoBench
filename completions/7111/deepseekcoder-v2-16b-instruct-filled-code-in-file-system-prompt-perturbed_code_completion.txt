break;
      case COMPRESSION_LZW: image->compression=LZWCompression; break;
      case COMPRESSION_PACKBITS: image->compression=PackBitsCompression; break;
      case COMPRESSION_DEFLATE: image->compression=DeflateCompression; break;
      case COMPRESSION_ADOBE_DEFLATE: image->compression=ADFCompression; break;
      case COMPRESSION_LZMA: image->compression=LZMACompression; break;
      case COMPRESSION_ZSTD: image->compression=ZstdCompression; break;
      case COMPRESSION_WEBP: image->compression=WebPCompression; break;
      default:
      {
        TIFFClose(tiff);
        ThrowReaderException(CoderError,"UnknownCompression");
      }
    }
    if (image->debug != MagickFalse)
      (void) LogMagickEvent(CoderEvent,GetMagickModule(),"Compression: %s",
        GetCompressionInfo(image->compression,exception));
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_PREDICTOR,&value) == 1)
      {
        if (value == PREDICTOR_HORIZONTAL)
          image->properties.horizontal_predictor=MagickTrue;
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_ROWSPERSTRIP,&rows_per_strip) == 1)
      image->rows_per_strip=(size_t) rows_per_strip;
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_PAGENUMBER,&pages) == 1)
      {
        image->page.x=(ssize_t) pages;
        image->page.y=(ssize_t) pages;
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_IMAGEDEPTH,&value) == 1)
      image->depth=(size_t) value;
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_TILEWIDTH,&value) == 1)
      image->tile.width=(size_t) value;
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_TILELENGTH,&value) == 1)
      image->tile.height=(size_t) value;
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_TILEOFFSETS,&value) == 1)
      image->tile.offset=(size_t) value;
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_TILEBYTECOUNTS,&value) == 1)
      image->tile.length=(size_t) value;
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_SUBFILETYPE,&value) == 1)
      {
        if (value & FILETYPE_REDUCEDIMAGE)
          image->page.x=(size_t) (image->page.x/2);
        if (value & FILETYPE_PAGE)
          image->page.y=(size_t) (image->page.y/2);
        if (value & FILETYPE_MASK)
          image->page.x=(size_t) (image->page.x/4);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_GRAYRESPONSEUNIT,&units) == 1)
      {
        if (units == RESUNIT_INCH)
          image->units=InchResolution;
        if (units == RESUNIT_CENTIMETER)
          image->units=CentimeterResolution;
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_GRAYRESPONSECURVE,&chromaticity) == 1)
      {
        if (chromaticity != (float *) NULL)
          {
            image->gamma=(double) chromaticity[0];
            image->chromaticity.gamma=chromaticity[0];
          }
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_YCBCRSUBSAMPLING,&value,&value) == 1)
      {
        image->y_sampling=(size_t) value;
        image->cb_sampling=(size_t) value;
        image->cr_sampling=(size_t) value;
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_YCBCRPOSITIONING,&value) == 1)
      {
        if (value == YCBCRPOSITION_COSITED)
          image->ycbcr_info.subsampling_x=1;
        if (value == YCBCRPOSITION_COSITEDCHROMINANCE)
          image->ycbcr_info.subsampling_x=2;
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_REFERENCEBLACKWHITE,&chromaticity) == 1)
      {
        if (chromaticity != (float *) NULL)
          {
            image->black_point.x=chromaticity[0];
            image->black_point.y=chromaticity[1];
          }
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_TRANSFERFUNCTION,&chromaticity) == 1)
      {
        if (chromaticity != (float *) NULL)
          {
            image->chromaticity.red_primary.x=chromaticity[0];
            image->chromaticity.red_primary.y=chromaticity[1];
            image->chromaticity.green_primary.x=chromaticity[2];
            image->chromaticity.green_primary.y=chromaticity[3];
            image->chromaticity.blue_primary.x=chromaticity[4];
            image->chromaticity.blue_primary.y=chromaticity[5];
            image->chromaticity.white_point.x=chromaticity[6];
            image->chromaticity.white_point.y=chromaticity[7];
          }
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_SOFTWARE,&value) == 1)
      {
        char
          software[MagickPathExtent];

        (void) FormatLocaleString(software,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"tiff:software",software,exception);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_ARTIST,&value) == 1)
      {
        char
          artist[MagickPathExtent];

        (void) FormatLocaleString(artist,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"tiff:artist",artist,exception);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_COPYRIGHT,&value) == 1)
      {
        char
          copyright[MagickPathExtent];

        (void) FormatLocaleString(copyright,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"tiff:copyright",copyright,exception);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_DATETIME,&value) == 1)
      {
        char
          timestamp[MagickPathExtent];

        (void) FormatLocaleString(timestamp,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"tiff:timestamp",timestamp,exception);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_DOCUMENTNAME,&value) == 1)
      {
        char
          document[MagickPathExtent];

        (void) FormatLocaleString(document,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"tiff:document",document,exception);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_HOSTCOMPUTER,&value) == 1)
      {
        char
          hostcomputer[MagickPathExtent];

        (void) FormatLocaleString(hostcomputer,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"tiff:hostcomputer",hostcomputer,
          exception);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_IMAGEDESCRIPTION,&value) == 1)
      {
        char
          description[MagickPathExtent];

        (void) FormatLocaleString(description,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"comment",description,exception);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_MAKE,&value) == 1)
      {
        char
          make[MagickPathExtent];

        (void) FormatLocaleString(make,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"tiff:make",make,exception);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_MODEL,&value) == 1)
      {
        char
          model[MagickPathExtent];

        (void) FormatLocaleString(model,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"tiff:model",model,exception);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_OPIIMAGEID,&value) == 1)
      {
        char
          image_id[MagickPathExtent];

        (void) FormatLocaleString(image_id,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"tiff:image-id",image_id,exception);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_PAGENAME,&value) == 1)
      {
        char
          label[MagickPathExtent];

        (void) FormatLocaleString(label,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"label",label,exception);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_SOFTWARE,&value) == 1)
      {
        char
          software[MagickPathExtent];

        (void) FormatLocaleString(software,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"tiff:software",software,exception);
      }
    if (TIFFGetFieldDefaulted(tiff,33423,&value) == 1)
      {
        char
          kodak_33423[MagickPathExtent];

        (void) FormatLocaleString(kodak_33423,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"tiff:kodak-33423",kodak_33423,
          exception);
      }
    if (TIFFGetFieldDefaulted(tiff,36867,&value) == 1)
      {
        char
          kodak_36867[MagickPathExtent];

        (void) FormatLocaleString(kodak_36867,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"tiff:kodak-36867",kodak_36867,
          exception);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_SUBFILETYPE,&value) == 1)
      {
        char
          subfiletype[MagickPathExtent];

        (void) FormatLocaleString(subfiletype,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"tiff:subfiletype",subfiletype,
          exception);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_SOFTWARE,&value) == 1)
      {
        char
          software[MagickPathExtent];

        (void) FormatLocaleString(software,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"tiff:software",software,exception);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_ARTIST,&value) == 1)
      {
        char
          artist[MagickPathExtent];

        (void) FormatLocaleString(artist,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"tiff:artist",artist,exception);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_COPYRIGHT,&value) == 1)
      {
        char
          copyright[MagickPathExtent];

        (void) FormatLocaleString(copyright,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"tiff:copyright",copyright,exception);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_DATETIME,&value) == 1)
      {
        char
          timestamp[MagickPathExtent];

        (void) FormatLocaleString(timestamp,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"tiff:timestamp",timestamp,exception);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_DOCUMENTNAME,&value) == 1)
      {
        char
          document[MagickPathExtent];

        (void) FormatLocaleString(document,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"tiff:document",document,exception);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_HOSTCOMPUTER,&value) == 1)
      {
        char
          hostcomputer[MagickPathExtent];

        (void) FormatLocaleString(hostcomputer,MagickPathExtent,"%s",
          (char *) value);
        (void) SetImageProperty(image,"tiff:hostcomputer",hostcomputer,
          exception);
      }
    if (TIFFGetFieldDefaulted(tiff,TIFFTAG_IMAGEDESCRIPTION,&value) == 1)
      {
        char
          description[MagickPathExtent];

        (void) Format