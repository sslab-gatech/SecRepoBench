number_pixels=(MagickSizeType) image->columns*image->rows*items_in_pix;
if (HeapOverflowSanityCheck(image->rows,sizeof(*tiff_pixels)) != MagickFalse)
  ThrowTIFFException(ResourceLimitError,"MemoryAllocationFailed");
tiff_pixels=(unsigned char *) AcquireQuantumMemory(image->columns,
  (size_t) ((bits_per_sample+7)/8)*items_in_pix);
if (tiff_pixels == (unsigned char *) NULL)
  ThrowTIFFException(ResourceLimitError,"MemoryAllocationFailed");