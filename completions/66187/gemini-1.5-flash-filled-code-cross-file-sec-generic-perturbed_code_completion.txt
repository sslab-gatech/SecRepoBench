{
					u32 charCode;
					if (i + 2 >= len) break;
					charCode = (linebuffer[i] & 0x0f) << 12;
					charCode |= (linebuffer[i + 1] & 0x3f) << 6;
					charCode |= (linebuffer[i + 2] & 0x3f);
					i += 3;
					if (charCode < 0x80) {
						if (j >= GF_ARRAY_LENGTH(szLineConv))
							break;
						szLineConv[j] = (char)charCode;
						j++;
					} else if (charCode < 0x800) {
						if (j + 1 >= GF_ARRAY_LENGTH(szLineConv))
							break;
						szLineConv[j] = 0xc0 | (charCode >> 6);
						szLineConv[j + 1] = 0x80 | (charCode & 0x3f);
						j += 2;
					} else if (charCode < 0x10000) {
						if (j + 2 >= GF_ARRAY_LENGTH(szLineConv))
							break;
						szLineConv[j] = 0xe0 | (charCode >> 12);
						szLineConv[j + 1] = 0x80 | ((charCode >> 6) & 0x3f);
						szLineConv[j + 2] = 0x80 | (charCode & 0x3f);
						j += 3;
					} else if (charCode <= 0x10FFFF) {
						if (j + 3 >= GF_ARRAY_LENGTH(szLineConv))
							break;
						szLineConv[j] = 0xf0 | (charCode >> 18);
						szLineConv[j + 1] = 0x80 | ((charCode >> 12) & 0x3f);
						szLineConv[j + 2] = 0x80 | ((charCode >> 6) & 0x3f);
						szLineConv[j + 3] = 0x80 | (charCode & 0x3f);
						j += 4;
					}
				}