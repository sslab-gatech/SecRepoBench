if (((linebuffer[i+1] & 0xc0) != 0x80) || ((linebuffer[i+2] & 0xc0) != 0x80)) {
    if (j >= GF_ARRAY_LENGTH(szLineConv))
        break;
    szLineConv[j] = linebuffer[i];
    j++;
} else {
    if (j >= GF_ARRAY_LENGTH(szLineConv))
        break;
    szLineConv[j] = linebuffer[i];
    i++;
    j++;
    if (j >= GF_ARRAY_LENGTH(szLineConv))
        break;
    szLineConv[j] = linebuffer[i];
    i++;
    j++;
    if (j >= GF_ARRAY_LENGTH(szLineConv))
        break;
    szLineConv[j] = linebuffer[i];
    j++;
}