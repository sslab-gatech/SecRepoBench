else if ( (linebuffer[i] & 0xf8) == 0xf0) {
    if (j + 1 >= GF_ARRAY_LENGTH(szLineConv) || i + 2 >= len) {
        break;
    }
    szLineConv[j] = linebuffer[i];
    szLineConv[j + 1] = linebuffer[i + 1];
    szLineConv[j + 2] = linebuffer[i + 2];
    j += 3;
    i += 2;
}