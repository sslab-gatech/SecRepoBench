static inline double ConstrainCoordinate(double coordinate)
{
  // Clip the coordinate to be within a valid range
  if (coordinate < 0.0)
    return 0.0;
  if (coordinate > (double)SSIZE_MAX)
    return (double)SSIZE_MAX;
  return coordinate;
}