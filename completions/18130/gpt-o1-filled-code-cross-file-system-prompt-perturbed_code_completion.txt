if (isnan(coordinate) || isinf(coordinate))
  coordinate=0.0;
if (coordinate < -1.0e8)
  coordinate = -1.0e8;
else if (coordinate > 1.0e8)
  coordinate = 1.0e8;