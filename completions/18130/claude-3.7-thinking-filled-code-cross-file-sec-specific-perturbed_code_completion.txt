if (coordinate != coordinate)  // Handle NaN
  return 0.0;
if (coordinate < -1.0e6)
  return -1.0e6;
if (coordinate > 1.0e6)
  return 1.0e6;