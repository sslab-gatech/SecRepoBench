if (coordinate < (double) -(SSIZE_MAX-512))
  coordinate=(double) -(SSIZE_MAX-512);
if (coordinate > (double) (SSIZE_MAX-512))
  coordinate=(double) (SSIZE_MAX-512);