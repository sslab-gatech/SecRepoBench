unsigned int glyph_count = done_lookups_glyph_count->get (indexlookup);
    hb_set_t *glyph_set = done_lookups_glyph_set->get (indexlookup);

    if (glyph_count == 0) {
      done_lookups_glyph_count->set (indexlookup, parent_active_glyphs ()->get_population ());
      if (glyph_set == NULL) {
        glyph_set = hb_set_create ();
        done_lookups_glyph_set->set (indexlookup, glyph_set);
      } else {
        hb_set_clear (glyph_set);
      }
    }

    hb_set_t *covered_glyph_set = hb_set_create ();
    hb_set_union (covered_glyph_set, glyph_set);

    if (hb_set_is_subset (parent_active_glyphs (), covered_glyph_set)) {
      hb_set_destroy (covered_glyph_set);
      return true;
    }
    hb_set_destroy (covered_glyph_set);