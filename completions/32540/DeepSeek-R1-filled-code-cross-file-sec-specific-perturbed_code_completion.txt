if (indexlookup >= done_lookups_glyph_count->length)
{
  if (!done_lookups_glyph_count->resize(indexlookup + 1))
    return true;
}
if (indexlookup >= done_lookups_glyph_set->length)
{
  if (!done_lookups_glyph_set->resize(indexlookup + 1))
    return true;
}

unsigned int& current_count = done_lookups_glyph_count->arrayZ[indexlookup];
hb_set_t*& covered_set = done_lookups_glyph_set->arrayZ[indexlookup];

if (current_count == 0)
{
  if (!covered_set)
    covered_set = hb_set_create();
  else
    hb_set_clear(covered_set);
  current_count = hb_set_get_population(parent_active_glyphs());
}

if (hb_set_is_subset(parent_active_glyphs(), covered_set))
  return true;