if (indexlookup >= done_lookups_glyph_count->length)
      if (!done_lookups_glyph_count->resize (indexlookup + 1))
        return true;

    unsigned int &glyph_count = done_lookups_glyph_count->arrayZ[indexlookup];
    if (!glyph_count)
    {
      if (indexlookup >= done_lookups_glyph_set->length)
        if (!done_lookups_glyph_set->resize (indexlookup + 1))
          return true;

      hb_set_t*& glyph_set = done_lookups_glyph_set->arrayZ[indexlookup];
      if (!glyph_set)
      {
        glyph_set = hb_set_create ();
        if (unlikely (!glyph_set))
          return true;
      }
      hb_set_clear (glyph_set);
    }
    glyph_count++;

    hb_set_t* covered_glyph_set = done_lookups_glyph_set->arrayZ[indexlookup];
    hb_set_t* parent_glyphs = parent_active_glyphs ();

    if (hb_set_is_subset (parent_glyphs, covered_glyph_set))
      return true;