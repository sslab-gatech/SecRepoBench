if (indexlookup >= done_lookups_glyph_count->length)
  done_lookups_glyph_count->resize (indexlookup + 1);
if (indexlookup >= done_lookups_glyph_set->length)
  done_lookups_glyph_set->resize (indexlookup + 1);

unsigned int &count_ref = done_lookups_glyph_count->arrayZ[indexlookup];
hb_set_t *&set_ref = done_lookups_glyph_set->arrayZ[indexlookup];

unsigned int current_count = hb_set_get_population (parent_active_glyphs ());
if (current_count > count_ref)
{
  count_ref = current_count;
  if (!set_ref)
    set_ref = hb_set_create ();
  hb_set_union (set_ref, parent_active_glyphs ());
}

if (set_ref && hb_set_is_subset (parent_active_glyphs (), set_ref))
  return true;