unsigned current_glyph_count = parent_active_glyphs().get_population();
if (done_lookups_glyph_count->get(indexlookup) != current_glyph_count)
{
    done_lookups_glyph_count->set(indexlookup, current_glyph_count);
    hb_set_t* lookup_set = done_lookups_glyph_set->get(indexlookup);
    if (!lookup_set)
    {
        lookup_set = hb_set_create();
        done_lookups_glyph_set->set(indexlookup, lookup_set);
    }
    else
        hb_set_clear(lookup_set);
}

hb_set_t* covered_glyph_set = done_lookups_glyph_set->get(indexlookup);
if (hb_set_is_subset(parent_active_glyphs(), covered_glyph_set))
    return true;