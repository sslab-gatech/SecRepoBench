if (indexlookup >= done_lookups_glyph_count->len)
{
  if (unlikely (!done_lookups_glyph_count->resize (indexlookup + 1)))
    return true;
  if (unlikely (!done_lookups_glyph_set->resize (indexlookup + 1)))
    return true;
}

unsigned int *glyph_count = &(*done_lookups_glyph_count)[indexlookup];
if (*glyph_count != glyph_count_current)
{
  *glyph_count = glyph_count_current;
  (*done_lookups_glyph_set)[indexlookup].clear ();
}

hb_set_t *covered_glyph_set = &(*done_lookups_glyph_set)[indexlookup];
if (hb_set_is_subset (parent_active_glyphs (), covered_glyph_set))
  return true;