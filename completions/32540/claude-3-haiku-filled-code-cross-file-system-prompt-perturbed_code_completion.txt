// Check if the current set of glyphs for the given lookup index has already been processed.
// If not, update the glyph count for this lookup index and ensure the glyph set is initialized
// and cleared as needed. Then, obtain the glyph set associated with the lookup index.
// Determine if the parent active glyphs are a subset of the obtained glyph set.
// If they are a subset, return true to indicate the lookup is done; otherwise, return false.
if (!done_lookups_glyph_count->get (indexlookup))
{
  done_lookups_glyph_count->set (indexlookup, 0);
  if (!done_lookups_glyph_set->resize (indexlookup + 1))
    return true;
  done_lookups_glyph_set->clear (indexlookup);
}

hb_set_t* lookup_glyph_set = done_lookups_glyph_set->get (indexlookup);
if (hb_set_is_subset (parent_active_glyphs (), lookup_glyph_set))
  return true;

done_lookups_glyph_count->inc (indexlookup);
hb_set_union (lookup_glyph_set, parent_active_glyphs ());