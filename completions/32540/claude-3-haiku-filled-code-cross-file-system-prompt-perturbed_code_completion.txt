if (!done_lookups_glyph_count->has (indexlookup))
{
  done_lookups_glyph_count->set (indexlookup, 0);
  done_lookups_glyph_set->set (indexlookup, hb_set_create ());
}

hb_set_t *glyph_set = done_lookups_glyph_set->get (indexlookup);
if (hb_set_is_subset (parent_active_glyphs (), glyph_set))
{
  return true;
}
else
{
  done_lookups_glyph_count->inc (indexlookup);
  hb_set_union (glyph_set, parent_active_glyphs ());
  return false;
}