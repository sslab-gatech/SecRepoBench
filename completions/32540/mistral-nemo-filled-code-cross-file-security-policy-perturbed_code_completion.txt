if (lookup_index >= done_lookups_glyph_count->size() || lookup_index >= done_lookups_glyph_set->size()) {
  return false;
}

if (!done_lookups_glyph_count->exists(lookup_index) || !done_lookups_glyph_set->exists(lookup_index)) {
  done_lookups_glyph_count->set(lookup_index, 0);
  done_lookups_glyph_set->set(lookup_index, hb_set_t());
}

hb_set_t* glyph_set = done_lookups_glyph_set->get(lookup_index);
hb_set_union (covered_glyph_set, parent_active_glyphs ());
return hb_set_contains(glyph_set, covered_glyph_set);