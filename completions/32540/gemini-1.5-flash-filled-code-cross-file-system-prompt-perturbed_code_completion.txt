hb_set_t *glyph_set = done_lookups_glyph_set->get_glyph_set (indexlookup);
    if (glyph_set == nullptr) {
      done_lookups_glyph_count->set (indexlookup, 0);
      glyph_set = hb_set_create ();
      done_lookups_glyph_set->set_glyph_set (indexlookup, glyph_set);
      hb_set_clear (glyph_set);
    }

    bool subset = hb_set_is_subset (parent_active_glyphs (), glyph_set);
    if (subset)
      return true;

    unsigned int count = done_lookups_glyph_count->get (indexlookup);
    done_lookups_glyph_count->set (indexlookup, count + 1);
    hb_set_add (glyph_set, parent_active_glyphs ());