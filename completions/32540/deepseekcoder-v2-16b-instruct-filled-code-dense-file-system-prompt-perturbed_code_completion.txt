if (is_lookup_visited (indexlookup))
      return true;

    if (!done_lookups_glyph_set->has (indexlookup))
    {
      done_lookups_glyph_set->add (indexlookup);
      hb_set_clear (covered_glyph_set);
      hb_set_addn (covered_glyph_set, parent_active_glyphs (), parent_active_glyphs_count);

      if (hb_set_is_subset (parent_active_glyphs, covered_glyph_set))
        return true;
    }

    return false;