if (indexlookup >= done_lookups_glyph_count->get_length() ||
    indexlookup >= done_lookups_glyph_set->get_length())
  return true;

if (done_lookups_glyph_count->get (indexlookup) != parent_active_glyphs()->get_population ())
{
  done_lookups_glyph_count->set (indexlookup, parent_active_glyphs()->get_population ());
  done_lookups_glyph_set->clear (indexlookup);
}

hb_set_t *covered_glyph_set = done_lookups_glyph_set->get (indexlookup);
if (hb_set_is_subset (parent_active_glyphs (), covered_glyph_set))
  return true;