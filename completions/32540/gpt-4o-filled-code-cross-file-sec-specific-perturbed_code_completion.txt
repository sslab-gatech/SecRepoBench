if (indexlookup >= done_lookups_glyph_count->length)
    {
      if (!done_lookups_glyph_count->resize(indexlookup + 1))
        return true; // If resizing fails, assume lookup is done to prevent out-of-bounds access
    }

    if (done_lookups_glyph_count->arrayZ[indexlookup] == 0)
    {
      done_lookups_glyph_count->arrayZ[indexlookup] = parent_active_glyphs()->get_population();
      done_lookups_glyph_set->clear();
    }

    hb_set_t *glyph_set = done_lookups_glyph_set->get(indexlookup);
    if (glyph_set == nullptr)
    {
      glyph_set = hb_set_create();
      done_lookups_glyph_set->set(indexlookup, glyph_set);
    }

    if (hb_set_is_subset(parent_active_glyphs(), glyph_set))
      return true;