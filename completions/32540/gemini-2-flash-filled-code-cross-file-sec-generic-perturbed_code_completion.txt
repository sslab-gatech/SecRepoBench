unsigned int glyph_count = done_lookups_glyph_count->get (indexlookup);
    if (!glyph_count)
    {
      done_lookups_glyph_count->set (indexlookup, hb_set_get_population (parent_active_glyphs ()));
      hb_set_t *glyph_set = done_lookups_glyph_set->get (indexlookup);
      if (!glyph_set)
      {
        glyph_set = hb_set_create ();
        if (unlikely (!glyph_set))
          return true;
        done_lookups_glyph_set->set (indexlookup, glyph_set);
      }
      else
        hb_set_clear (glyph_set);
      hb_set_copy (glyph_set, parent_active_glyphs ());
    }
    else
    {
      hb_set_t *glyph_set = done_lookups_glyph_set->get (indexlookup);
      if (unlikely (!glyph_set))
        return true;

      if (hb_set_is_subset (parent_active_glyphs (), glyph_set))
        return true;
    }