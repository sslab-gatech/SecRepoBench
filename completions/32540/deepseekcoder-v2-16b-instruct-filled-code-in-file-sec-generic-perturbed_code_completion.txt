Count - 1 : 0, input,
		 lookup_context.funcs.collect, lookup_context.collect_data);
}

static inline bool context_apply_lookup (hb_ot_apply_context_t *c,
					 unsigned int inputCount, /* Including the first glyph (not matched) */
					 const HBUINT16 input[], /* Array of input values--start with second glyph */
					 unsigned int lookupCount,
					 const LookupRecord lookupRecord[],
					 unsigned int match_length,
					 ContextApplyLookupContext &lookup_context)
{
  unsigned int match_positions[HB_MAX_CONTEXT_LENGTH];
  if (!match_input (c,
		    inputCount, input,
		    lookup_context.funcs.match,
		    lookup_context.match_data,
		    &match_length,
		    match_positions))
    return false;

  return apply_lookup (c,
		       inputCount, match_positions,
		       lookupCount, lookupRecord,
		       match_length);
}