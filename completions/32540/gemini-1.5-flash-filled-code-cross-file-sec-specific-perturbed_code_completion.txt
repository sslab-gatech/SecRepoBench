hb_set_t *glyph_set = get_glyph_set (indexlookup);
    if (glyph_set == NULL)
      return true;

    unsigned int count = done_lookups_glyph_count->get (indexlookup);
    if (count == 0) {
      done_lookups_glyph_count->set (indexlookup, 1);
      hb_set_clear (glyph_set);
    } else {
      return true;
    }

    hb_set_t *covered_glyph_set = get_covered_glyph_set (indexlookup);
    if (covered_glyph_set == NULL)
      return true;

    hb_set_union (covered_glyph_set, glyph_set);

    if (hb_set_is_subset (parent_active_glyphs (), covered_glyph_set))
      return true;