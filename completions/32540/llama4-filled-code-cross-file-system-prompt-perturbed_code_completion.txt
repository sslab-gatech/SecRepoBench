if (indexlookup >= done_lookups_glyph_count->length)
      done_lookups_glyph_count->resize (indexlookup + 1);

    if (indexlookup >= done_lookups_glyph_set->length)
    {
      if (!done_lookups_glyph_set->resize (indexlookup + 1))
        return true; // OOM, give up

      hb_set_t *glyph_set = &done_lookups_glyph_set->arrayZ[indexlookup];
      glyph_set->clear ();
    }

    unsigned int glyph_count = (*done_lookups_glyph_count)[indexlookup];
    hb_set_t *glyph_set = &done_lookups_glyph_set->arrayZ[indexlookup];

    if (glyph_count == 0)
    {
      glyph_set->add_range (parent_active_glyphs ()->get_min (), parent_active_glyphs ()->get_max ());
      (*done_lookups_glyph_count)[indexlookup] = glyph_count = parent_active_glyphs ()->get_population ();
    }

    if (glyph_count == parent_active_glyphs ()->get_population () &&
        glyph_set->is_subset (parent_active_glyphs ()))
      return true;