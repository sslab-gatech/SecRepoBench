if (indexlookup >= done_lookups_glyph_count->length)
  return false;

hb_set_t *glyph_set = done_lookups_glyph_set->operator[] (indexlookup);
if (!glyph_set)
{
  glyph_set = hb_set_create ();
  if (!glyph_set)
    return false;
  done_lookups_glyph_set->add (glyph_set);
}

hb_set_clear (glyph_set);

hb_set_t *active_glyphs = parent_active_glyphs ();
if (!active_glyphs)
  return false;

hb_codepoint_t glyph;
hb_set_foreach (active_glyphs, glyph)
{
  hb_set_add (glyph_set, glyph);
}

return hb_set_is_subset (parent_active_glyphs (), glyph_set);