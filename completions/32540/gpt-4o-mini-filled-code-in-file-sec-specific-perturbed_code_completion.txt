if (done_lookups_glyph_count->has (indexlookup))
      return true;

    unsigned glyph_count = done_lookups_glyph_count->get (indexlookup);
    done_lookups_glyph_count->set (indexlookup, glyph_count + 1);

    hb_set_t *current_glyph_set = done_lookups_glyph_set->get (indexlookup);
    if (!current_glyph_set)
    {
      current_glyph_set = hb_set_create ();
      done_lookups_glyph_set->set (indexlookup, current_glyph_set);
    }

    hb_set_union (current_glyph_set, parent_active_glyphs ());
    if (hb_set_is_subset (current_glyph_set, glyphs))
      return true;