// Check if the current set of glyphs for the given lookup index has already been processed.
if (!done_lookups_glyph_set->has (indexlookup))
{
  // Update the glyph count for this lookup index and ensure the glyph set is initialized and cleared as needed.
  done_lookups_glyph_count->inc (indexlookup);
  if (!done_lookups_glyph_set->resize (indexlookup + 1))
    return true; // Error occurred, return true to indicate the lookup is done.
  done_lookups_glyph_set->clear (indexlookup);

  // Obtain the glyph set associated with the lookup index.
  hb_set_t* lookup_glyph_set = done_lookups_glyph_set->get (indexlookup);

  // Determine if the parent active glyphs are a subset of the obtained glyph set.
  hb_set_t* parent_glyphs = parent_active_glyphs ();
  if (hb_set_is_subset (parent_glyphs, lookup_glyph_set))
    return true; // The parent active glyphs are a subset, so the lookup is done.

  // Add the parent active glyphs to the lookup glyph set.
  hb_set_union (lookup_glyph_set, parent_glyphs);
}

// The lookup is not done, return false.
return false;