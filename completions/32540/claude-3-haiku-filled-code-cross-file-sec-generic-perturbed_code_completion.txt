if (!done_lookups_glyph_count->has (indexlookup))
{
    done_lookups_glyph_count->add (indexlookup);
    done_lookups_glyph_set->clear ();
}

hb_set_t* glyph_set = done_lookups_glyph_set->get (indexlookup);
if (!glyph_set)
{
    glyph_set = hb_set_create ();
    done_lookups_glyph_set->set (indexlookup, glyph_set);
}

hb_set_union (glyph_set, parent_active_glyphs ());
return hb_set_is_subset (parent_active_glyphs (), glyph_set);