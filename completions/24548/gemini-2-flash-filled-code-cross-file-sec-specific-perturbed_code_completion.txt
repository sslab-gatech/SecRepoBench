unsigned tail_length = c->tail - init_tail;
    unsigned table_length = c->length () - initial_table_position;

    if (table_length > 0xFFFF)
    {
      c->report_error (HB_SERIALIZE_ERROR_INVALID_INPUT);
      c->reset (snap);
      return;
    }

    if (tail_length > 0x7FFF)
    {
      c->report_error (HB_SERIALIZE_ERROR_INVALID_INPUT);
      c->reset (snap);
      return;
    }

    uint32_t* length_ptr = (uint32_t*) (c->base + initial_table_position + offsetof (CmapSubtableFormat14, length));
    *length_ptr = table_length;

    uint32_t* numVarSelectorRecords_ptr = (uint32_t*) (c->base + initial_table_position + offsetof (CmapSubtableFormat14, numVarSelectorRecords));
    *numVarSelectorRecords_ptr = src_tbl->record.len;

    this->length = table_length;
    this->numVarSelectorRecords = src_tbl->record.len;