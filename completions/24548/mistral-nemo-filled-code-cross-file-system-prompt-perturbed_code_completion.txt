// Calculate the tail length and update the length and record length fields
    // with the appropriate values based on the current context length and offsets.
    unsigned tail_length = c->length() - initial_table_position;
    src_tbl->length = tail_length;
    src_tbl->record.len = obj_indices.size();
    for (size_t i = 0; i < obj_indices.size(); ++i)
    {
      src_tbl->record[i].offset = obj_indices[i].second;
    }