// Calculate the tail length and update the length and record length fields
    // with the appropriate values based on the current context length and offsets.
    unsigned tail_length = c->tail - init_tail;
    c->length (initial_table_position + tail_length);
    this->length = c->length () - initial_table_position;
    this->record_length = obj_indices.len;

    // Reverse the order of the written variation selector records
    _reverse_variation_records ();

    /* Now that records are in the right order, we can set up the offsets. */
    _add_links_to_variation_records (c, obj_indices);