unsigned int numBlends = interp_env.pop_arg ().to_int ();
    unsigned int valueIndex = interp_env.pop_arg ().to_int ();
    unsigned int numValues = interp_env.pop_arg ().to_int ();

    if (unlikely (!numValues || !numBlends))
    {
      interp_env.set_error ();
      return;
    }

    interp_env.process_blend ();
    unsigned int region_count = interp_env.get_region_count ();

    if (unlikely (numBlends < region_count))
    {
      interp_env.set_error ();
      return;
    }

    unsigned int num_args = interp_env.argStack.get_count ();
    unsigned int num_base_values = num_args - numValues * numBlends;
    if (unlikely (num_base_values > numValues))
    {
      interp_env.set_error ();
      return;
    }

    for (unsigned int i = 0; i < numValues; i++)
    {
      unsigned int  j = num_base_values + i;
      if (j < numValues)
      {
	BlendArg  *blend = &interp_env.argStack[num_args - numValues * numBlends + i];
	blend->set_blends (numValues, valueIndex + i, numBlends,
			    &interp_env.argStack[num_args - numValues * numBlends + numValues + i * numBlends]);
      }
    }
    interp_env.argStack.resize (num_args - numValues * numBlends + numValues);