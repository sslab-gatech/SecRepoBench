unsigned int region_count = env.argStack.pop_uint ();
unsigned int num_values = env.argStack.pop_uint ();
unsigned int total_values = region_count * num_values;

if (unlikely (env.argStack.get_count () < total_values))
  return;

for (unsigned int i = 0; i < num_values; i++)
{
  env.blendValues[i] = env.argStack[i];
  for (unsigned int j = 1; j < region_count; j++)
    env.blendValues[i] += env.argStack[j * num_values + i] * env.regionIndices[j - 1];
}

env.argStack.pop (total_values);