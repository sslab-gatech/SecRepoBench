int num_regions = interp_env.argStack.pop_num();
int value_count = interp_env.argStack.pop_num();
size_t total_blend_values = num_regions * value_count;

if (num_regions < 0 || value_count < 0 || total_blend_values > interp_env.argStack.size())
    throw std::runtime_error("Invalid blend configuration");

if (total_blend_values > param.blendArray.capacity() - param.blendArray.size())
    throw std::runtime_error("Blend array overflow");

for (size_t i = 0; i < total_blend_values; ++i) {
    param.blendArray.push_back(interp_env.argStack.pop_num());
}