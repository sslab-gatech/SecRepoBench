unsigned int n_regions = interp_env.get_region_count();
if (n_regions == 0) return;

unsigned int n = param.pop_num();
if (n == 0 || n > interp_env.argStack.get_count()) return;

unsigned int num_values = n * (n_regions + 1);
if (num_values > interp_env.argStack.get_count()) return;

hb_array_t<blend_arg_t> blends = interp_env.blendArg.as_array(n);
for (unsigned int i = 0; i < n; i++)
{
  hb_array_t<const blend_arg_t> values = interp_env.argStack.sub_array(num_values - (n - i) * (n_regions + 1), n_regions + 1);
  blends[i].set_default(values[0]);
  for (unsigned int j = 0; j < n_regions; j++)
    blends[i].set_delta(j, values[j + 1]);
}

interp_env.argStack.pop(num_values - n);