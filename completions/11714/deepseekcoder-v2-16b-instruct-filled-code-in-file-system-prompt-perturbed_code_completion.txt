unsigned int count = env.argStack.pop_uint();
    unsigned int valueIndex = env.argStack.pop_uint();
    unsigned int numBlends = env.argStack.pop_uint();

    if (numBlends > count) {
        env.set_error();
        break;
    }

    hb_vector_t<BlendArg> blendArray(numBlends);
    for (unsigned int i = 0; i < numBlends; i++) {
        blendArray[i] = env.argStack.pop();
        if (blendArray[i].blending()) {
            env.set_error();
            break;
        }
    }

    if (env.has_error()) {
        break;
    }

    for (unsigned int i = 0; i < numBlends; i++) {
        env.varStore->varStore.set_blend_value(valueIndex, blendArray[i].to_real());
    }

    for (unsigned int i = 0; i < numBlends; i++) {
        env.argStack.push(blendArray[i]);
    }