unsigned int num_regions = env.get_region_count();
    unsigned int num_values = env.argStack.pop_num ();
    unsigned int total_blend = num_regions * num_values;

    if (unlikely (env.argStack.get_count () < total_blend + num_values))
    {
      env.set_error ();
      return;
    }

    for (unsigned int i = 0; i < total_blend; i++)
      param.blendValues.push (env.argStack.pop_num ());

    for (unsigned int i = 0; i < num_values; i++)
    {
      double defaultVal = env.argStack.pop_num ();
      for (unsigned int j = 0; j < num_regions; j++)
        defaultVal += param.blendValues[j * num_values + i] * env.get_blend_weight (j);
      env.argStack.push (defaultVal);
    }