{
    // Assume that 'param.blendCount' holds the number of blend values
    // and that 'param.argStack' supports 'size()', element access via operator[],
    // and 'remove_top(n)' to remove the top n elements.
    unsigned int blendCount = param.blendCount;

    // Limit the blend count to the capacity of the blend array.
    const unsigned int maxBlends = sizeof(interp_env.blend) / sizeof(interp_env.blend[0]);
    if (blendCount > maxBlends)
    {
        blendCount = maxBlends;
    }

    // Ensure that there are enough values on the argument stack.
    if (param.argStack.size() < blendCount)
    {
        blendCount = static_cast<unsigned int>(param.argStack.size());
    }

    // Securely transfer the blend values from the argument stack into the blend array.
    for (unsigned int i = 0; i < blendCount; ++i)
    {
        interp_env.blend[i] = param.argStack[i];
    }

    // Remove the blend values from the argument stack, leaving default values intact.
    param.argStack.remove_top(blendCount);
}