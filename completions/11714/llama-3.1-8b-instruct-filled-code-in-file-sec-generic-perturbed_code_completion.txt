static inline void process_blend (CFF2CSInterpEnv &interp_env, PARAM& param)
{
  // Process blending operations within the environment and parameter context.
  // Retrieve the count of regions and a numeric value from the argument stack.
  unsigned int region_count = interp_env.get_region_count ();
  unsigned int value_index = interp_env.argStack.pop_uint ();

  // Transfer blend values from the argument stack to a blend array associated
  // with default values, based on the retrieved counts.
  unsigned int num_values = interp_env.argStack.pop_uint ();
  unsigned int num_blends = interp_env.argStack.pop_uint ();
  const BlendArg *blends = reinterpret_cast<const BlendArg*>(interp_env.argStack.pop_ptr ());

  interp_env.set_region_count (region_count);
  interp_env.set_ivs (value_index);
  interp_env.scalars.resize (region_count);
  for (unsigned int i = 0; i < num_blends; i++)
  {
    interp_env.blend_arg (blends[i]);
    interp_env.scalars[i] = blends[i].to_real ();
  }

  // Remove the blend values from the argument stack, leaving only the default
  // values with their blend modifications applied.
  interp_env.argStack.pop_n (num_blends + 2);
}