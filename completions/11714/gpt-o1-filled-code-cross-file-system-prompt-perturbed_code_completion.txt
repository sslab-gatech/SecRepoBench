{
  // Retrieve the number of regions from the top of the argument stack.
  int nRegions = (int)interp_env.argStack.pop ();

  // Based on the remaining stack size, determine how many default values (k) there are.
  // Each default value on the stack is followed by nRegions blend deltas, so total
  // arguments for k default values is k * (nRegions + 1).
  int totalArgs = (int)interp_env.argStack.size ();
  int k = totalArgs / (nRegions + 1);
  if (k * (nRegions + 1) != totalArgs || k <= 0)
    return; // Malformed stack or nothing to blend.

  // Reserve an array to hold the final blended values of those k defaults.
  hb_vector_t<float> blendedVal (k);

  // Pop off the blend data in reverse order so that the final defaults remain
  // in the original stack order after we finish.
  for (int i = k - 1; i >= 0; i--)
  {
    // The first popped value in each group is the base (default) value.
    float baseVal = interp_env.argStack.pop ();

    // Pop and discard region deltas from the stack (or apply them if needed).
    for (int r = 0; r < nRegions; r++)
      (void)interp_env.argStack.pop (); // This is where you'd apply or store the delta if doing a full blend.

    // Store the (potentially processed) default value so it can be pushed again.
    blendedVal[i] = baseVal;
  }

  // Now that we've removed the blend data, push the k default values back on the stack.
  for (int i = 0; i < k; i++)
    interp_env.argStack.push (blendedVal[i]);
}