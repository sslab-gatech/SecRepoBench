unsigned int n = interp_env.get_region_count();
if (unlikely(interp_env.argStack.get_count() < n + 1)) {
  interp_env.set_error();
  return;
}

unsigned int num_values = interp_env.argStack.pop_uint();
if (unlikely(num_values == 0 || interp_env.argStack.get_count() < num_values * (n + 1))) {
  interp_env.set_error();
  return;
}

interp_env.process_blend();

for (unsigned int i = 0; i < num_values; i++) {
  const unsigned int stack_top = interp_env.argStack.get_count() - num_values + i;
  BlendArg& arg = interp_env.argStack[stack_top];
  arg.set_blends(num_values, i, n, &interp_env.argStack[stack_top + num_values]);
}

interp_env.argStack.pop(num_values * n);