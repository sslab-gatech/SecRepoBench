unsigned int n_regions = interp_env.get_region_count();
if (n_regions == 0)
  return;

unsigned int n = param.argStack.pop_uint();
if (n == 0 || n > param.argStack.get_count())
  return;

unsigned int num_values = n * (n_regions + 1);
if (num_values > param.argStack.get_count())
  return;

hb_array_t<const blend_arg_t> blends = param.argStack.sub_array(param.argStack.get_count() - num_values, num_values);
hb_array_t<blend_arg_t> default_values = param.argStack.sub_array(param.argStack.get_count() - num_values, n);

for (unsigned int i = 0; i < n; i++)
{
  default_values[i].set_int(default_values[i].to_int() + interp_env.normalizedCoords.dot(blends.sub_array((n_regions + 1) * i + 1, n_regions)));
}

param.argStack.pop(num_values);