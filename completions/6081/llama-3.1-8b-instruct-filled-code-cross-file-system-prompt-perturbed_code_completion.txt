// <MASK>
  for (xml[length]='\0'; xml!= (char *) NULL; )
  {
    if (xml[0] == '<')
      {
        if (xml[1] == '!')
          {
            if (xml[2] == '-')
              {
                ParseComment(root,xml+3,exception);
                xml=ParseCharacterContent(root,xml+6,length-6,0);
              }
            else
              {
                ParsePI(root,xml+2,exception);
                xml=ParseCharacterContent(root,xml+6,length-6,0);
              }
          }
        else
          {
            if (xml[1] == '/')
              {
                xml=ParseCloseTag(root,xml+2,exception);
              }
            else
              {
                xml=ParseOpenTag(root,xml+1,attributes);
                xml=ParseCharacterContent(root,xml,length,0);
              }
          }
      }
    else
      {
        xml=ParseCharacterContent(root,xml,length,0);
      }
  }
  return(MagickTrue);
}