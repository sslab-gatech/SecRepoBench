static const uint8_t huff_table[4][16] = {
        { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
        { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
        { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
        { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }
    };

    for (int i = 0; i < 4; i++) {
        int nb_codes = huff_table[i][0]; // Get the number of codes for this table
        if (nb_codes > 256) {
            av_log(mjpegdecodecontext->avctx, AV_LOG_ERROR, "Too many Huffman codes: %d\n", nb_codes);
            return AVERROR_INVALIDDATA;
        }
        
        // Initialize VLC for this Huffman table
        if (build_vlc(&mjpegdecodecontext->vlcs[0][i], huff_table[i], NULL, nb_codes, 0, 0) < 0) {
            av_log(mjpegdecodecontext->avctx, AV_LOG_ERROR, "Failed to build VLC for Huffman table %d\n", i);
            return AVERROR_INVALIDDATA;
        }
    }