static const struct {
        int class;
        int index;
        const uint8_t *bits;
        const uint8_t *vals;
    } ht[] = {
        { 0, 0, avpriv_mjpeg_bits_dc_luminance, avpriv_mjpeg_val_dc },
        { 0, 1, avpriv_mjpeg_bits_dc_chrominance, avpriv_mjpeg_val_dc },
        { 1, 0, avpriv_mjpeg_bits_ac_luminance, avpriv_mjpeg_val_ac_luminance },
        { 1, 1, avpriv_mjpeg_bits_ac_chrominance, avpriv_mjpeg_val_ac_chrominance },
    };
    int i, ret;

    for (i = 0; i < FF_ARRAY_ELEMS(ht); i++) {
        if ((ret = build_vlc(&mjpegdecodecontext->vlcs[ht[i].class][ht[i].index],
                             ht[i].bits, ht[i].vals, 162, 0, ht[i].class)) < 0)
            return ret;

        if (ht[i].class < 2) {
            memcpy(mjpegdecodecontext->raw_huffman_lengths[ht[i].class][ht[i].index],
                   ht[i].bits + 1, 16);
            memcpy(mjpegdecodecontext->raw_huffman_values[ht[i].class][ht[i].index],
                   ht[i].vals, 162);
        }
    }