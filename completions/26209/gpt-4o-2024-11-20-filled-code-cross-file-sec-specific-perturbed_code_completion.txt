// Define the default Huffman tables for MJPEG decoding
    static const struct {
        uint8_t class;
        uint8_t index;
        const uint8_t *bits;
        const uint8_t *values;
    } ht[] = {
        { 0, 0, bits_dc_luminance, values_dc_luminance },
        { 0, 1, bits_dc_chrominance, values_dc_chrominance },
        { 1, 0, bits_ac_luminance, values_ac_luminance },
        { 1, 1, bits_ac_chrominance, values_ac_chrominance },
    };

    for (int i = 0; i < 4; i++) {
        VLC *vlc = &mjpegdecodecontext->vlcs[ht[i].class][ht[i].index];
        int ret = build_vlc(vlc, 16, 256, ht[i].bits + 1, 1, 1, ht[i].values, 1, 1, 0);
        if (ret < 0) {
            av_log(NULL, AV_LOG_ERROR, "Failed to build VLC table for Huffman class %d index %d\n", ht[i].class, ht[i].index);
            return ret;
        }

        if (ht[i].class < 2) {
            memcpy(mjpegdecodecontext->raw_huffman_lengths[ht[i].class][ht[i].index], ht[i].bits, 16);
            memcpy(mjpegdecodecontext->raw_huffman_values[ht[i].class][ht[i].index], ht[i].values, 256);
        }
    }