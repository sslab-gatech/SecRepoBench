for (int i = 0; i < 4; i++) {
    for (int j = 0; j < 2; j++) {
        if (build_vlc(&mjpegdecodecontext->vlcs[i][j], mjpegdecodecontext->ht[i][j].table,
                      mjpegdecodecontext->ht[i][j].bits, mjpegdecodecontext->ht[i][j].codes,
                      mjpegdecodecontext->ht[i][j].val, 16, 1, 1, 1, 1, 1, 1, 1) < 0) {
            return -1;
        }
        if (mjpegdecodecontext->ht[i][j].class < 2) {
            for (int k = 0; k < 16; k++) {
                mjpegdecodecontext->raw_huff_codes[i][j][k] = mjpegdecodecontext->ht[i][j].bits[k];
                mjpegdecodecontext->raw_huff_values[i][j][k] = mjpegdecodecontext->ht[i][j].val[k];
            }
        }
    }
}