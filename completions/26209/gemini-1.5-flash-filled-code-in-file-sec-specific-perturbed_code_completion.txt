int i;
    for (i = 0; i < 4; i++) {
        int j;
        for (j = 0; j < 4; j++) {
            int class = ht[i * 4 + j].class;
            int index = ht[i * 4 + j].index;
            if (build_vlc(&mjpegdecodecontext->vlcs[class][index],
                           ht[i * 4 + j].bits, ht[i * 4 + j].values,
                           ht[i * 4 + j].nb_codes, 1, class > 0) < 0)
                return -1;
            if (class < 2) {
                memcpy(mjpegdecodecontext->raw_huffman_lengths[class][index],
                       ht[i * 4 + j].bits + 1, 16);
                memcpy(mjpegdecodecontext->raw_huffman_values[class][index],
                       ht[i * 4 + j].values, ht[i * 4 + j].nb_codes);
            }
        }
    }