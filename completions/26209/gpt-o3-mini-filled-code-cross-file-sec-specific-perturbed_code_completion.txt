{
    int i, ret;
    static const struct {
        int class;
        int id;
        /* 17 bytes: index 0 unused, then codes for lengths 1..16 */
        uint8_t bits[17];
        /* up to 256 entries, only the first few bytes are used as needed */
        uint8_t vals[256];
    } default_ht[] = {
        /* DC luminance */
        { 0, 0,
          { 0, 0x00, 0x01, 0x05, 0x01, 0x01, 0x01, 0x01,
            0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },
          { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 } },
        /* DC chrominance */
        { 0, 1,
          { 0, 0x03, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
            0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },
          { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 } },
        /* AC luminance */
        { 1, 0,
          { 0, 0x00, 0x02, 0x01, 0x03, 0x03, 0x02, 0x04,
            0x03, 0x05, 0x05, 0x04, 0x04, 0x00, 0x00, 0x01, 0x7d },
          { 0x01,0x02,0x03,0x00, 0x04,0x11,0x05,0x12,
            0x21,0x31,0x41,0x06,0x13,0x51,0x61,0x07,
            0x22,0x71,0x14,0x32,0x81,0x91,0xa1,0x08,
            0x23,0x42,0xb1,0xc1,0x15,0x52,0xd1,0xf0,
            0x24,0x33,0x62,0x72,0x82 } },
        /* AC chrominance */
        { 1, 1,
          { 0, 0x00, 0x02, 0x01, 0x02, 0x04, 0x04, 0x03,
            0x04, 0x07, 0x05, 0x04, 0x04, 0x00, 0x01, 0x02, 0x77 },
          { 0x00,0x01,0x02,0x03, 0x11,0x04,0x05,0x21,
            0x31,0x06,0x12,0x41,0x51,0x07,0x61,0x71,
            0x13,0x22,0x32,0x81,0x08,0x14,0x42,0x91,
            0xa1,0xb1,0xc1,0x09,0x23,0x33,0x52,0xf0,
            0x15,0x62 } }
    };

    for (i = 0; i < (int)(sizeof(default_ht) / sizeof(default_ht[0])); i++) {
        ret = build_vlc(&mjpegdecodecontext->vlcs[ default_ht[i].class ]
                                     [ default_ht[i].id ],
                        9, 0, default_ht[i].bits, default_ht[i].vals, 0);
        if (ret < 0)
            return ret;

        if (default_ht[i].class < 2) {
            memcpy(mjpegdecodecontext->huff_bits[default_ht[i].id],
                   default_ht[i].bits, sizeof(default_ht[i].bits));
            memcpy(mjpegdecodecontext->huff_vals[default_ht[i].id],
                   default_ht[i].vals, sizeof(default_ht[i].vals));
        }
    }
}