static const struct {
        uint8_t class;
        uint8_t index;
        uint8_t bits[16];
        uint8_t values[256];
    } ht[] = {
        // DC coefficients for luminance
        {0, 0, {0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E, 0x0F}, {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}},
        // AC coefficients for luminance
        {1, 0, {0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E, 0x0F}, {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}},
        // DC coefficients for chrominance
        {0, 1, {0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E, 0x0F}, {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}},
        // AC coefficients for chrominance
        {1, 1, {0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E, 0x0F}, {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}},
    };

    for (int i = 0; i < sizeof(ht) / sizeof(ht[0]); i++) {
        if (build_vlc(mjpegdecodecontext->vlcs[ht[i].class][ht[i].index].table, ht[i].bits, ht[i].values) < 0) {
            av_log(mjpegdecodecontext->avctx, AV_LOG_ERROR, "Failed to build VLC for class %d index %d\n", ht[i].class, ht[i].index);
            return AVERROR_UNKNOWN;
        }
    }