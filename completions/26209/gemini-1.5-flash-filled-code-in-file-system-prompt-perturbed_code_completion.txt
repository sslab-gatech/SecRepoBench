int i;
    for (i = 0; i < sizeof(ht) / sizeof(*ht); i++) {
        int ret = build_vlc(&mjpegdecodecontext->vlcs[ht[i].class][ht[i].index],
                            ht[i].bits, ht[i].values, ht[i].nb_codes, 1, ht[i].class > 0);
        if (ret < 0)
            return ret;
        if (ht[i].class < 2) {
            memcpy(mjpegdecodecontext->raw_huffman_lengths[ht[i].class][ht[i].index],
                   ht[i].bits, sizeof(ht[i].bits));
            memcpy(mjpegdecodecontext->raw_huffman_values[ht[i].class][ht[i].index],
                   ht[i].values, sizeof(ht[i].values));
        }
    }