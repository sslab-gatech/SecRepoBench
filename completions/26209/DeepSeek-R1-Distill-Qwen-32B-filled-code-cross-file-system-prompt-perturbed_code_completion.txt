static const struct {
    int class;
    int index;
    int bits;
    int value;
} ht[] = {
    /* DC coefficients */
    {0, 0, 2,  0}, {0, 1, 3,  1}, {0, 2, 4,  2}, {0, 3, 5,  3},
    {0, 4, 6,  4}, {0, 5, 7,  5}, {0, 6, 8,  6}, {0, 7, 9,  7},
    {0, 8,10,  8}, {0, 9,11,  9}, {0,10,12, 10}, {0,11,13, 11},
    {0,12,14, 12}, {0,13,15, 13}, {0,14,16, 14}, {0,15,17, 15},
    
    /* AC coefficients */
    {1, 0, 2,  0}, {1, 1, 3,  1}, {1, 2, 4,  2}, {1, 3, 5,  3},
    {1, 4, 6,  4}, {1, 5, 7,  5}, {1, 6, 8,  6}, {1, 7, 9,  7},
    {1, 8,10,  8}, {1, 9,11,  9}, {1,10,12, 10}, {1,11,13, 11},
    {1,12,14, 12}, {1,13,15, 13}, {1,14,16, 14}, {1,15,17, 15},
};

for (int i = 0; i < FF_ARRAY_ELEMS(ht); i++) {
    int class = ht[i].class;
    int index = ht[i].index;
    int bits  = ht[i].bits;
    int value = ht[i].value;
    
    if (build_vlc(&mjpegdecodecontext->vlcs[class][index], bits, 1) < 0) {
        return -1;
    }
    mjpegdecodecontext->vlcs[class][index].table[0][value] = ht[i].bits;
    
    if (class < 2) {
        mjpegdecodecontext->huffman_length[class][index][value] = bits;
        mjpegdecodecontext->huffman_value[class][index][value] = value;
    }
}