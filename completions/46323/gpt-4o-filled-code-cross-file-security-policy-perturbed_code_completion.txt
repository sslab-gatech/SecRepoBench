if (copy == NULL) {
                // If the copy of the current node is NULL, skip to the next sibling or parent.
                cur = cur->next;
                if (cur == NULL) {
                    cur = insert->parent;
                    insert = insert->parent;
                }
                continue;
            } else {
                // Insert the copied node into the list of children of the parent node.
                if (insert->children == NULL) {
                    insert->children = copy;
                } else {
                    insert->last->next = copy;
                    copy->prev = insert->last;
                }
                insert->last = copy;
            }