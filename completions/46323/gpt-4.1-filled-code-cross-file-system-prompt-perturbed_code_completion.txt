if (copy != NULL) {
    if (insert->children == NULL) {
        insert->children = copy;
        insert->last = copy;
    } else {
        insert->last->next = copy;
        copy->prev = insert->last;
        insert->last = copy;
    }
    copy->parent = insert;
}