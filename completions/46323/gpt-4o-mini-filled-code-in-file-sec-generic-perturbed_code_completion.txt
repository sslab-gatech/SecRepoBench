if (copy == NULL) {
    xmlFreeNode(node);
    return(NULL);
}
copy->parent = parent;
copy->next = NULL;
copy->prev = NULL;
copy->children = NULL;
copy->last = NULL;
copy->doc = doc;
copy->type = node->type;
copy->ns = node->ns; // Copy the namespace reference

// Copy the content if it's a text node
if (node->type == XML_TEXT_NODE || node->type == XML_CDATA_SECTION_NODE) {
    copy->content = xmlStrdup(node->content);
} else {
    copy->content = NULL; // For other node types, set content to NULL
}