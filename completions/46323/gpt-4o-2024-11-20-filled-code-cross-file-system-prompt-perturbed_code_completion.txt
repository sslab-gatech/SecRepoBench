if (copy == NULL) {
                cur = cur->next;
                continue;
            }
            copy->parent = insert;
            if (insert->children == NULL) {
                insert->children = copy;
            } else {
                xmlNodePtr last = insert->children;
                while (last->next != NULL) {
                    last = last->next;
                }
                last->next = copy;
                copy->prev = last;
            }