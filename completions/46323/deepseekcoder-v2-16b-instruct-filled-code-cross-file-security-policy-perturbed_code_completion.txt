if (copy == NULL) {
    // Handle the case where the copied node is null.
    // Otherwise, insert the copied node into the list of children of the parent node.
    // <MASK>
    if (cur->next != NULL) {
        cur = cur->next;
        insert = insert->next;
    } else {
        cur = cur->parent;
        insert = insert->parent;
    }
    // </MASK>
} else {
    // Insert the copied node into the list of children of the parent node.
    // <MASK>
    if (cur->next != NULL) {
        cur = cur->next;
        insert = insert->next;
    } else {
        cur = cur->parent;
        insert = insert->parent;
    }
    // </MASK>
}