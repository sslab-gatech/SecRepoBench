if (copy == NULL) {
    continue;
}
if (copy->type == XML_ELEMENT_NODE) {
    if (cur->children != NULL) {
        copy->children = xmlStaticCopyNode(cur->children, doc, copy, 2);
        if (copy->children != NULL) {
            xmlNodePtr child = copy->children;
            while (child->next != NULL)
                child = child->next;
            copy->last = child;
        }
    }
}
if (insert == NULL) {
    insert = copy;
} else {
    insert->next = copy;
    copy->prev = insert;
    insert = copy;
}