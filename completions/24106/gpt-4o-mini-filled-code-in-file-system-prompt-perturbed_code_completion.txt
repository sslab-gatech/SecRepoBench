if (LocaleCompare(token,"pop") == 0)
              {
                (void) GetNextToken(q,&q,extent,token);
                if (LocaleCompare(token,"class") == 0)
                  break;
                if (LocaleCompare(token,"clip-path") == 0)
                  break;
                if (LocaleCompare(token,"defs") == 0)
                  {
                    defsDepth--;
                    graphic_context[graphiccontextindex]->render=defsDepth > 0 ? MagickFalse :
                      MagickTrue;
                    break;
                  }
                if (LocaleCompare(token,"gradient") == 0)
                  break;
                if (LocaleCompare(token,"graphic-context") == 0)
                  {
                    if (graphiccontextindex <= 0)
                      {
                        (void) ThrowMagickException(exception,GetMagickModule(),
                          DrawError,"UnbalancedGraphicContextPushPop","`%s'",token);
                        status=MagickFalse;
                        graphiccontextindex=0;
                        break;
                      }
                    if ((graphic_context[graphiccontextindex]->clip_mask != (char *) NULL) &&
                        (graphic_context[graphiccontextindex]->compliance != SVGCompliance))
                      if (LocaleCompare(graphic_context[graphiccontextindex]->clip_mask,
                          graphic_context[graphiccontextindex-1]->clip_mask) != 0)
                        status=SetImageMask(image,WritePixelMask,(Image *) NULL,
                          exception);
                    graphic_context[graphiccontextindex]=DestroyDrawInfo(graphic_context[graphiccontextindex]);
                    graphiccontextindex--;
                    break;
                  }
                if (LocaleCompare(token,"mask") == 0)
                  break;
                if (LocaleCompare(token,"pattern") == 0)
                  break;
                if (LocaleCompare(token,"symbol") == 0)
                  {
                    symbolDepth--;
                    graphic_context[graphiccontextindex]->render=symbolDepth > 0 ? MagickFalse :
                      MagickTrue;
                    break;
                  }
              }
            else
              {
                const char *mvg_class = (const char *) GetValueFromSplayTree(macros, token);
                if (mvg_class != (const char *) NULL)
                  {
                    char *new_primitive = (char *) AcquireQuantumMemory(strlen(mvg_class) + strlen(q) + 1, sizeof(char));
                    if (new_primitive != (char *) NULL)
                      {
                        strcpy(new_primitive, mvg_class);
                        strcat(new_primitive, q);
                        primitive = new_primitive;
                        q = primitive;
                      }
                  }
              }