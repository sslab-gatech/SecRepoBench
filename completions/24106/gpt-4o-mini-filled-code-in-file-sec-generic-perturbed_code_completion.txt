if (LocaleCompare("class",token) == 0)
            {
                (void) GetNextToken(q,&q,extent,token);
                if (*token == '\0')
                {
                    status=MagickFalse;
                    break;
                }
                // Retrieve the MVG class definition from the macros using the token.
                const char *mvg_class = (const char *) GetValueFromSplayTree(macros, token);
                if (mvg_class != (const char *) NULL)
                {
                    // Inject the class elements into the stream.
                    char *new_primitive = AcquireString(mvg_class);
                    // Concatenate the MVG class to the elements string, followed by the remaining content.
                    (void) ConcatenateString(&new_primitive, q);
                    // Free the previous primitive string and update it with the new elements.
                    primitive = DestroyString(primitive);
                    primitive = new_primitive;
                    // Adjust the stream pointer to the new position in the modified primitive.
                    q = primitive;
                }
                break;
            }