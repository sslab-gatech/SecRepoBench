{
  const char *class_id = graphic_context[graphiccontextindex]->id;
  if ((class_id != (const char *) NULL) && (LocaleCompare(class_id, token) == 0))
    break;
  mvg_class = (const char *) GetValueFromSplayTree(macros, token);
  if (mvg_class != (const char *) NULL)
  {
    char *newprimitive;
    newprimitive = ConcatenateString(mvg_class, q);
    q = newprimitive + strlen(mvg_class);
    primitive = DestroyString(primitive);
    primitive = newprimitive;
  }
}