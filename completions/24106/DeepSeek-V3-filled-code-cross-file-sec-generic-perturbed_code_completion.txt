if (LocaleCompare(token, graphic_context[graphiccontextindex]->id) == 0)
              break;
            mvg_class = (const char *) GetValueFromSplayTree(macros, token);
            if (mvg_class != (const char *) NULL)
              {
                char *elements = AcquireString(mvg_class);
                elements = ConcatenateString(elements, q);
                primitive = DestroyString(primitive);
                primitive = elements;
                q = primitive + (q - token);
              }