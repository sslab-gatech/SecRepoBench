static void LogMVGMacros(const SplayTreeInfo *macros)
{
  const char
    *key,
    *value;

  ResetSplayTreeIterator(macros);
  key=(const char *) GetNextValueInSplayTree(macros);
  while (key != (const char *) NULL)
  {
    value=(const char *) GetNextValueInSplayTree(macros);
    (void) LogMagickEvent(DrawEvent,GetMagickModule(),"  %s = %s",key,value);
    key=(const char *) GetNextValueInSplayTree(macros);
  }
}

static void InjectMVGClass(char **primitive, const SplayTreeInfo *macros, const char *token)
{
  const char
    *class_definition;

  char
    *elements,
    *p;

  // Check if the current token matches the graphic context ID
  if (LocaleCompare(token, graphic_context[graphiccontextindex]->id) == 0)
    return;

  // Retrieve the MVG class definition from the macros using the token
  class_definition = (const char *) GetValueFromSplayTree(macros, token);
  if (class_definition == (const char *) NULL)
    return;

  // Inject the class elements into the stream
  elements = AcquireString(class_definition);
  p = *primitive;
  *primitive = ConcatenateString(&elements, p);
  p = DestroyString(p);

  // Adjust the stream pointer to the new position in the modified primitive
  q = primitive;
  while (*q != '\0')
    q++;
}