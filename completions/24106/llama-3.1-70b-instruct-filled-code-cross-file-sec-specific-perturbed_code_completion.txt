if (LocaleCompare("class",keyword) == 0)
{
    const char
      *mvg_class;

    (void) GetNextToken(q,&q,extent,token);
    if (*token == '\0')
    {
        status=MagickFalse;
        break;
    }
    // Check if the current token matches the graphic context ID, break if true.
    if (LocaleCompare(token, graphic_context[graphiccontextindex]->id) == 0)
    {
        break;
    }
    // Retrieve the MVG class definition from the macros using the token.
    mvg_class = (const char *) GetValueFromSplayTree(macros, token);
    if (mvg_class == (const char *) NULL)
    {
        status=MagickFalse;
        break;
    }
    // If the class definition is found,
    // inject the class elements into the stream.
    (void) CopyMagickString(token, mvg_class, (size_t) (q - mvg_class));
    // Concatenate the MVG class to the elements string, followed by the remaining content.
    (void) ConcatenateMagickString(token, q, (size_t) (strlen(token) + strlen(q)));
    // Free the previous primitive string and update it with the new elements.
    primitive = DestroyString(primitive);
    primitive = AcquireString(token);
    // Adjust the stream pointer to the new position in the modified primitive.
    q = token + strlen(token);
    break;
}