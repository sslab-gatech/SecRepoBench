if (LocaleCompare(token,graphic_context[graphiccontextindex]->id) == 0)
                  break;
                mvg_class=(const char *) GetValueFromSplayTree(macros,token);
                if (mvg_class != (const char *) NULL)
                  {
                    char
                      *elements;

                    elements=AcquireString(mvg_class);
                    (void) ConcatenateString(&elements,p);
                    primitive=DestroyString(primitive);
                    primitive=elements;
                    q=primitive+(p-primitive)+strlen(mvg_class);
                  }