if (LocaleCompare(token,graphic_context[graphiccontextindex]->id) == 0) {
              break;
            }
            mvg_class=(const char *) GetValueFromSplayTree(macros,token);
            if (mvg_class != (const char *) NULL) {
              char
                *elements;

              size_t
                elements_length,
                remaining_length;

              elements_length=strlen(mvg_class);
              remaining_length=strlen(q);

              elements=(char *) AcquireMagickMemory(elements_length+remaining_length+MagickPathExtent);
              if (elements == (char *) NULL) {
                status=MagickFalse;
                break;
              }
              (void) CopyMagickString(elements,mvg_class,elements_length+1);
              (void) CopyMagickString(elements+elements_length,q,remaining_length+1);

              primitive=DestroyString(primitive);
              primitive=elements;
              q=primitive;
            }