</think>

To address the problem of handling the "class" keyword in the provided C/C++ function, we need to implement the logic for class context processing. The goal is to check if the current token matches the graphic context ID, retrieve the class definition from macros, and inject the class elements into the stream.

### Approach
1. **Check Token Match**: Verify if the current token matches the graphic context ID. If it does, break out of the loop.
2. **Retrieve Class Definition**: Use the token to fetch the class definition from the macros.
3. **Inject Class Elements**: If the class definition is found, concatenate it to the current elements string and update the stream pointer accordingly.
4. **Update Primitive String**: Replace the current primitive string with the new elements string and adjust the stream pointer.

### Solution Code