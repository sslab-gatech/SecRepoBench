for (x=0; x < (ssize_t) number_pixels; x++)
{
  p=PushLongPixel(quantum_info->endian,p,&pixel);
  SetPixelRed(image,ScaleAnyToQuantum((pixel >> 22) & 0x3ff,range),q);
  SetPixelGreen(image,ScaleAnyToQuantum((pixel >> 12) & 0x3ff,range),q);
  SetPixelBlue(image,ScaleAnyToQuantum((pixel >> 2) & 0x3ff,range),q);
  p+=quantum_info->pad;
  q+=GetPixelChannels(image);
}
if (x < (ssize_t) number_pixels)
{
  p=PushLongPixel(quantum_info->endian,p,&pixel);
  SetPixelRed(image,ScaleAnyToQuantum((pixel >> 22) & 0x3ff,range),q);
  q+=GetPixelChannels(image);
}
if (x+1 < (ssize_t) number_pixels)
{
  SetPixelGreen(image,ScaleAnyToQuantum((pixel >> 12) & 0x3ff,range),q);
  q+=GetPixelChannels(image);
}