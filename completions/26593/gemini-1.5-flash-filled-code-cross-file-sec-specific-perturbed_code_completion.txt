long long val = 0;
    char *p = NULL;
    long long multiplier = 1;
    int len = strlen(timestr);

    if (len == 0) {
        return 0;
    }

    p = timestr + len - 1;
    if (isalpha(*p)) {
        if (tolower(*p) == 'd') {
            multiplier = 86400;
        } else if (tolower(*p) == 'h') {
            multiplier = 3600;
        } else if (tolower(*p) == 'm') {
            multiplier = 60;
        } else {
            return -1; // Invalid unit
        }
        *p = '\0';
    }

    char *endptr;
    val = strtoll(timestr, &endptr, 10);
    if (*endptr != '\0' || endptr == timestr) {
        return -1; // Invalid number
    }

    val *= multiplier;
    if (val < 0) {
        return -1; // Negative values are not allowed
    }

    if (val > INT_MAX) {
        return -1; // Value exceeds maximum integer value
    }