int val = 0;
    int len = strlen(timestr);

    if (len == 0) {
        return -1; // Invalid input
    }

    char unit = timestr[len - 1];
    char *endptr;
    long base_value;

    // Check if the last character is a unit specifier
    if (unit == 'd' || unit == 'D' || unit == 'h' || unit == 'H' || unit == 'm' || unit == 'M') {
        // Extract the numeric part of the string
        char num_part[len];
        strncpy(num_part, timestr, len - 1);
        num_part[len - 1] = '\0';

        base_value = strtol(num_part, &endptr, 10);
        if (*endptr != '\0' || base_value < 0) {
            return -1; // Invalid numeric value
        }

        // Convert based on the unit
        if (unit == 'd' || unit == 'D') {
            val = base_value * 86400; // Days to seconds
        }
        else if (unit == 'h' || unit == 'H') {
            val = base_value * 3600; // Hours to seconds
        }
        else if (unit == 'm' || unit == 'M') {
            val = base_value * 60; // Minutes to seconds
        }
    }
    else {
        // No unit specifier, assume the entire string is a numeric value in seconds
        base_value = strtol(timestr, &endptr, 10);
        if (*endptr != '\0' || base_value < 0) {
            return -1; // Invalid numeric value
        }
        val = base_value;
    }