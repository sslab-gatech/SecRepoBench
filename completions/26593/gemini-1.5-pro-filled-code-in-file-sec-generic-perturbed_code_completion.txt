int len = strlen(timestr);
    int val = 0;
    char time_unit;

    if (len > 0 && isalpha(timestr[len - 1])) {
        time_unit = timestr[len - 1];

        // Extract numeric part of the string
        char num_str[len];
        strncpy(num_str, timestr, len - 1);
        num_str[len - 1] = '\0';

        val = atoi(num_str);

        switch (time_unit) {
            case 'D':
            case 'd':
                val *= 86400; // Days to seconds
                break;
            case 'H':
            case 'h':
                val *= 3600;  // Hours to seconds
                break;
            case 'M':
            case 'm':
                val *= 60;   // Minutes to seconds
                break;
            default:
                return -1; // Invalid time unit
        }
    } else {
        val = atoi(timestr);
    }