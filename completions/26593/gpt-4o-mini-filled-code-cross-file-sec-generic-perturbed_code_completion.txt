int val = 0;
    char unit = timestr[strlen(timestr) - 1];
    char *endptr;

    // Convert the numeric part of the string to an integer
    val = strtol(timestr, &endptr, 10);
    if (endptr == timestr || *endptr != '\0' && *endptr != unit) {
        // Handle invalid input
        return -1; // or some error code
    }

    // Determine the time unit and convert to seconds
    switch (unit) {
        case 'D':
        case 'd':
            val *= 86400; // 24 * 60 * 60
            break;
        case 'H':
        case 'h':
            val *= 3600; // 60 * 60
            break;
        case 'M':
        case 'm':
            val *= 60; // 60
            break;
        default:
            // Handle unknown unit
            return -1; // or some error code
    }