int val = 0;
    size_t len = strnlen(timestr, 256); // Assuming a maximum length of 256 for safety

    if (len == 0) {
        return -1; // Invalid input
    }

    char unit = timestr[len - 1]; // Accessing the last character safely

    if (unit == 'D' || unit == 'd') {
        val = atoi(timestr) * 86400; // Days to seconds
    } else if (unit == 'H' || unit == 'h') {
        val = atoi(timestr) * 3600; // Hours to seconds
    } else if (unit == 'M' || unit == 'm') {
        val = atoi(timestr) * 60; // Minutes to seconds
    } else {
        val = atoi(timestr); // Assume seconds if no unit is specified
    }