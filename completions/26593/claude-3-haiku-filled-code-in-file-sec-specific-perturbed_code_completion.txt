int flb_utils_time_to_seconds(const char *timestr)
{
    int val = 0;
    int len = strlen(timestr);
    int i;
    char unit = '\0';

    for (i = 0; i < len; i++) {
        if (isdigit(timestr[i])) {
            val = val * 10 + (timestr[i] - '0');
        }
        else {
            unit = tolower(timestr[i]);
            break;
        }
    }

    switch (unit) {
    case 'd':
        val *= 86400; // 1 day = 86400 seconds
        break;
    case 'h':
        val *= 3600; // 1 hour = 3600 seconds
        break;
    case 'm':
        val *= 60; // 1 minute = 60 seconds
        break;
    case '\0':
        // No unit specified, assume seconds
        break;
    default:
        return -1; // Invalid unit
    }

    return val;
}