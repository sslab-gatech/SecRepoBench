int flb_utils_time_to_seconds(const char *timestr)
{
    int val = 0;
    int len = strlen(timestr);
    int i;
    char c;

    for (i = 0; i < len; i++) {
        c = timestr[i];
        if (isdigit(c)) {
            val = val * 10 + (c - '0');
        }
        else if (c == 'D' || c == 'd') {
            val *= 86400; // 1 day = 86400 seconds
            break;
        }
        else if (c == 'H' || c == 'h') {
            val *= 3600; // 1 hour = 3600 seconds
            break;
        }
        else if (c == 'M' || c == 'm') {
            val *= 60; // 1 minute = 60 seconds
            break;
        }
        else {
            return -1; // Invalid time format
        }
    }

    return val;
}