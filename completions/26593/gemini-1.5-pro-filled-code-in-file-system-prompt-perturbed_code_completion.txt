int len = strlen(timestr);
    int val = 0;
    char time_unit;

    if (len > 0 && isalpha(timestr[len - 1])) {
        time_unit = timestr[len - 1];
        timestr[len - 1] = '\0'; // Remove the time unit character
        len--;
    } else {
        time_unit = 's'; // Default to seconds if no unit is specified
    }

    val = atoi(timestr);

    switch (time_unit) {
        case 'D':
        case 'd':
            val *= 86400; // Days to seconds
            break;
        case 'H':
        case 'h':
            val *= 3600; // Hours to seconds
            break;
        case 'M':
        case 'm':
            val *= 60; // Minutes to seconds
            break;
        case 'S':
        case 's':
            break; // Already in seconds
        default:
            return -1; // Invalid time unit
    }