int val = 0;
    int len = strlen(timestr);

    if (len == 0) {
        return -1; // Invalid input
    }

    char unit = timestr[len - 1];
    int multiplier = 1;

    if (unit == 'D' || unit == 'd') {
        multiplier = 86400; // 24 * 60 * 60
    }
    else if (unit == 'H' || unit == 'h') {
        multiplier = 3600; // 60 * 60
    }
    else if (unit == 'M' || unit == 'm') {
        multiplier = 60;
    }
    else if (unit >= '0' && unit <= '9') {
        // If the last character is a digit, assume no unit is specified
        unit = '\0';
    }
    else {
        return -1; // Invalid unit
    }

    // If a unit was specified, remove it from the string
    if (unit != '\0') {
        len--;
    }

    // Convert the numeric part of the string to an integer
    char numstr[len + 1];
    strncpy(numstr, timestr, len);
    numstr[len] = '\0';

    val = atoi(numstr) * multiplier;