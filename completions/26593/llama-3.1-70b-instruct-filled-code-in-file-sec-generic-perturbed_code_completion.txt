int val = 0;
int i;
int len;
int plen = 0;
char c;
char tmp[3] = {0};
int64_t SEC = 1;
int64_t MIN = 60;
int64_t HOUR = 3600;
int64_t DAY = 86400;

if (!timestr) {
    return -1;
}

len = strlen(timestr);
val = atoll(timestr);

if (len == 0) {
    return -1;
}

for (i = len - 1; i > 0; i--) {
    if (isdigit(timestr[i])) {
        break;
    }
    else {
        plen++;
    }
}

if (plen == 0) {
    return val;
}
else if (plen > 1) {
    return -1;
}

c = timestr[(len - plen)];
tmp[0] = toupper(c);

if (tmp[0] == 'D') {
    return (val * DAY);
}
else if (tmp[0] == 'H') {
    return (val * HOUR);
}
else if (tmp[0] == 'M') {
    return (val * MIN);
}
else {
    return -1;
}