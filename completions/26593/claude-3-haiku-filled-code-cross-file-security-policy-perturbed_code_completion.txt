int len = strlen(timestr);
    int val = 0;
    char unit = timestr[len - 1];

    if (unit == 'D' || unit == 'd') {
        val = atoi(timestr) * 86400;
    }
    else if (unit == 'H' || unit == 'h') {
        val = atoi(timestr) * 3600;
    }
    else if (unit == 'M' || unit == 'm') {
        val = atoi(timestr) * 60;
    }
    else {
        val = atoi(timestr);
    }