int val = 0;
int len = strlen(timestr);
char unit = '\0';

if (len > 0) {
    unit = timestr[len - 1];
}

switch (unit) {
    case 'D':
    case 'd':
        val = atoi(timestr) * 86400; // 86400 seconds in a day
        break;
    case 'H':
    case 'h':
        val = atoi(timestr) * 3600; // 3600 seconds in an hour
        break;
    case 'M':
    case'm':
        val = atoi(timestr) * 60; // 60 seconds in a minute
        break;
    default:
        val = atoi(timestr);
        break;
}