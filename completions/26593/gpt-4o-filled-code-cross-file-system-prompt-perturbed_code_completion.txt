int val = 0;
    int len = strlen(timestr);

    if (len == 0) {
        return -1; // Invalid input
    }

    char unit = timestr[len - 1];
    int multiplier = 1;

    switch (unit) {
    case 'd':
    case 'D':
        multiplier = 86400; // 24 * 60 * 60
        break;
    case 'h':
    case 'H':
        multiplier = 3600; // 60 * 60
        break;
    case 'm':
    case 'M':
        multiplier = 60;
        break;
    default:
        if (!isdigit(unit)) {
            return -1; // Invalid unit
        }
        break;
    }

    if (multiplier != 1) {
        char *end;
        long num = strtol(timestr, &end, 10);
        if (end != timestr + len - 1) {
            return -1; // Invalid number
        }
        val = num * multiplier;
    }
    else {
        val = atoi(timestr);
    }