int val = 0;
    int len = strlen(timestr);

    if (len == 0) {
        return -1; // Invalid input
    }

    char unit = timestr[len - 1];
    int multiplier = 1;

    if (unit == 'D' || unit == 'd') {
        multiplier = 86400; // 24 * 60 * 60
    }
    else if (unit == 'H' || unit == 'h') {
        multiplier = 3600; // 60 * 60
    }
    else if (unit == 'M' || unit == 'm') {
        multiplier = 60;
    }
    else if (unit >= '0' && unit <= '9') {
        unit = '\0'; // No unit, just a number
    }
    else {
        return -1; // Invalid unit
    }

    char *endptr;
    long num = strtol(timestr, &endptr, 10);

    if ((endptr == timestr) || (*endptr != unit) || (num < 0)) {
        return -1; // Conversion error or negative number
    }

    val = (int) num * multiplier;