int val = 0;
    char unit = timestr[strlen(timestr) - 1];
    char *endptr;
    long num = strtol(timestr, &endptr, 10);

    if (endptr == timestr || *endptr != '\0' && *endptr != ' ' && *endptr != '\n') {
        // Handle invalid input
        return -1; // or some error code
    }

    switch (unit) {
        case 'D':
        case 'd':
            val = num * 86400; // 24 * 60 * 60
            break;
        case 'H':
        case 'h':
            val = num * 3600; // 60 * 60
            break;
        case 'M':
        case 'm':
            val = num * 60; // 60
            break;
        default:
            val = num; // Assume seconds if no unit is provided
            break;
    }