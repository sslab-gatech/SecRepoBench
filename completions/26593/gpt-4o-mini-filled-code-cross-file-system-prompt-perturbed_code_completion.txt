int val = 0;
    char unit = timestr[strlen(timestr) - 1];
    char *endptr;

    // Convert the numeric part of the string to an integer
    val = strtol(timestr, &endptr, 10);

    // Check if the conversion was successful and if there are any characters left
    if (endptr == timestr || *endptr != '\0') {
        return -1; // Invalid input
    }

    // Determine the time unit and convert to seconds
    switch (toupper(unit)) {
        case 'D':
            val *= 86400; // 24 * 60 * 60
            break;
        case 'H':
            val *= 3600; // 60 * 60
            break;
        case 'M':
            val *= 60; // 60
            break;
        default:
            return -1; // Invalid time unit
    }