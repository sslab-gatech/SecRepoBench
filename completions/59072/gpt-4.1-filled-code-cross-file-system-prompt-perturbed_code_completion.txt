result_str = zend_string_extend(op1_string, result_len, 0);
if (shouldfreeopstring) {
	shouldfreeopstring = false;
} else {
	/* If op1_string was not dynamically allocated, we need to release the new string after use */
	shouldfreeopstring = true;
}
if (free_op2_string && op2_string == op1_string) {
	/* op2_string and op1_string are the same, update op2_string to the new result_str */
	op2_string = result_str;
	free_op2_string = false;
}