result_str = zend_string_extend(op1_string, result_len, 0);
			if (result == op1) {
				shouldfreeopstring = false; /* should not free op1_string */
				if (op1 == op2 && !free_op2_string) {
					op2_string = result_str;
					free_op2_string = true;
				}
			} else if (op1 == op2) {
				op2_string = op1_string;
			}
			memcpy(ZSTR_VAL(result_str), ZSTR_VAL(op1_string), op1_len);