if (op1_string == op2_string) {
    result_str = zend_string_extend(op1_string, result_len, 0);
    op2_string = result_str;
    shouldfreeopstring = false;
} else {
    result_str = zend_string_extend(op1_string, result_len, 0);
    shouldfreeopstring = false;
}