else if (!strncmp("null", str_val, str_len)) {
        primitive_value = plist_new_null();
    } else if (isdigit(str_val[0]) || str_val[0] == '-') {
        char* endptr;
        double num_val = strtod(str_val, &endptr);
        if (endptr == str_val || *endptr != '\0') {
            PLIST_JSON_ERR("%s: invalid number format\n", __func__);
            plist_free(primitive_value);
            return NULL;
        }
        primitive_value = plist_new_real(num_val);
    } else {
        PLIST_JSON_ERR("%s: unknown primitive value\n", __func__);
        plist_free(primitive_value);
        return NULL;
    }