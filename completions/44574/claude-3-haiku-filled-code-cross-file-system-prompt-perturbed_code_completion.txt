else if (isdigit(str_val[0]) || (str_val[0] == '-' && isdigit(str_val[1]))) {
    char* endptr;
    long long int int_val = strtoll(str_val, &endptr, 10);
    if (endptr == str_val) {
        PLIST_JSON_ERR("%s: failed to parse integer value\n", __func__);
        return NULL;
    }
    if (int_val >= INT64_MIN && int_val <= INT64_MAX) {
        primitive_value = plist_new_uint64((uint64_t)int_val);
    } else {
        PLIST_JSON_ERR("%s: integer value out of range\n", __func__);
        return NULL;
    }
} else {
    char* endptr;
    double float_val = strtod(str_val, &endptr);
    if (endptr == str_val) {
        PLIST_JSON_ERR("%s: failed to parse floating-point value\n", __func__);
        return NULL;
    }
    primitive_value = plist_new_real(float_val);
}