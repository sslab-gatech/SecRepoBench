// Check if the primitive value is "null" and create a corresponding plist node for it.
    if (!strncmp("null", str_val, str_len)) {
        primitive_value = plist_new_data(NULL, 0);
    } else if (str_val[0] == '-' || isdigit(str_val[0])) {
        char* endptr;
        errno = 0; // to distinguish success/failure after call
        double num_val = strtod(str_val, &endptr);
        if ((errno == ERANGE && (num_val == HUGE_VAL || num_val == -HUGE_VAL))
                || (endptr == str_val)) {
            PLIST_JSON_ERR("%s: Invalid number format\n", __func__);
            return NULL;
        }
        if (floor(num_val) == num_val) {
            primitive_value = plist_new_int(num_val);
        } else {
            primitive_value = plist_new_real(num_val);
        }
    } else {
        PLIST_JSON_ERR("%s: Invalid primitive value\n", __func__);
        return NULL;
    }