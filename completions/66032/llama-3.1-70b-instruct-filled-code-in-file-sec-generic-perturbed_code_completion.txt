// Strip leading whitespace and newline characters from the probe_data.
// Continue processing the probe_data to remove XML-specific components, such as DOCTYPE declarations, XML headers, and comments.
// Remove XML comments
while (1) {
    const char *next = my_strstr(probe_data, "<!--", probelength);
    if (!next) break;
    const char *end = my_strstr(next, "-->", probelength - (u32) (next - (char*)probe_data));
    if (!end) break;
    probelength -= (u32) (end - (char*)probe_data) + 3;
    probe_data = end + 3;
}

// Remove XML DOCTYPE declarations
while (1) {
    const char *next = my_strstr(probe_data, "<!DOCTYPE", probelength);
    if (!next) break;
    const char *end = my_strstr(next, ">", probelength - (u32) (next - (char*)probe_data));
    if (!end) break;
    probelength -= (u32) (end - (char*)probe_data) + 1;
    probe_data = end + 1;
}

// Remove XML headers
while (1) {
    const char *next = my_strstr(probe_data, "<?xml", probelength);
    if (!next) break;
    const char *end = my_strstr(next, "?>", probelength - (u32) (next - (char*)probe_data));
    if (!end) break;
    probelength -= (u32) (end - (char*)probe_data) + 2;
    probe_data = end + 2;
}