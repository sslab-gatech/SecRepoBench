// Strip leading whitespace and newline characters from the probe_data
	while (probelength && strchr("\n\r\t ", (char)probe_data[0])) {
		probe_data++;
		probelength--;
	}

	// Remove XML-specific components such as DOCTYPE declarations, XML headers, and comments
	while (probelength > 0) {
		// Check for XML header
		if (!strncmp(probe_data, "<?xml", strlen("<?xml"))) {
			const char *end = my_strstr(probe_data, "?>", probelength);
			if (!end) break;
			probelength -= (u32)(end - probe_data + 2);
			probe_data = end + 2;
			continue;
		}

		// Check for DOCTYPE declaration
		if (!strncmp(probe_data, "<!DOCTYPE", strlen("<!DOCTYPE"))) {
			const char *end = my_strstr(probe_data, ">", probelength);
			if (!end) break;
			probelength -= (u32)(end - probe_data + 1);
			probe_data = end + 1;
			continue;
		}

		// Check for comments
		if (!strncmp(probe_data, "<!--", strlen("<!--"))) {
			const char *end = my_strstr(probe_data, "-->", probelength);
			if (!end) break;
			probelength -= (u32)(end - probe_data + 3);
			probe_data = end + 3;
			continue;
		}

		// If no XML-specific components are found, break the loop
		break;
	}