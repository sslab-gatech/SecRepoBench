// Strip leading whitespace and newline characters from the probe_data.
while (probelength && probe_data[0] && strchr("\n\r\t ", (char) probe_data[0])) {
    probe_data++;
    probelength--;
}

// Continue processing the probe_data to remove XML-specific components, such as DOCTYPE declarations, XML headers, and comments.
while (probelength && probe_data[0] == '<') {
    const char *end_tag = my_strstr(probe_data, ">", probelength);
    if (!end_tag) break;
    probe_data = end_tag + 1;
    probelength -= (u32)(end_tag - probe_data + 1);
}