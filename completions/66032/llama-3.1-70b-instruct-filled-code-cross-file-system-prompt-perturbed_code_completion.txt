// Strip leading whitespace and newline characters from the probe_data.
while (probelength && probe_data[0] && strchr("\n\r\t ", (char) probe_data[0])) {
    probe_data ++;
    probelength--;
}

// Continue processing the probe_data to remove XML-specific components, such as DOCTYPE declarations, XML headers, and comments.
if (probelength && probe_data[0] == '<') {
    // Skip XML declaration
    if (probelength > 4 &&!strncmp(probe_data, "<?xml", 5)) {
        const char *end_decl = my_strstr(probe_data, "?>", probelength);
        if (end_decl) {
            probelength -= (u32) (end_decl - (char*)probe_data + 2);
            probe_data = end_decl + 2;
        }
    }

    // Skip DOCTYPE declaration
    if (probelength > 8 &&!strncmp(probe_data, "<!DOCTYPE", 9)) {
        const char *end_decl = my_strstr(probe_data, ">", probelength);
        if (end_decl) {
            probelength -= (u32) (end_decl - (char*)probe_data + 1);
            probe_data = end_decl + 1;
        }
    }

    // Skip comments
    while (probelength > 3 &&!strncmp(probe_data, "<!--", 4)) {
        const char *end_comment = my_strstr(probe_data, "-->", probelength);
        if (end_comment) {
            probelength -= (u32) (end_comment - (char*)probe_data + 3);
            probe_data = end_comment + 3;
        } else {
            break;
        }
    }
}