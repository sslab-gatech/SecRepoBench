// <MASK>
// Strip leading whitespace and newline characters from the probe_data.
// Continue processing the probe_data to remove XML-specific components, such as DOCTYPE declarations, XML headers, and comments.
// We should refine by getting the xmlns attribute value rather than searching for its value...
// First, we need to find the start of the document element.
const char *start = my_strstr(probe_data, "<", probelength);
if (!start) goto exit;
// Then, we need to find the end of the document element.
const char *end = my_strstr(start, ">", probelength);
if (!end) goto exit;
// Now, we can extract the document element.
char *doc_element = gf_malloc(end - start + 1);
memcpy(doc_element, start, end - start);
doc_element[end - start] = '\0';
// Now, we can search for the xmlns attribute in the document element.
const char *xmlns = my_strstr(doc_element, "xmlns", strlen(doc_element));
if (xmlns) {
	// If we found the xmlns attribute, we can extract its value.
	const char *xmlns_value = my_strstr(xmlns, "=", strlen(xmlns));
	if (xmlns_value) {
		// Now, we can refine our search for the mime type based on the xmlns value.
		if (my_strstr(probe_data, "http://www.w3.org/1999/XSL/Transform", probelength)
		) {
		} else if (!strncmp(probe_data, "<XMT-A", strlen("<XMT-A"))
			|| my_strstr(probe_data, "urn:mpeg:mpeg4:xmta:schema:2002", probelength)
		) {
			mime_type = "application/x-xmt";
		} else if (my_strstr(probe_data, "<X3D", probelength)
			|| my_strstr(probe_data, "http://www.web3d.org/specifications/x3d-3.0.xsd", probelength)
		) {
			mime_type = "model/x3d+xml";
		} else if (my_strstr(probe_data, "<saf", probelength)
			|| my_strstr(probe_data, "urn:mpeg:mpeg4:SAF:2005", probelength)
			|| my_strstr(probe_data, "urn:mpeg:mpeg4:LASeR:2005", probelength)
		) {
			mime_type = "application/x-LASeR+xml";
		} else if (!strncmp(probe_data, "<DIMSStream", strlen("<DIMSStream") ) ) {
			mime_type = "application/dims";
		} else if (!strncmp(probe_data, "<svg", 4) || my_strstr(probe_data, "http://www.w3.org/2000/svg", probelength) ) {
			mime_type = "image/svg+xml";
		} else if (!strncmp(probe_data, "<widget", strlen("<widget") ) ) {
			mime_type = "application/widget";
		} else if (!strncmp(probe_data, "<NHNTStream", strlen("<NHNTStream") ) ) {
			mime_type = "application/x-nhml";
		} else if (!strncmp(probe_data, "<TextStream", strlen("<TextStream") ) ) {
			mime_type = "text/ttxt";
		} else if (!strncmp(probe_data, "<text3GTrack", strlen("<text3GTrack") ) ) {
			mime_type = "quicktime/text";
		}
	}
}
// <MASK>