while (probelength && probe_data[0] && strchr("\n\r\t ", (char) probe_data[0])) {
		probe_data ++;
		probelength--;
	}

	if (probelength > 8 && !strncmp(probe_data, "<!DOCTYPE", 9)) {
		const char *end_doctype = my_strstr(probe_data, ">", probelength);
		if (end_doctype) {
			probelength -= (u32) (end_doctype - (char*)probe_data);
			probe_data = end_doctype + 1;
		}
	}

	while (probelength && probe_data[0] && strchr("\n\r\t ", (char) probe_data[0])) {
		probe_data ++;
		probelength--;
	}

	if (probelength > 5 && !strncmp(probe_data, "<?xml", 5)) {
		const char *end_xml = my_strstr(probe_data, ">", probelength);
		if (end_xml) {
			probelength -= (u32) (end_xml - (char*)probe_data);
			probe_data = end_xml + 1;
		}
	}

	while (probelength && probe_data[0] && strchr("\n\r\t ", (char) probe_data[0])) {
		probe_data ++;
		probelength--;
	}

	if (probelength > 4 && !strncmp(probe_data, "<!--", 4)) {
		const char *end_comment = my_strstr(probe_data, "-->", probelength);
		if (end_comment) {
			probelength -= (u32) (end_comment - (char*)probe_data) + 2;
			probe_data = end_comment + 3;
		}
	}

	while (probelength && probe_data[0] && strchr("\n\r\t ", (char) probe_data[0])) {
		probe_data ++;
		probelength--;
	}