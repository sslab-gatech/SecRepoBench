// Remove XML declaration if present
	if (!strncmp(probe_data, "<?xml", 5)) {
		const char *next = my_strstr(probe_data, "?>", probelength);
		if (next) {
			probe_data = next + 2; // Move past the end of the XML declaration
			probelength -= (u32)(next - (char *)probe_data);
		}
	}

	// Remove DOCTYPE declaration if present
	if (my_strstr(probe_data, "<!DOCTYPE", probelength)) {
		const char *next = my_strstr(probe_data, ">", probelength);
		if (next) {
			probe_data = next + 1; // Move past the end of the DOCTYPE declaration
			probelength -= (u32)(next - (char *)probe_data);
		}
	}

	// Remove comments
	while ((next = my_strstr(probe_data, "<!--", probelength)) != NULL) {
		const char *end_comment = my_strstr(next, "-->");
		if (end_comment) {
			probelength -= (u32)(end_comment - (char *)probe_data + 3);
			memmove((char *)probe_data + (next - (char *)probe_data), end_comment + 3, probelength);
		} else {
			break; // No closing comment found
		}
	}