if (strchr(time_str, 'Y') == NULL && strchr(time_str, 'y') == NULL) {
    time_now = now;
    gmtime_r(&time_now, &tmy);
    snprintf(tmp, sizeof(tmp), "%d-%02d-%02d %s",
             tmy.tm_year + 1900, tmy.tm_mon + 1, tmy.tm_mday, time_str);
    fmt = timeparser->time_fmt_year;
    p = flb_strptime(tmp, fmt, tm);
} else {
    strncpy(tmp, time_str, sizeof(tmp) - 1);
    tmp[sizeof(tmp) - 1] = '\0';
    fmt = timeparser->time_fmt;
    p = flb_strptime(tmp, fmt, tm);
}