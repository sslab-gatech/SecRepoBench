if (timeparser->time_fmt_year != NULL) {
        time(&time_now);
        gmtime_r(&time_now, &tmy);
        memcpy(tmp, time_str, tsize);
        tmp[tsize] = '\0';
        *tm = tmy;
        p = flb_strptime(tmp, timeparser->time_fmt, tm);
    }
    else {
        memcpy(tmp, time_str, tsize);
        tmp[tsize] = '\0';
        p = flb_strptime(tmp, timeparser->time_fmt, tm);
    }