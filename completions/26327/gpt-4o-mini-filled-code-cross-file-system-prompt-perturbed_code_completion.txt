if (strptime(time_str, "%Y", &tmy) == NULL) {
        time_now = time(NULL);
        gmtime_r(&time_now, &tmy);
        snprintf(tmp, sizeof(tmp), "%04d %s", tmy.tm_year + 1900, time_str);
        time_ptr = tmp;
    } else {
        strncpy(tmp, time_str, time_len);
        tmp[time_len] = '\0';
        time_ptr = tmp;
    }

    p = flb_strptime(time_ptr, timeparser->time_fmt, tm);