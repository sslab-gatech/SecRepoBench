// Check if the time string does not include the year.
// If the year is missing, use the current date to fill in the missing year.
// Create a temporary buffer to hold the modified time string with the year.
// Concatenate the current year to the beginning of the time string.
// Use `gmtime_r` to get the current date and fill the missing month and day.
// Parse the modified time string with the year using `flb_strptime` and store results in `tm`.
if (strchr(time_str, '-') == NULL && strchr(time_str, '/') == NULL) {
    time_t now = time(NULL);
    struct tm *now_tm = gmtime(&now);
    snprintf(tmp, sizeof(tmp), "%04d-%s", now_tm->tm_year + 1900, time_str);
    time_len = strlen(tmp);
    time_ptr = tmp;
    gmtime_r(&now, &tmy);
    p = flb_strptime(time_ptr, timeparser->time_fmt, &tmy);
    if (p == NULL) {
        flb_error("[parser] cannot parse '%.*s'", tsize, time_str);
        return -1;
    }
    *tm = tmy;
}
// If the time string includes the year, copy it to a temporary buffer ensuring it is null-terminated.
else {
    if (tsize >= sizeof(tmp)) {
        flb_error("[parser] time string length is too long");
        return -1;
    }
    memcpy(tmp, time_str, tsize);
    tmp[tsize] = '\0';
    p = flb_strptime(tmp, timeparser->time_fmt, tm);
    if (p == NULL) {
        flb_error("[parser] cannot parse '%.*s'", tsize, time_str);
        return -1;
    }
}