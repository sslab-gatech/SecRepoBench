{
            if (ret->attr != NULL) {
                ret->attr->atype = XML_ATTRIBUTE_NONE;
                ret->attr->id = NULL;
            }
            ret->attr = attribute;
            attribute->atype = XML_ATTRIBUTE_ID;
            if (!streaming)
                attribute->id = ret;
            if (id != NULL)
                *id = ret;
            return(1);
        }