{
            // Clear the previous association of the ID with an attribute
            if (ret->attr != NULL) {
                ret->attr->id = NULL;
            }

            // Update the ID structure to associate it with the new attribute
            ret->attr = attribute;
            attribute->atype = XML_ATTRIBUTE_ID;
            attribute->id = ret;

            // Return as the ID already exists and has been updated
            if (id != NULL)
                *id = ret;
            return (1);
        }