{
    xmlAttrPtr oldAttr = ret->attr;

    if (oldAttr != NULL) {
        oldAttr->atype = XML_ATTRIBUTE_UNDECLARED; // Reset the attribute type
        oldAttr->id = NULL; // Clear the association with the ID
    }

    ret->attr = attribute;
    attribute->atype = XML_ATTRIBUTE_ID;
    attribute->id = ret;

    return(1);
}