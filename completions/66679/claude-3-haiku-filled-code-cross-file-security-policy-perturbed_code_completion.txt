// If an existing ID is found in the table for the given value, update the
// attribute and its associated ID structure. Ensure that any previous
// association between an attribute and the ID is cleared, and establish
// a new link between the current attribute and the ID. Set the attribute
// type to indicate that it is an ID and return from the function.
if (ret->attr != NULL) {
    // Clear the previous association between the attribute and the ID
    ret->attr->id = NULL;
    ret->attr->atype = XML_ATTRIBUTE_NORMAL;
}
ret->attr = attribute;
attribute->id = ret;
attribute->atype = XML_ATTRIBUTE_ID;
return(1);