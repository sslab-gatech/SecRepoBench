{
            if (streaming) {
                if (id->attr != NULL) {
                    id->attr->id = NULL;
                    id->attr->atype = 0;
                }
            } else {
                if (id->attr != attribute) {
                    id->attr->id = NULL;
                    id->attr->atype = 0;
                }
            }
            id->attr = attribute;
            id->lineno = xmlGetLineNo(attribute->parent);
            if (!streaming)
                attribute->id = id;
            attribute->atype = XML_ATTRIBUTE_ID;
            if (id != NULL)
                *id = ret;
            return (0);
        }