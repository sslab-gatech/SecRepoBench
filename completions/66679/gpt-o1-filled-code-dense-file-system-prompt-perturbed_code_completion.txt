{
    if (ret->attr != NULL && ret->attr != attribute) {
        ret->attr->id = NULL;
        ret->attr->atype = 0;
    }
    ret->attr = attribute;
    attribute->id = ret;
    attribute->atype = XML_ATTRIBUTE_ID;
    if (id != NULL)
        *id = ret;
    return(0);
}