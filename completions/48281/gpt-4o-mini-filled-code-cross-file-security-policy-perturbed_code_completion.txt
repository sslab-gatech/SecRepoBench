if (codec_context->width < 16 || codec_context->width % 8 != 0) {
        return AVERROR_INVALIDDATA;
    }
    if (codec_context->height < 16 || codec_context->height % 8 != 0) {
        return AVERROR_INVALIDDATA;
    }