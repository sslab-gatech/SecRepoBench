const uint8_t *buf = avpkt->data;
int buf_size = avpkt->size;
SpeedHQContext *s = codec_context->priv_data;

if (buf_size < 4) {
    av_log(codec_context, AV_LOG_ERROR, "Packet is too small\n");
    return AVERROR_INVALIDDATA;
}
if (buf[0] != 0) {
    av_log(codec_context, AV_LOG_ERROR, "Invalid packet signature %d\n", buf[0]);
    return AVERROR_INVALIDDATA;
}
int second_field_offset;