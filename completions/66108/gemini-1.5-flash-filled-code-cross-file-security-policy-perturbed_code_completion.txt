size = gf_mp3_frame_size(ctx->hdr);
		if (sync + size + 1 > ctx->mp3_buffer + ctx->mp3_buffer_size) {
			break;
		}
		if (sync[size] == 0xFF) {
			if ((size + 3 <= ctx->mp3_buffer_size - (sync - ctx->mp3_buffer)) && (sync[size + 1] == 'T' && sync[size + 2] == 'A' && sync[size + 3] == 'G')) {
				skip_id3v1 = GF_TRUE;
			}
		} else {
			GF_LOG(GF_LOG_WARNING, GF_LOG_MEDIA, ("[MP3Dmx] Invalid frame detected, attempting to resynchronize.\n"));
			// Attempt to resynchronize by searching for the next sync word.
			u32 offset = gf_mp3_find_syncword(sync + 1, ctx->mp3_buffer_size - (sync - ctx->mp3_buffer) - 1);
			if (offset == 0xFFFFFFFF) {
				break;
			}
			sync += offset;
			size = gf_mp3_frame_size(ctx->hdr);
		}