size = gf_mp3_header_frame_size(ctx->hdr);
if (!size || (offsetskipped + size > remain)) {
	GF_LOG(GF_LOG_WARNING, GF_LOG_MEDIA, ("[MP3Dmx] invalid or truncated frame, skipping...\n"));
	break;
}

/* Ensure synchronization by checking if the byte after the frame is 0xFF */
if ((offsetskipped + size < remain) && (sync[size] == 0xFF)) {
	/* Next frame likely valid */
} else if ((offsetskipped + size + 2 < remain)
           && (sync[size] == 'T')
           && (sync[size + 1] == 'A')
           && (sync[size + 2] == 'G')) {
	/* Detected ID3v1 tag */
	skip_id3v1 = GF_TRUE;
} else {
	GF_LOG(GF_LOG_WARNING, GF_LOG_MEDIA, ("[MP3Dmx] invalid frame encountered, attempting to resync\n"));
}