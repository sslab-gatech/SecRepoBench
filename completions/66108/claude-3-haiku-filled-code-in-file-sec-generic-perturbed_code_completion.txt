//ready to send packet
if (sync[0] == 0xFF && (sync[1] & 0xE0) == 0xE0) {
    size = gf_mp3_frame_size(ctx->hdr);
    if (sync[2] == 0xFF && (sync[3] & 0xE0) == 0xE0) {
        // Subsequent bytes indicate an ID3v1 tag, skip it
        skip_id3v1 = GF_TRUE;
    } else {
        GF_LOG(GF_LOG_WARNING, GF_LOG_MEDIA, ("[MP3Dmx] Invalid frame, attempting to resync\n"));
        bytes_to_drop = 1;
        ctx->is_sync = GF_FALSE;
    }
} else {
    GF_LOG(GF_LOG_WARNING, GF_LOG_MEDIA, ("[MP3Dmx] Invalid frame, attempting to resync\n"));
    bytes_to_drop = 1;
    ctx->is_sync = GF_FALSE;
}