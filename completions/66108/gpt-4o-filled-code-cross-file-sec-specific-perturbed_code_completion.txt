// Check if the packet is ready to be sent.
		// Ensure synchronization by examining if the byte after the frame is 0xFF.
		// If the subsequent bytes indicate an ID3v1 tag ("TAG"), set a flag to skip it.
		// Otherwise, log a warning or debug message about the invalid frame and attempt to resync.
		size = gf_mp3_get_frame_size(ctx->hdr);
		if (offsetskipped + size > remain) {
			GF_LOG(GF_LOG_WARNING, GF_LOG_MEDIA, ("[MP3Dmx] Incomplete frame detected, attempting to resync\n"));
			break;
		}

		// Check for ID3v1 tag at the end of the frame
		if (remain >= 128 && !memcmp(sync + size - 128, "TAG", 3)) {
			skip_id3v1 = GF_TRUE;
		}

		// Ensure the next byte after the frame is a sync byte (0xFF)
		if (remain > offsetskipped + size && sync[size] != 0xFF) {
			GF_LOG(GF_LOG_WARNING, GF_LOG_MEDIA, ("[MP3Dmx] Invalid frame detected, attempting to resync\n"));
			break;
		}