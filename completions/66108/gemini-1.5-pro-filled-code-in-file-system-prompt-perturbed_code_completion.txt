size = gf_mp3_frame_size(ctx->hdr);
		if (size+offsetskipped+1 > remain) {
			if (!is_eos) {
				GF_LOG(GF_LOG_DEBUG, GF_LOG_MEDIA, ("[MP3Dmx] truncated frame of size %u (remains %d)\n", size, remain-offsetskipped));
				break;
			}
			size = remain - offsetskipped;
			skip_id3v1 = GF_FALSE;
		} else if (sync[size]==0xFF) {
			u8 id3v1[3];
			memcpy(id3v1, sync+size+1, 3);
			if (!strncmp((const char*)id3v1, "TAG", 3)) {
				skip_id3v1 = GF_TRUE;
			}
		} else {
			GF_LOG(GF_LOG_WARNING, GF_LOG_MEDIA, ("[MP3Dmx] invalid frame, resyncing\n"));
			ctx->is_sync = GF_FALSE;
			goto drop_byte;
		}