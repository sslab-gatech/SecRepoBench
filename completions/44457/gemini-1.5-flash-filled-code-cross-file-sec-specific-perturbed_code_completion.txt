if (ptern->addrQuery == NULL_ADDRESS)
  {
    if (fxinfo->OperatorStack[fxinfo->usedOprStack - 1] != oQuery)
    {
      (void) ThrowMagickException(fxinfo->exception, GetMagickModule(), OptionError,
        "Expected '?'", "'%s'", SetShortExp(fxinfo));
      return MagickFalse;
    }
    fxinfo->usedOprStack--;
    ptern->addrQuery = fxinfo->usedElements;
    (void) AddAddressingElement(fxinfo, rCondExec, NULL_ADDRESS);
  }
  else if (ptern->addrColon == NULL_ADDRESS)
  {
    if (fxinfo->OperatorStack[fxinfo->usedOprStack - 1] != oColon)
    {
      (void) ThrowMagickException(fxinfo->exception, GetMagickModule(), OptionError,
        "Expected ':'", "'%s'", SetShortExp(fxinfo));
      return MagickFalse;
    }
    fxinfo->usedOprStack--;
    ptern->addrColon = fxinfo->usedElements;
    (void) AddElement(fxinfo, (fxFltType)0, oPushResult);
    (void) AddAddressingElement(fxinfo, rControlFlow, NULL_ADDRESS);
  }
  else
  {
    (void) ThrowMagickException(fxinfo->exception, GetMagickModule(), OptionError,
      "Too many operands for ternary operator", "'%s'", SetShortExp(fxinfo));
    return MagickFalse;
  }