if (*pfx->pex == '?') {
    pfx->pex++;
    if (ternary->addrQuery != NULL_ADDRESS) {
      ThrowMagickException(pfx->exception, GetMagickModule(), OptionError,
                           "Ternary operator '?' already set", NULL);
      return MagickFalse;
    }
    ternary->addrQuery = pfx->usedElements;
    (void) AddElement(pfx, (fxFltType) 0, oQuery);
  } else if (*pfx->pex == ':') {
    pfx->pex++;
    if (ternary->addrColon != NULL_ADDRESS) {
      ThrowMagickException(pfx->exception, GetMagickModule(), OptionError,
                           "Ternary operator ':' already set", NULL);
      return MagickFalse;
    }
    if (ternary->addrQuery == NULL_ADDRESS) {
      ThrowMagickException(pfx->exception, GetMagickModule(), OptionError,
                           "Ternary operator '?' not set before ':'", NULL);
      return MagickFalse;
    }
    ternary->addrColon = pfx->usedElements;
    (void) AddElement(pfx, (fxFltType) 0, oColon);
  } else {
    ThrowMagickException(pfx->exception, GetMagickModule(), OptionError,
                         "Expected '?' or ':'", NULL);
    return MagickFalse;
  }