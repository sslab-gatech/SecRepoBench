if (ptern->addrQuery == NULL_ADDRESS) {
    (void) ThrowMagickException(
      fxinfo->exception, GetMagickModule(), OptionError,
      "Missing query address in ternary operator", "'%s' at '%s'",
      fxinfo->token, SetShortExp(fxinfo));
    return MagickFalse;
  }

  if (ptern->addrColon != NULL_ADDRESS) {
    (void) ThrowMagickException(
      fxinfo->exception, GetMagickModule(), OptionError,
      "Unexpected colon address in ternary operator", "'%s' at '%s'",
      fxinfo->token, SetShortExp(fxinfo));
    return MagickFalse;
  }

  // Process the query and colon addresses
  // Assuming that the addresses are valid and within bounds
  // Add addressing elements for the ternary operation
  (void) AddAddressingElement(fxinfo, rCopyFrom, ptern->addrQuery);
  (void) AddAddressingElement(fxinfo, rCopyTo, ptern->addrColon);