// If 'avar' data is available, remap the normalized value using the segment maps.
// Set the normalized value in the plan's axes location and coordinates.
// If the normalized value is not zero, mark the plan as not pinned at default.
// Update segment maps for 'avar' for the next axis, if applicable.
if (has_avar) {
  // Get the segment maps for the current axis.
  const OT::SegmentMaps *seg_maps = face->table.avar->get_segment_maps (axes[i].tag);

  // Remap the normalized value using the segment maps.
  float remapped_value = seg_maps->remap (normalized_value);

  // Set the remapped value in the plan's axes location and coordinates.
  plan->normalized_coords[i] = remapped_value;

  // If the remapped value is not zero, mark the plan as not pinned at default.
  if (remapped_value!= 0) {
    plan->all_axes_pinned = false;
  }

  // Update the segment maps for the next axis, if applicable.
  if (i < axes.length - 1) {
    face->table.avar->update_segment_maps (axes[i + 1].tag, seg_maps);
  }
} else {
  // If 'avar' data is not available, set the normalized value in the plan's axes location and coordinates.
  plan->normalized_coords[i] = normalized_value;
}