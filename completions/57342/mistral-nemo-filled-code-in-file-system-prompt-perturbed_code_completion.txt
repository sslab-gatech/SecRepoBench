// <MASK>
for (unsigned i = 0; i < axes.length; i++)
{
  OT::AxisRecord axis = axes[i];
  plan->old_index_to_tag_map.set (axis.index, axis.tag);
  if (!plan->user_axes_location.has (axis.tag))
  {
    axis_not_pinned = true;
    plan->index_to_old_index_map.set (axis.index, axis.index);
  }
  else
  {
    float value = plan->user_axes_location.get (axis.tag);
    if (has_avar)
    {
      const OT::SegmentMaps *seg_maps = fontface->table.avar->get_segment_maps (axis.index);
      value = seg_maps->remap (value);
    }
    plan->normalized_coords[i] = value;
    if (value != 0.0f)
      plan->pinned_at_default = false;
  }
  if (has_avar)
  {
    const OT::SegmentMaps *seg_maps = fontface->table.avar->get_segment_maps (axis.index);
    seg_maps->update (plan->normalized_coords[i]);
  }
}