bool axis_not_pinned = false;

  for (unsigned int i = 0; i < axes.length; i++)
  {
    hb_tag_t axis_tag = axes[i].axisTag;
    float user_value;
    if (plan->user_axes_location.find(axis_tag, &user_value))
    {
      int ncoord = fontface->table.fvar->normalize_axis_value(i, user_value);
      plan->normalized_coords[i] = ncoord;
      if (ncoord != 0)
        axis_not_pinned = true; /* Not pinned at default if normalized value is non-zero */
    }
    else
    {
      plan->normalized_coords[i] = 0; /* Axis not specified by user */
      axis_not_pinned = true;
    }
  }

  if (has_avar)
    fontface->table.avar->map_coords(plan->normalized_coords, axes.length);