for (unsigned int i = 0; i < axes.length; i++)
  {
    const OT::AxisRecord &axis = axes[i];
    hb_tag_t tag = axis.tag;

    // Check if the axis is present in the user's axis location settings
    if (plan->user_axes_location.has(tag))
    {
      // Normalize the value using user settings
      float user_value = plan->user_axes_location.get(tag);
      plan->normalized_coords[i] = user_value;

      // If 'avar' data is available, remap the normalized value using the segment maps
      if (has_avar && seg_maps)
      {
        plan->normalized_coords[i] = seg_maps->map_value(tag, plan->normalized_coords[i]);
      }

      // If the normalized value is not zero, mark the plan as not pinned at default
      if (plan->normalized_coords[i] != 0)
        axis_not_pinned = true;
    }
    else
    {
      // Mark it as not pinned and update the index map
      axis_not_pinned = true;
      plan->normalized_coords[i] = axis.default_value; // Use default value if not set by user
    }
  }