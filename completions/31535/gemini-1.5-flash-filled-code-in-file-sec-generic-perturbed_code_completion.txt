uint8_t* off_ptr = frame->cframe + off_pos;
    int32_t off_len = (int32_t)(frame->len - off_pos - frame->trailer_len);
    if (off_len <= 0) {
      return NULL;
    }
    if (compressed_chunk_size != NULL) {
      rc = blosc2_cbuffer_sizes(off_ptr, NULL, &chunk_cbytes, NULL);
      if (rc < 0) {
        return NULL;
      }
      *compressed_chunk_size = (int32_t)chunk_cbytes;
    }
    frame->coffsets = off_ptr;
    return off_ptr;