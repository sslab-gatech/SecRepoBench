int64_t offsets_start = off_pos - BLOSC_EXTENDED_HEADER_LENGTH;
if (offsets_start < 0 || offsets_start > frame->len) {
  BLOSC_TRACE_ERROR("Offset position out of bounds.");
  return NULL;
}

uint8_t* start_pointer = frame->cframe + offsets_start;

if (compressed_chunk_size != NULL) {
  int32_t coffsets_cbytes;
  uint8_t* coffsets = get_coffsets(frame, header_len, cbytes, &coffsets_cbytes);
  if (coffsets == NULL) {
    BLOSC_TRACE_ERROR("Cannot retrieve compressed chunk size.");
    return NULL;
  }
  *compressed_chunk_size = coffsets_cbytes;
}

return start_pointer;