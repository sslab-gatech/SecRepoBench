if (off_pos + BLOSC_EXTENDED_HEADER_LENGTH > frame->len) {
  BLOSC_TRACE_ERROR("Not enough space to read Blosc header.");
  return NULL;
}

uint8_t *start_ptr = frame->cframe + off_pos;

if (compressed_chunk_size != NULL) {
  int32_t chunk_cbytes;
  rc = blosc2_cbuffer_sizes(start_ptr, NULL, &chunk_cbytes, NULL);
  if (rc < 0) {
    return NULL;
  }
  *compressed_chunk_size = chunk_cbytes;
}

return start_ptr;