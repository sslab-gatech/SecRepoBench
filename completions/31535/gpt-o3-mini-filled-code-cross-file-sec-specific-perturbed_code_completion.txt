if (off_pos >= frame->len) {
  BLOSC_TRACE_ERROR("Calculated offset position exceeds frame length.");
  return NULL;
}
if ((frame->len - off_pos) < BLOSC_EXTENDED_HEADER_LENGTH) {
  BLOSC_TRACE_ERROR("Not enough room to read Blosc header from frame.");
  return NULL;
}
uint8_t* offsets_ptr = frame->cframe + off_pos;
if (compressed_chunk_size != NULL) {
  rc = blosc2_cbuffer_sizes(offsets_ptr, NULL, &chunk_cbytes, NULL);
  if (rc < 0) {
    return NULL;
  }
  *compressed_chunk_size = (int32_t)chunk_cbytes;
}
return offsets_ptr;