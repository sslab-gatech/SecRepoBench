if (off_pos < 0 || off_pos >= frame->len) {
        BLOSC_TRACE_ERROR("Computed offset position is out of bounds.");
        return NULL;
    }
    fseek(fp, off_pos, SEEK_SET);
    uint8_t* coffsets = malloc((size_t)coffsets_cbytes);
    if (coffsets == NULL) {
        BLOSC_TRACE_ERROR("Memory allocation failed for offsets.");
        return NULL;
    }
    size_t rbytes = fread(coffsets, 1, (size_t)coffsets_cbytes, fp);
    if (rbytes != (size_t)coffsets_cbytes) {
        BLOSC_TRACE_ERROR("Cannot read the offsets out of the frame.");
        free(coffsets);
        return NULL;
    }
    frame->coffsets = coffsets;
    return coffsets;