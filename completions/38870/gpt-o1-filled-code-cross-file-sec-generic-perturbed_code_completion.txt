unz_file_info fileInfo;
if (unzGetCurrentFileInfo(m_ZipFileHandle, &fileInfo, filename, max_filename_length, nullptr, 0, nullptr, 0) == UNZ_OK)
{
    if (fileInfo.uncompressed_size > 0)
    {
        std::string strFilename(filename);
        SimplifyFilename(strFilename);

        unz_file_pos filePos;
        if (unzGetFilePos(m_ZipFileHandle, &filePos) == UNZ_OK)
        {
            m_ArchiveMap[strFilename] = ZipFileInfo(filePos, fileInfo.uncompressed_size);
        }
    }
}