unz_s zip_file_info;
if (unzGetCurrentFileInfo(m_ZipFileHandle, &zip_file_info, filename, max_filename_length, NULL, 0, NULL, 0)!= UNZ_OK)
    continue;

if (zip_file_info.size_filename > max_filename_length)
    continue;

std::string filename_str(filename);
SimplifyFilename(filename_str);

if (zip_file_info.uncompressed_size == 0)
    continue;

m_ArchiveMap[filename_str] = ZipFileInfo(m_ZipFileHandle, zip_file_info.uncompressed_size);