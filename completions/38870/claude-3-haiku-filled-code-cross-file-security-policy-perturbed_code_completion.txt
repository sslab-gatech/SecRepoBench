unz_file_info fileInfo;
if (unzGetCurrentFileInfo(m_ZipFileHandle, &fileInfo, filename, max_filename_length, nullptr, 0, nullptr, 0) == UNZ_OK) {
    if (fileInfo.uncompressed_size > 0) {
        // Simplify the filename by removing unnecessary components
        std::string simplifiedFilename(filename);
        ReplaceAll(simplifiedFilename, "\\", "/");
        
        // Ensure the simplified filename length does not exceed the buffer size
        if (fileInfo.size_filename <= max_filename_length) {
            m_ArchiveMap[simplifiedFilename] = ZipFileInfo(m_ZipFileHandle, fileInfo.uncompressed_size);
        }
    }
}