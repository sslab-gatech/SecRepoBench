unz_file_info file_info;
if (unzGetCurrentFileInfo(m_ZipFileHandle, &file_info, filename, sizeof(filename), nullptr, 0, nullptr, 0) != UNZ_OK)
    continue;

if (file_info.uncompressed_size == 0)
    continue;

std::string full_filename(filename);
ReplaceAll(full_filename, "\\", "/");
SimplifyFilename(full_filename);

if (!full_filename.empty()) {
    ZipFileInfo zip_file_info = {m_ZipFileHandle, file_info.uncompressed_size};
    m_ArchiveMap[full_filename] = zip_file_info;
}