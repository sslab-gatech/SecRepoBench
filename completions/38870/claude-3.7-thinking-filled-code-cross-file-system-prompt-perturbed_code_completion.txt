unz_file_info file_info;
if (unzGetCurrentFileInfo(m_ZipFileHandle, &file_info, filename, max_filename_length, nullptr, 0, nullptr, 0) != UNZ_OK) {
    continue;
}

// Skip if file is empty
if (file_info.uncompressed_size == 0) {
    continue;
}

std::string str_filename(filename);
SimplifyFilename(str_filename);

// Store current file position
unz_file_pos file_pos;
if (unzGetFilePos(m_ZipFileHandle, &file_pos) != UNZ_OK) {
    continue;
}

// Add to map
m_ArchiveMap[str_filename] = ZipFileInfo(file_pos, file_info.uncompressed_size);