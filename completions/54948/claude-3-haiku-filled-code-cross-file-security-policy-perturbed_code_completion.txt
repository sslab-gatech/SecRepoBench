size_t slen = ctx->pos - p;
if (slen > 0) {
    if (*ctx->pos == quote_char) {
        ctx->pos++;
        data->type = PLIST_STRING;
        data->strval = strndup(p, slen);
        data->length = slen;
        *plist = plist_new_node(data);
        parse_skip_ws(ctx);
        break;
    } else {
        PLIST_OSTEP_ERR("Missing terminating '%c' at offset %ld\n", quote_char, ctx->pos - ctx->start);
        ctx->err++;
        plist_free_data(data);
        goto err_out;
    }
} else {
    PLIST_OSTEP_ERR("Unexpected end of input while parsing quoted string at offset %ld\n", ctx->pos - ctx->start);
    ctx->err++;
    plist_free_data(data);
    goto err_out;
}