// Find the closing quote while handling escape sequences
            while (ctx->pos < ctx->end) {
                if (*ctx->pos == '\\') {
                    ctx->pos++;
                    if (ctx->pos < ctx->end) {
                        num_escapes++;
                        ctx->pos++;
                    }
                } else if (*ctx->pos == quote_char) {
                    break;
                } else {
                    ctx->pos++;
                }
            }

            if (ctx->pos >= ctx->end || *ctx->pos != quote_char) {
                PLIST_OSTEP_ERR("Missing terminating quote at offset %ld\n", ctx->pos - ctx->start);
                ctx->err++;
                plist_free_data(data);
                goto err_out;
            }

            size_t slen = ctx->pos - p;
            char *strbuf = (char *)malloc(slen + 1);
            if (!strbuf) {
                PLIST_OSTEP_ERR("Memory allocation failed for string buffer\n");
                ctx->err++;
                plist_free_data(data);
                goto err_out;
            }

            ctx->pos++; // Move past the closing quote

            // Copy and process the string, handling escape sequences if necessary