size_t slen = 0;
while (ctx->pos < ctx->end) {
    if (*ctx->pos == quote_char && *(ctx->pos - 1) != '\\') {
        slen = ctx->pos - p;
        ctx->pos++;
        break;
    }
    ctx->pos++;
}
if (ctx->pos >= ctx->end) {
    PLIST_OSTEP_ERR("Unexpected end of input while parsing string at offset %ld\n", ctx->pos - ctx->start);
    ctx->err++;
    break;
}
char *strbuf = malloc(slen + 1);
if (!strbuf) {
    PLIST_OSTEP_ERR("Memory allocation failed while parsing string at offset %ld\n", ctx->pos - ctx->start);
    ctx->err++;
    break;
}