size_t slen = 0;
            while (ctx->pos < ctx->end && *ctx->pos != quote_char) {
                if (*ctx->pos == '\\') {
                    num_escapes++;
                    ctx->pos++;
                }
                ctx->pos++;
            }
            slen = ctx->pos - p;
            char *strbuf = (char*)malloc(slen + 1);
            if (!strbuf) {
                PLIST_OSTEP_ERR("Failed to allocate memory for string at offset %ld\n", ctx->pos - ctx->start);
                ctx->err++;
                break;
            }