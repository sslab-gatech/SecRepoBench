// Parse a quoted string from the input context, handling escape characters.
// Traverse the input until a matching closing quote is found, ensuring it is not escaped.
// Count escape characters encountered during parsing for later processing.
// If the end of input is reached without finding the closing quote, log an error and set the error flag.
// Calculate the length of the parsed string and allocate memory to store it.
// Proceed to the next character after the closing quote for further parsing.
size_t slen = 0;
while (ctx->pos < ctx->end) {
    if (*ctx->pos == '\\') {
        num_escapes++;
        ctx->pos++;
        if (ctx->pos >= ctx->end) {
            PLIST_OSTEP_ERR("Unexpected end of string at offset %ld\n", ctx->pos - ctx->start);
            ctx->err++;
            break;
        }
    } else if (*ctx->pos == quote_char) {
        ctx->pos++;
        break;
    }
    ctx->pos++;
    slen++;
}
if (ctx->err) {
    return;
}
if (ctx->pos >= ctx->end) {
    PLIST_OSTEP_ERR("Unexpected end of string at offset %ld\n", ctx->pos - ctx->start);
    ctx->err++;
    return;
}
char* strbuf = malloc(slen + 1);
if (!strbuf) {
    PLIST_OSTEP_ERR("Memory allocation failed\n");
    ctx->err++;
    return;
}