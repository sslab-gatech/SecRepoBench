while (ctx->pos < ctx->end) {
    if (*ctx->pos == quote_char && (ctx->pos == p || *(ctx->pos - 1) != '\\')) {
        break;
    }
    if (*ctx->pos == '\\') {
        num_escapes++;
    }
    ctx->pos++;
}
if (ctx->pos >= ctx->end) {
    PLIST_OSTEP_ERR("Missing terminating %c at offset %ld\n", quote_char, ctx->pos - ctx->start);
    ctx->err++;
    plist_free_data(data);
    goto err_out;
}
size_t slen = ctx->pos - p;
char *strbuf = malloc(slen + 1);
if (!strbuf) {
    PLIST_OSTEP_ERR("Out of memory when allocating string buffer\n");
    ctx->err++;
    plist_free_data(data);
    goto err_out;
}
ctx->pos++;