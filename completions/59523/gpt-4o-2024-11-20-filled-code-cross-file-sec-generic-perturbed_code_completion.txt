{
          size_t len = strlen((const char *)value);
          if (len >= f->size) // Ensure the string fits within the fixed size
            len = f->size - 1; // Leave space for null-termination
          char *new_mem = (char *)malloc(f->size);
          if (!new_mem)
            {
              LOG_ERROR("Memory allocation failed in dynapi_set_helper");
              return;
            }
          memset(new_mem, 0, f->size); // Zero out the allocated memory
          memcpy(new_mem, value, len); // Copy the string
          ((char **)old)[0] = new_mem; // Update the pointer in 'old'
        }