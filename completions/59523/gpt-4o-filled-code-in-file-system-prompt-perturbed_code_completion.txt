{
          *(char**)old = (char*)malloc(f->size + 1);
          if (*(char**)old)
          {
            strncpy(*(char**)old, (char*)value, f->size);
            (*(char**)old)[f->size] = '\0';
          }
        }
      else if (strEQc(f->type, "T") && versiontype == R_2000)
        {
          size_t len = strlen((char*)value);
          *(char**)old = (char*)malloc(len + 1);
          if (*(char**)old)
          {
            strcpy(*(char**)old, (char*)value);
          }
        }
      else if (strEQc(f->type, "T") && versiontype >= R_2010)
        {
          size_t len = strlen((char*)value);
          *(wchar_t**)old = (wchar_t*)malloc((len + 1) * sizeof(wchar_t));
          if (*(wchar_t**)old)
          {
            mbstowcs(*(wchar_t**)old, (char*)value, len + 1);
          }
        }
      else
        {
          size_t len = strlen((char*)value);
          *(char**)old = (char*)malloc(len + 1);
          if (*(char**)old)
          {
            strcpy(*(char**)old, (char*)value);
          }
        }