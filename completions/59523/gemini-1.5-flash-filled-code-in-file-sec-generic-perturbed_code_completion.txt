{
      size_t len = strlen (*(char**)value) + 1;
      char *new_str = (char*)malloc (len);
      if (!new_str)
        {
          DWG_WARNING ("malloc failed");
          return;
        }
      memcpy (new_str, *(char**)value, len);
      memcpy (old, &new_str, sizeof (char*));
    }
    else if (strEQc (f->type, "TF"))
      {
        size_t len = strlen (*(char**)value) + 1;
        char *new_str = (char*)malloc (len);
        if (!new_str)
          {
            DWG_WARNING ("malloc failed");
            return;
          }
        memcpy (new_str, *(char**)value, len);
        memcpy (old, &new_str, sizeof (char*));
      }
    else if (strEQc (f->type, "T") && versiontype >= V2010)
      {
        size_t len = strlen (*(char**)value) + 1;
        char *new_str = (char*)malloc (len);
        if (!new_str)
          {
            DWG_WARNING ("malloc failed");
            return;
          }
        memcpy (new_str, *(char**)value, len);
        memcpy (old, &new_str, sizeof (char*));
      }
    else if (strEQc (f->type, "TV") && versiontype >= V2010 && is_utf8)
      {
        size_t len = strlen (*(char**)value) + 1;
        wchar_t *new_wstr = (wchar_t*)malloc (len * sizeof (wchar_t));
        if (!new_wstr)
          {
            DWG_WARNING ("malloc failed");
            return;
          }
        mbstowcs (new_wstr, *(char**)value, len);
        memcpy (old, &new_wstr, sizeof (wchar_t*));
      }
    else if (strEQc (f->type, "TV") && versiontype >= V2010)
      {
        size_t len = strlen (*(char**)value) + 1;
        char *new_str = (char*)malloc (len);
        if (!new_str)
          {
            DWG_WARNING ("malloc failed");
            return;
          }
        memcpy (new_str, *(char**)value, len);
        memcpy (old, &new_str, sizeof (char*));
      }