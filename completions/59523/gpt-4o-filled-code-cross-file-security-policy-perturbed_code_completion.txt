{
          size_t len = strlen((char*)value) + 1; // +1 for null-terminator
          *(char**)old = (char*)malloc(len);
          if (*(char**)old)
            strncpy(*(char**)old, (char*)value, len);
        }