{
        size_t len = strlen (*(char**)value) + 1;
        char *new_str = (char*)malloc (len);
        if (!new_str)
          {
            // Handle memory allocation failure appropriately.  For example:
            perror("malloc failed");
            exit(1); // Or another suitable error handling mechanism
          }
        strncpy (new_str, *(char**)value, len);
        memcpy (old, &new_str, sizeof (char*));
      }
      else if (strEQc (f->type, "TF"))
        {
          size_t len = f->size;
          char *new_str = (char*)malloc (len);
          if (!new_str)
            {
              // Handle memory allocation failure appropriately.  For example:
              perror("malloc failed");
              exit(1); // Or another suitable error handling mechanism
            }
          strncpy (new_str, *(char**)value, len);
          memcpy (old, &new_str, sizeof (char*));
        }
      else if (is_utf8 && (versiontype >= R_2007))
        {
          size_t len = mbstowcs (NULL, *(char**)value, 0) + 1;
          wchar_t *new_str = (wchar_t*)malloc (len * sizeof (wchar_t));
          if (!new_str)
            {
              // Handle memory allocation failure appropriately.  For example:
              perror("malloc failed");
              exit(1); // Or another suitable error handling mechanism
            }
          mbstowcs (new_str, *(char**)value, len);
          memcpy (old, &new_str, sizeof (wchar_t*));
        }
      else
        {
          size_t len = strlen (*(char**)value) + 1;
          char *new_str = (char*)malloc (len);
          if (!new_str)
            {
              // Handle memory allocation failure appropriately.  For example:
              perror("malloc failed");
              exit(1); // Or another suitable error handling mechanism
            }
          strncpy (new_str, *(char**)value, len);
          memcpy (old, &new_str, sizeof (char*));
        }