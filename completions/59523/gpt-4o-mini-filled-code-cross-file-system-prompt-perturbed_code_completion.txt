size_t length = strlen(*(char**)value);
        if (is_utf8) {
            // Convert UTF-8 to wide character if necessary
            wchar_t *wstr = malloc((length + 1) * sizeof(wchar_t));
            mbstowcs(wstr, *(char**)value, length + 1);
            memcpy(old, wstr, (length + 1) * sizeof(wchar_t));
            free(wstr);
        } else {
            // For fixed length (TFv), allocate memory based on the field's size
            size_t alloc_size = f->size;
            char *new_str = malloc(alloc_size);
            strncpy(new_str, *(char**)value, alloc_size - 1);
            new_str[alloc_size - 1] = '\0'; // Ensure null-termination
            memcpy(old, &new_str, sizeof(char*));
            free(new_str);
        }