// Create a code snippet to fill in the masked region
static void
dynapi_fill_masked_region (void *restrict old, const Dwg_DYNAPI_field *restrict f,
                   const Dwg_Version_Type versiontype,
                   const void *restrict value, const bool is_utf8)
{
  // Check if the field is a mask
  if (f->type == Dwg_TF_Mask)
  {
    // Get the mask value from the input
    const Dwg_TF_Mask *mask = (const Dwg_TF_Mask *)value;

    // Get the size of the mask
    size_t mask_size = mask->size;

    // Allocate memory for the masked region
    char *masked_region = malloc (mask_size);

    // Fill the masked region with the mask value
    memset (masked_region, mask->value, mask_size);

    // Update the pointer in 'old' to the newly allocated masked region
    * (char **)old = masked_region;
  }
  else
  {
    // If the field is not a mask, call the default helper function
    dynapi_set_helper (old, f, versiontype, value, is_utf8);
  }
}