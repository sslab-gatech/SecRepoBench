// Allocate memory and copy the string from 'value' to a new memory block,
        // accounting for both fixed-length and dynamically allocated strings.
        // If the string is fixed-length (TFv), allocate memory according to the field's size
        // and copy the string with consideration for null-termination.
        // For ASCII strings with specific DWG versions, allocate memory based on
        // the length of the input string and copy it accordingly.
        // For wide character strings, convert UTF-8 encoded strings to a wide character format
        // if necessary, and allocate memory for the wide string before copying it.
        // If the field type is not TF and DWG version conditions are met, perform these conversions.
        // In all cases, update the pointer in 'old' to the newly allocated string memory,
        // ensuring the previous memory is freed to avoid memory leaks.
        if (f->is_string)
          {
            size_t len = strlen((char*)value);
            char* new_str = (char*)malloc(len + 1);
            if (!new_str)
              {
                LOG_ERROR("Memory allocation failed");
                return false;
              }
            strcpy(new_str, (char*)value);
            free(*(char**)old);
            *(char**)old = new_str;
          }
        else
          {
            memcpy(old, value, f->size);
          }