// Allocate fixed size for TFv and copy the string
if (*(char**)old)
  free(*(char**)old);
*(char**)old = malloc(f->size);
if (*(char**)old)
  memcpy(*(char**)old, *(char**)value, f->size);