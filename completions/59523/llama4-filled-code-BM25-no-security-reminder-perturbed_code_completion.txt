else if (strEQc (f->type, "TFv"))
  {
    char *old_str = *(char **)old;
    size_t len = strlen ((char *)value);
    if (old_str && f->is_malloc)
      free (old_str);
    *(char **)old = malloc (len + 1);
    strcpy (*(char **)old, (char *)value);
  }
else if (strEQc (f->type, "TF"))
  {
    char *old_str = *(char **)old;
    size_t len = strlen ((char *)value);
    if (old_str && f->is_malloc)
      free (old_str);
    *(char **)old = malloc (len + 1);
    strcpy (*(char **)old, (char *)value);
  }
else if (strEQc (f->type, "T"))
  {
    if (*(char **)old && f->is_malloc)
      free (*(char **)old);
    *(char **)old = strdup ((char *)value);
  }
else if (is_utf8 && strEQc (f->type, "Utf8String"))
  {
    wchar_t *old_str = *(wchar_t **)old;
    size_t len = strlen ((char *)value);
    if (old_str && f->is_malloc)
      free (old_str);
    *(wchar_t **)old = malloc ((len + 1) * sizeof (wchar_t));
    mbstowcs (*(wchar_t **)old, (char *)value, len + 1);
  }