else if (strEQc (f->type, "TFv"))
      {
        char *new_str = malloc(f->size + 1); // Allocate memory for the fixed-length string
        if (!new_str)
          {
            LOG_ERROR("Out of memory");
            return;
          }
        strncpy(new_str, (char*)value, f->size); // Copy the string, ensuring null-termination
        new_str[f->size] = '\0';
        memcpy(old, new_str, f->size); // Copy the new string to the old memory location
        free(new_str); // Free the allocated memory
      }
    else if (strEQc (f->type, "T"))
      {
        if (is_utf8)
          {
            size_t len = strlen((char*)value) + 1; // Get the length of the UTF-8 string
            char *new_str = malloc(len); // Allocate memory for the UTF-8 string
            if (!new_str)
              {
                LOG_ERROR("Out of memory");
                return;
              }
            strncpy(new_str, (char*)value, len); // Copy the UTF-8 string
            new_str[len - 1] = '\0';
            memcpy(old, new_str, len); // Copy the new string to the old memory location
            free(new_str); // Free the allocated memory
          }
        else
          {
            size_t len = strlen((char*)value) * sizeof(wchar_t) + sizeof(wchar_t); // Get the length of the wide string
            wchar_t *new_wstr = malloc(len); // Allocate memory for the wide string
            if (!new_wstr)
              {
                LOG_ERROR("Out of memory");
                return;
              }
            mbstowcs(new_wstr, (char*)value, len / sizeof(wchar_t)); // Convert the ASCII string to a wide string
            memcpy(old, new_wstr, len); // Copy the new wide string to the old memory location
            free(new_wstr); // Free the allocated memory
          }
      }
    else if (strEQc (f->type, "TU"))
      {
        if (is_utf8)
          {
            size_t len = strlen((char*)value) + 1; // Get the length of the UTF-8 string
            char *new_str = malloc(len); // Allocate memory for the UTF-8 string
            if (!new_str)
              {
                LOG_ERROR("Out of memory");
                return;
              }
            strncpy(new_str, (char*)value, len); // Copy the UTF-8 string
            new_str[len - 1] = '\0';
            memcpy(old, new_str, len); // Copy the new string to the old memory location
            free(new_str); // Free the allocated memory
          }
        else
          {
            size_t len = strlen((char*)value) * sizeof(wchar_t) + sizeof(wchar_t); // Get the length of the wide string
            wchar_t *new_wstr = malloc(len); // Allocate memory for the wide string
            if (!new_wstr)
              {
                LOG_ERROR("Out of memory");
                return;
              }
            mbstowcs(new_wstr, (char*)value, len / sizeof(wchar_t)); // Convert the ASCII string to a wide string
            memcpy(old, new_wstr, len); // Copy the new wide string to the old memory location
            free(new_wstr); // Free the allocated memory
          }
      }
    else if (strEQc (f->type, "TUv"))
      {
        if (is_utf8)
          {
            size_t len = strlen((char*)value) + 1; // Get the length of the UTF-8 string
            char *new_str = malloc(len); // Allocate memory for the UTF-8 string
            if (!new_str)
              {
                LOG_ERROR("Out of memory");
                return;
              }
            strncpy(new_str, (char*)value, len); // Copy the UTF-8 string
            new_str[len - 1] = '\0';
            memcpy(old, new_str, len); // Copy the new string to the old memory location
            free(new_str); // Free the allocated memory
          }
        else
          {
            size_t len = strlen((char*)value) * sizeof(wchar_t) + sizeof(wchar_t); // Get the length of the wide string
            wchar_t *new_wstr = malloc(len); // Allocate memory for the wide string
            if (!new_wstr)
              {
                LOG_ERROR("Out of memory");
                return;
              }
            mbstowcs(new_wstr, (char*)value, len / sizeof(wchar_t)); // Convert the ASCII string to a wide string
            memcpy(old, new_wstr, len); // Copy the new wide string to the old memory location
            free(new_wstr); // Free the allocated memory
          }
      }
    else if (strEQc (f->type, "TUv"))
      {
        if (is_utf8)
          {
            size_t len = strlen((char*)value) + 1; // Get the length of the UTF-8 string
            char *new_str = malloc(len); // Allocate memory for the UTF-8 string
            if (!new_str)
              {
                LOG_ERROR("Out of memory");
                return;
              }
            strncpy(new_str, (char*)value, len); // Copy the UTF-8 string
            new_str[len - 1] = '\0';
            memcpy(old, new_str, len); // Copy the new string to the old memory location
            free(new_str); // Free the allocated memory
          }
        else
          {
            size_t len = strlen((char*)value) * sizeof(wchar_t) + sizeof(wchar_t); // Get the length of the wide string
            wchar_t *new_wstr = malloc(len); // Allocate memory for the wide string
            if (!new_wstr)
              {
                LOG_ERROR("Out of memory");
                return;
              }
            mbstowcs(new_wstr, (char*)value, len / sizeof(wchar_t)); // Convert the ASCII string to a wide string
            memcpy(old, new_wstr, len); // Copy the new wide string to the old memory location
            free(new_wstr); // Free the allocated memory
          }
      }
    else if (strEQc (f->type, "TUv"))
      {
        if (is_utf8)
          {
            size_t len = strlen((char*)value) + 1; // Get the length of the UTF-8 string
            char *new_str = malloc(len); // Allocate memory for the UTF-8 string
            if (!new_str)
              {
                LOG_ERROR("Out of memory");
                return;
              }
            strncpy(new_str, (char*)value, len); // Copy the UTF-8 string
            new_str[len - 1] = '\0';
            memcpy(old, new_str, len); // Copy the new string to the old memory location
            free(new_str); // Free the allocated memory
          }
        else
          {
            size_t len = strlen((char*)value) * sizeof(wchar_t) + sizeof(wchar_t); // Get the length of the wide string
            wchar_t *new_wstr = malloc(len); // Allocate memory for the wide string
            if (!new_wstr)
              {
                LOG_ERROR("Out of memory");
                return;
              }
            mbstowcs(new_wstr, (char*)value, len / sizeof(wchar_t)); // Convert the ASCII string to a wide string
            memcpy(old, new_wstr, len); // Copy the new wide string to the old memory location
            free(new_wstr); // Free the allocated memory
          }
      }
    else if (strEQc (f->type, "TUv"))
      {
        if (is_utf8)
          {
            size_t len = strlen((char*)value) + 1; // Get the length of the UTF-8 string
            char *new_str = malloc(len); // Allocate memory for the UTF-8 string
            if (!new_str)
              {
                LOG_ERROR("Out of memory");
                return;
              }
            strncpy(new_str, (char*)value, len); // Copy the UTF-8 string
            new_str[len - 1] = '\0';
            memcpy(old, new_str, len); // Copy the new string to the old memory location
            free(new_str); // Free the allocated memory
          }
        else
          {
            size_t len = strlen((char*)value) * sizeof(wchar_t) + sizeof(wchar_t); // Get the length of the wide string
            wchar_t *new_wstr = malloc(len); // Allocate memory for the wide string
            if (!new_wstr)
              {
                LOG_ERROR("Out of memory");
                return;
              }
            mbstowcs(new_wstr, (char*)value, len / sizeof(wchar_t)); // Convert the ASCII string to a wide string
            memcpy(old, new_wstr, len); // Copy the new wide string to the old memory location
            free(new_wstr); // Free the allocated memory
          }
      }
    else if (strEQc (f->type, "TUv"))
      {
        if (is_utf8)
          {
            size_t len = strlen((char*)value) + 1; // Get the length of the UTF-8 string
            char *new_str = malloc(len); // Allocate memory for the UTF-8 string
            if (!new_str)
              {
                LOG_ERROR("Out of memory");
                return;
              }
            strncpy(new_str, (char*)value, len); // Copy the UTF-8 string
            new_str[len - 1] = '\0';
            memcpy(old, new_str, len); // Copy the new string to the old memory location
            free(new_str); // Free the allocated memory
          }
        else
          {
            size_t len = strlen((char*)value) * sizeof(wchar_t) + sizeof(wchar_t); // Get the length of the wide string
            wchar_t *new_wstr = malloc(len); // Allocate memory for the wide string
            if (!new_wstr)
              {
                LOG_ERROR("Out of memory");
                return;
              }
            mbstowcs(new_wstr, (char*)value, len / sizeof(wchar_t)); // Convert the ASCII string to a wide string
            memcpy(old, new_wstr, len); // Copy the new wide string to the old memory location
            free(new_wstr); // Free the allocated memory
          }
      }
    else if (strEQc (f->type, "TUv"))
      {
        if (is_utf8)
          {
            size_t len = strlen((char*)value) + 1; // Get the length of the UTF-8 string
            char *new_str = malloc(len); // Allocate memory for the UTF-8 string
            if (!new_str)
              {
                LOG_ERROR("Out of memory");
                return;
              }
            strncpy(new_str, (char*)value, len); // Copy the UTF-8 string
            new_str[len - 1] = '\0';
            memcpy(old, new_str, len); // Copy the new string to the old memory location
            free(new_str); // Free the allocated memory
          }
        else
          {
            size_t len = strlen((char*)value) * sizeof(wchar_t) + sizeof(wchar_t); // Get the length of the wide string
            wchar_t *new_wstr = malloc(len); // Allocate memory for the wide string
            if (!new_wstr)
              {
                LOG_ERROR("Out of memory");
                return;
              }
            mbstowcs(new_wstr, (char*)value, len / sizeof(wchar_t)); // Convert the ASCII string to a wide string
            memcpy(old, new_wstr, len); // Copy the new wide string to the old memory location
            free(new_wstr); // Free the allocated memory
          }
      }
    else if (strEQc (f->type, "TUv"))
      {
        if (is_utf8)
          {
            size_t len = strlen((char*)value) + 1; // Get the length of the UTF-8 string
            char *new_str = malloc(len); // Allocate memory for the UTF-8 string
            if (!new_str)
              {
                LOG_ERROR("Out of memory");
                return;
              }
            strncpy(new_str, (char*)value, len); // Copy the UTF-8 string
            new_str[len - 1] = '\0';
            memcpy(old, new_str, len); // Copy the new string to the old memory location
            free(new_str); // Free the allocated memory
          }
        else
          {
            size_t len = strlen((char*)value) * sizeof(wchar_t) + sizeof(wchar_t); // Get the length of the wide string
            wchar_t *new_wstr = malloc(len); // Allocate memory for the wide string
            if (!new_wstr)
              {
                LOG_ERROR("Out of memory");
                return;
              }
            mbstowcs(new_wstr, (char*)value, len / sizeof(wchar_t)); // Convert the ASCII string to a wide string
            memcpy(old, new_wstr, len); // Copy the new wide string to the old memory location
            free(new_wstr); // Free the allocated memory
          }
      }
    else if (strEQc (f->type, "TUv"))
      {
        if (is_utf8)
          {
            size_t len = strlen((char*)value) + 1; // Get the length of the UTF-8 string
            char *new_str = malloc(len); // Allocate memory for the UTF-8 string
            if (!new_str)
              {
                LOG_ERROR("Out of memory");
                return;
              }
            strncpy(new_str, (char*)value, len); // Copy the UTF-8 string
            new_str[len - 1] = '\