{
  char *s = (char *)malloc (f->size);
  if (!s)
    return; // Memory allocation failed
  
  // Copy data safely, ensuring we don't exceed the allocated size
  strncpy (s, *(const char **)value, f->size - 1);
  s[f->size - 1] = '\0'; // Ensure null-termination
  
  // Free the old memory before replacing it
  if (*(char **)old)
    free (*(char **)old);
  *(char **)old = s;
}