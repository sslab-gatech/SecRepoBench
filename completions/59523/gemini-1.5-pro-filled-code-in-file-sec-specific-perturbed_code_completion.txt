{
          if (f->size > 0) {
            char *newstr = (char *)malloc(f->size);
            if (!newstr) {
              // Handle memory allocation failure
              return; 
            }
            strncpy(newstr, *(char **)value, f->size - 1);
            newstr[f->size - 1] = '\0';
            memcpy(old, &newstr, sizeof(char *));
          }
        } else if (versiontype == DWG_VERSION_AC1015 || versiontype == DWG_VERSION_AC1018)
        {
          if (f->size == sizeof(char *)) {
            size_t len = strlen(*(char **)value);
            char *newstr = (char *)malloc(len + 1);
            if (!newstr) {
              // Handle memory allocation failure
              return;
            }
            strcpy(newstr, *(char **)value);
            memcpy(old, &newstr, sizeof(char *));
          }
          else if (f->size == sizeof(wchar_t *))
          {
            if (is_utf8) {
              wchar_t *wstr = dwg_utf8_to_wcs(*(char **)value);
              if (!wstr) {
                // Handle conversion failure
                return;
              }
              memcpy(old, &wstr, sizeof(wchar_t *));
            }
          }
        }
        else if (!strEQc(f->type, "TF")) {
          if (f->size == sizeof(char *)) {
            size_t len = strlen(*(char **)value);
            char *newstr = (char *)malloc(len + 1);
            if (!newstr) {
              // Handle memory allocation failure
              return;
            }
            strcpy(newstr, *(char **)value);
            char **old_str_ptr = (char **)old;
            if (*old_str_ptr) {
              free(*old_str_ptr);
            }
            *old_str_ptr = newstr;
          }
          else if (f->size == sizeof(wchar_t *))
          {
            if (is_utf8) {
              wchar_t *wstr = dwg_utf8_to_wcs(*(char **)value);
              if (!wstr) {
                // Handle conversion failure
                return;
              }
              wchar_t **old_wstr_ptr = (wchar_t **)old;
              if (*old_wstr_ptr) {
                free(*old_wstr_ptr);
              }
              *old_wstr_ptr = wstr;
            }
          }
        }