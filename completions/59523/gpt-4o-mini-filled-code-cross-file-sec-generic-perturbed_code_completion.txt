size_t length = strlen((const char*)value);
        if (length >= f->size) {
            // If the string is too long, truncate it to fit the allocated size
            length = f->size - 1; // Leave space for null terminator
        }

        // Allocate memory for the new string
        char *new_string = (char*)malloc(f->size);
        if (!new_string) {
            // Handle memory allocation failure
            LOG_ERROR("Memory allocation failed for field %s", f->name);
            return; // or handle error appropriately
        }

        // Copy the string and ensure null termination
        strncpy(new_string, (const char*)value, length);
        new_string[length] = '\0'; // Null-terminate the string

        // Free the old memory if it was allocated
        if (*(char**)old) {
            free(*(char**)old);
        }

        // Update the old pointer to point to the new string
        *(char**)old = new_string;