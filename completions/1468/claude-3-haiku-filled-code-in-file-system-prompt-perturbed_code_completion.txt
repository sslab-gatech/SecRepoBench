// Calculate the coefficient using a lookup table and adjust it based on
        // the position within the block and a quality scale.
        magnitude = (magnitude * qscale) >> 10;
        coeff = vlcdec_lookup[num_bits - 1][magnitude];
        coeff = (coeff * qscale) >> 10;