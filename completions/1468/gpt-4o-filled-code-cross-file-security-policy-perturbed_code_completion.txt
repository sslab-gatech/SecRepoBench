if (num_bits > 0 && num_bits <= 32 && magnitude < (1U << num_bits)) {
            coeff = ctx->vlcdec_lookup[magnitude];
            if (coeff & 1)
                coeff = -(coeff >> 1);
            else
                coeff >>= 1;
            coeff *= qscale;
        } else {
            return AVERROR_INVALIDDATA;
        }