if (magnitude) {
    int sign = get_bits1(&ctx->gb);
    coeff = sign ? -magnitude : magnitude;
    coeff *= qscale;
} else {
    coeff = 0;
}