if (num_bits > 15 || magnitude >= (1 << num_bits)) {
    return AVERROR_INVALIDDATA;
}

coeff = vlcdec_lookup[num_bits][magnitude] * qscale;
if (pos & 1)
    coeff = -coeff;