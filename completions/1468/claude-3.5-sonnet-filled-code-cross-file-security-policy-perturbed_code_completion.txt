if (num_bits <= 16 && magnitude < (1 << num_bits)) {
    coeff = vlcdec_lookup[num_bits - 1][magnitude];
    if (coeff) {
        if (get_bits1(&ctx->gb))
            coeff = -coeff;
        coeff *= qscale;
        coeff >>= 2;
    }
} else {
    return AVERROR_INVALIDDATA;
}