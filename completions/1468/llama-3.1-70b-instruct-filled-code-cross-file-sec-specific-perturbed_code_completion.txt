coeff = (magnitude ^ ((vlc >> 7) & 1)) - ((vlc >> 7) & 1);
coeff = (coeff * qscale + 32) >> 6;
if (pos == 0)
    coeff = (coeff * ctx->quant_tables[0][0] + 32) >> 6;
else
    coeff = (coeff * ctx->quant_tables[0][ctx->scantable.permutated[pos]] + 32) >> 6;