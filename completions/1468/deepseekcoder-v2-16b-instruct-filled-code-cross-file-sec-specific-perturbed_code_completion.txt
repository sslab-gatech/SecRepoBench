coeff = lookup_table[magnitude];
        coeff = (coeff * qscale) >> 3; // Adjust the coefficient based on the quality scale
        if (pos < 8) {
            coeff = (coeff * pos_adjustments[pos]) >> 3; // Apply position-specific adjustment
        }