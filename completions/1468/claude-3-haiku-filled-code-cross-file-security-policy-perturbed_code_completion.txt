// Calculate the coefficient using a lookup table and adjust it based on
// the position within the block and a quality scale.
magnitude = av_clip(magnitude, 0, (1 << num_bits) - 1);
coeff = vlcdec_lookup[vlc] * qscale * ctx->scantable.stretch_factor[pos] >> 11;
if (get_bits1(&ctx->gb))
    coeff = -coeff;