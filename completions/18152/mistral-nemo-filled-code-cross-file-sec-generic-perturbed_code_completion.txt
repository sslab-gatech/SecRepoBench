// Allocate or reallocate memory for the BAM data buffer to accommodate the new data size.
    b->l_data = c->l_qname + c->l_extranul;
    b->data = realloc(b->data, b->l_data);
    if (!b->data) {
        hts_log_error("Failed to allocate memory for BAM data buffer");
        return -4;
    }

    // Read the query name part of the BAM record into the buffer.
    if (bgzf_read(filepointer, b->data, c->l_qname) != c->l_qname) {
        hts_log_error("Failed to read query name from BAM record");
        return -4;
    }

    // Pad the query name with extra nulls if necessary.
    memset(b->data + c->l_qname, 0, c->l_extranul);