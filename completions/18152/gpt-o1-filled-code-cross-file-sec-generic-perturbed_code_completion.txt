// Set the insert size from the input data.
    c->isize = (int32_t)x[7];

    // Calculate the new length for data allocation, considering extra nulls.
    if (block_len < 32) return -4;
    new_l_data = block_len - 32 + c->l_extranul;

    // Check for overflow and consistency errors in data lengths.
    if (new_l_data < c->l_qname) return -4; // at least must fit the qname

    // Allocate or reallocate memory for the BAM data buffer to accommodate the new data size.
    if ((size_t)b->m_data < new_l_data) {
        uint8_t *tmp = (uint8_t *)realloc(b->data, new_l_data);
        if (!tmp) return -4;
        b->data = tmp;
        b->m_data = new_l_data;
    }
    b->l_data = new_l_data;

    // Read the query name part of the BAM record into the buffer.
    if (bgzf_read(filepointer, b->data, c->l_qname) != c->l_qname)
        return -4;

    // Pad the query name with extra nulls if necessary.
    memset(b->data + c->l_qname, 0, c->l_extranul);