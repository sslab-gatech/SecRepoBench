// Set the insert size from the input data.
    c->isize = (int32_t)(x[7] << 24 | x[6] << 16 | x[5] << 8 | x[4]);

    // Calculate the new length for data allocation, considering extra nulls.
    b->l_data = c->l_qname + (b->l_data - c->l_qname) + c->l_extranul;

    // Check for overflow and consistency errors in data lengths.
    if (b->l_data > UINT32_MAX - 32) {
        return -4; // Overflow
    }

    // Allocate or reallocate memory for the BAM data buffer to accommodate the new data size.
    if (b->m_data < b->l_data) {
        uint8_t *new_data = realloc(b->data, b->l_data + 32);
        if (!new_data) {
            return -4; // Allocation failed
        }
        b->data = new_data;
        b->m_data = b->l_data + 32;
    }

    // Read the query name part of the BAM record into the buffer.
    if (bgzf_read(filepointer, b->data, c->l_qname) != c->l_qname) {
        return -4; // Truncated read
    }

    // Pad the query name with extra nulls if necessary.
    if (c->l_qname < b->l_data - c->l_qname) {
        memset(b->data + c->l_qname, 0, b->l_data - c->l_qname - c->l_qname);
    }