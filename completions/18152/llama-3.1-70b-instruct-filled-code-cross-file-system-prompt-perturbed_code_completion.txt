// Set the insert size from the input data.
c->isize = x[7];

// Calculate the new length for data allocation, considering extra nulls.
new_l_data = block_len - 32;
if (new_l_data < c->l_qname + c->l_qseq + c->l_extranul) return -4; // overflow

// Check for overflow and consistency errors in data lengths.
if (c->l_qname + c->l_qseq + c->l_extranul > INT_MAX) return -4; // overflow

// Allocate or reallocate memory for the BAM data buffer to accommodate the new data size.
if (b->l_data < c->l_qname + c->l_qseq + c->l_extranul) {
    if (b->l_data > 0) free(b->data);
    b->data = malloc(c->l_qname + c->l_qseq + c->l_extranul);
    if (!b->data) return -3; // out of memory
    b->l_data = c->l_qname + c->l_qseq + c->l_extranul;
}

// Read the query name part of the BAM record into the buffer.
if (bgzf_read(filepointer, b->data, c->l_qname)!= c->l_qname) return -3;

// Pad the query name with extra nulls if necessary.
for (i = c->l_qname; i < c->l_qname + c->l_extranul; ++i) b->data[i] = 0;