// Calculate the new length for data allocation, considering extra nulls.
new_l_data = c->l_qname + b->l_data - c->l_qname;
if (new_l_data > b->m_data) {
    b->data = realloc(b->data, new_l_data);
    if (!b->data) {
        return -4; // Memory allocation failure
    }
    b->m_data = new_l_data;
}

// Read the query name part of the BAM record into the buffer.
if (bgzf_read(filepointer, b->data, c->l_qname) != c->l_qname) {
    return -4; // Truncated data
}

// Pad the query name with extra nulls if necessary.
if (c->l_extranul > 0) {
    memset(b->data + c->l_qname, 0, c->l_extranul);
}