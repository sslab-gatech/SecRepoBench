if (attribute->atype == XML_ATTRIBUTE_ID) {
    if (attribute->doc != NULL && attribute->doc->ids != NULL) {
        xmlHashRemoveEntry(attribute->doc->ids, attribute->name, xmlTextReaderFreeIDTableEntry);
    }
}
if (attribute->children != NULL) {
    xmlNodePtr child = attribute->children;
    while (child != NULL) {
        xmlTextReaderFreeNode(reader, child);
        child = child->next;
    }
    attribute->children = NULL;
}
if (dict != NULL && attribute->name != NULL) {
    DICT_FREE(attribute->name);
}