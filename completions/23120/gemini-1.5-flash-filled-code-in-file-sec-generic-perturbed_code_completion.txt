if ((attribute->ns != NULL) &&
        (attribute->ns->prefix != NULL) &&
        (xmlStrEqual(attribute->ns->prefix, BAD_CAST "xml"))) {
	if (xmlStrEqual(attribute->name, BAD_CAST "id")) {
	    if ((reader != NULL) && (reader->ctxt != NULL) &&
		(reader->ctxt->myDoc != NULL))
		xmlTextReaderRemoveID(reader->ctxt->myDoc, attribute);
	} else if (xmlStrEqual(attribute->name, BAD_CAST "ref")) {
	    if ((reader != NULL) && (reader->ctxt != NULL) &&
		(reader->ctxt->myDoc != NULL))
		xmlTextReaderRemoveRef(reader->ctxt->myDoc, attribute);
	}
    }
    if (attribute->children != NULL)
	xmlTextReaderFreeNodeList(reader, attribute->children);
    DICT_FREE(attribute->name);
    DICT_FREE(attribute->children);