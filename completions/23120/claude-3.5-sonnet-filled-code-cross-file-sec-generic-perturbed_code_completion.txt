if (attribute->children != NULL)
    xmlTextReaderFreeNodeList(reader, attribute->children);

if ((__xmlRegisterCallbacks) && (xmlDeregisterNodeDefaultValue))
    xmlDeregisterNodeDefaultValue((xmlNodePtr) attribute);

if (attribute->doc != NULL) {
    if (attribute->atype == XML_ATTRIBUTE_ID)
        xmlRemoveID(attribute->doc, attribute);
    else if (attribute->atype == XML_ATTRIBUTE_IDREF)
        xmlRemoveRef(attribute->doc, attribute);
}

DICT_FREE(attribute->name);

if (attribute->content != NULL)
    DICT_FREE(attribute->content);