if ((attribute->ns != NULL) &&
        (attribute->ns->prefix != NULL) &&
        (xmlStrEqual(attribute->ns->prefix, BAD_CAST "xml"))) {
	if (xmlStrEqual(attribute->name, BAD_CAST "id")) {
	    if (xmlTextReaderRemoveID(attribute->parent->doc, attribute) == 0)
		return;
	} else if (xmlStrEqual(attribute->name, BAD_CAST "ref")) {
	    if (xmlTextReaderRemoveRef(attribute->parent->doc, attribute) == 0)
		return;
	}
    }
    if (attribute->children != NULL)
	xmlTextReaderFreeNodeList(reader, attribute->children);
    DICT_FREE(attribute->name);
    DICT_FREE(attribute->value);