if ((__xmlRegisterCallbacks) && (xmlDeregisterNodeDefaultValue))
	xmlDeregisterNodeDefaultValue((xmlNodePtr) attribute);
    if ((reader != NULL) && (reader->ctxt != NULL) &&
	(reader->ctxt->myDoc != NULL)) {
	xmlDocPtr doc = reader->ctxt->myDoc;
	xmlChar *idValue = xmlNodeListGetString(doc, attribute->children, 1);
	if (idValue != NULL) {
	    xmlIDPtr id = xmlGetID(doc, idValue);
	    if (id != NULL)
		xmlRemoveID(doc, id);
	    xmlFree(idValue);
	}
    }
    if (attribute->children != NULL) {
	if (attribute->children->parent == (xmlNodePtr) attribute)
	    xmlTextReaderFreeNodeList(reader, attribute->children);
	attribute->children = NULL;
    }
    DICT_FREE(attribute->name);