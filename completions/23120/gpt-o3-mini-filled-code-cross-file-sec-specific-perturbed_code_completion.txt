if ((__xmlRegisterCallbacks) && (xmlDeregisterNodeDefaultValue))
    xmlDeregisterNodeDefaultValue((xmlNodePtr) attribute);

if (attribute->children != NULL) {
    if (attribute->children->parent == (xmlNodePtr) attribute)
        xmlTextReaderFreeNodeList(reader, attribute->children);
    attribute->children = NULL;
}

if (attribute->atype == XML_ATTRIBUTE_ID) {
    if ((reader != NULL) && (reader->ctxt != NULL) &&
        (reader->ctxt->myDoc != NULL))
        xmlRemoveID(reader->ctxt->myDoc, attribute);
}

DICT_FREE(attribute->name);