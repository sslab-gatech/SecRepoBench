if ((__xmlRegisterCallbacks) && (xmlDeregisterNodeDefaultValue))
    xmlDeregisterNodeDefaultValue((xmlNodePtr) attribute);

if ((attribute->doc != NULL) && (attribute->atype == XML_ATTRIBUTE_ID))
    xmlRemoveID(attribute->doc, attribute->id);
else if ((attribute->doc != NULL) && (attribute->atype == XML_ATTRIBUTE_REFS))
    xmlRemoveRef(attribute->doc, attribute->id);

if (attribute->children != NULL) {
    if (attribute->children->parent == (xmlNodePtr) attribute)
        xmlTextReaderFreeNodeList(reader, attribute->children);
    attribute->children = NULL;
}

DICT_FREE(attribute->name);