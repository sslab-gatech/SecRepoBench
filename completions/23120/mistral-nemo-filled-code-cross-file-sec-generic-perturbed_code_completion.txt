if (attribute->type == XML_ID) {
    xmlTextReaderFreeIDTableEntry(attribute->doc, attribute->name);
} else if (attribute->type == XML_REF) {
    xmlTextReaderFreeIDTableEntry(attribute->doc, attribute->name);
}
if (attribute->children != NULL) {
    xmlTextReaderFreeNodeList(reader, attribute->children);
}
DICT_FREE(attribute->name);
if ((reader != NULL) && (reader->ctxt != NULL) &&
    (reader->ctxt->freeAttrsNr < 100)) {
    attribute->next = reader->ctxt->freeAttrs;
    reader->ctxt->freeAttrs = attribute;
    reader->ctxt->freeAttrsNr++;
} else {
    xmlFree(attribute);
}