if (__xmlRegisterCallbacks && xmlDeregisterNodeDefaultValue)
    xmlDeregisterNodeDefaultValue(attribute);

if (attribute->type == XML_ATTRIBUTE_NODE) {
    if (attribute->isID) {
        xmlFreeID(attribute->id);
    } else if (attribute->isIDRef) {
        xmlRemoveIDRef(attribute);
    }
}

if (attribute->children != NULL)
    xmlTextReaderFreeNodeList(reader, attribute->children);

DICT_FREE(attribute->name);