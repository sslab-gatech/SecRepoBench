if ((reader!= NULL) && (reader->ctxt!= NULL) &&
    (reader->ctxt->freeAttrsNr < 100)) {
    attribute->next = reader->ctxt->freeAttrs;
    reader->ctxt->freeAttrs = attribute;
    reader->ctxt->freeAttrsNr++;
} else {
    xmlFree(attribute);
    if (attribute->children!= NULL) {
        xmlTextReaderFreeNodeList(reader, attribute->children);
    }
    if (attribute->type == XML_ATTRIBUTE_NODE) {
        xmlDeregisterNodeDefaultValue(attribute);
    }
    if (attribute->type == XML_ELEMENT_NODE) {
        xmlTextReaderFreePropList(reader, attribute->properties);
    }
    DICT_FREE(attribute->name);
    xmlFree(attribute->content);
}