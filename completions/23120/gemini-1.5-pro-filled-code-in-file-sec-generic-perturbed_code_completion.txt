if ((reader != NULL) && (reader->ctxt != NULL) && (attribute->parent != NULL) &&
        (attribute->parent->doc != NULL)) {
        if (attribute->parent->doc->intSubset != NULL) {
            if (xmlIsID(attribute->parent->doc, attribute->parent, attribute))
                xmlTextReaderRemoveID(attribute->parent->doc, attribute);
            else if (xmlIsRef(attribute->parent->doc, attribute->parent, attribute))
                xmlTextReaderRemoveRef(attribute->parent->doc, attribute);
        }
    }


    if ((attribute->children != NULL) && (attribute->type != XML_ENTITY_REF_NODE)) {
	xmlTextReaderFreeNodeList(reader, attribute->children);
	attribute->children = NULL;
    }
    DICT_FREE(attribute->name);