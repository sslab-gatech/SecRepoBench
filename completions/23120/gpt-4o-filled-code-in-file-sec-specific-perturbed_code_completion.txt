if (attribute->children != NULL) {
        xmlTextReaderFreeNodeList(reader, attribute->children);
    }

    if (attribute->atype == XML_ATTRIBUTE_ID) {
        if (reader->ctxt != NULL && reader->ctxt->myDoc != NULL) {
            xmlTextReaderRemoveID(reader->ctxt->myDoc, attribute);
        }
    } else if (attribute->atype == XML_ATTRIBUTE_REF) {
        if (reader->ctxt != NULL && reader->ctxt->myDoc != NULL) {
            xmlTextReaderRemoveRef(reader->ctxt->myDoc, attribute);
        }
    }

    DICT_FREE(attribute->name)