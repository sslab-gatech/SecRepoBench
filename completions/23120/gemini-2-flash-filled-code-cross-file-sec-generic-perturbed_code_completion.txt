if ((__xmlRegisterCallbacks) && (xmlDeregisterNodeDefaultValue))
	xmlDeregisterNodeDefaultValue((xmlNodePtr) attribute);

    if (attribute->children != NULL)
	xmlTextReaderFreeNodeList(reader, attribute->children);

    if (dict != NULL) {
	if (attribute->name != NULL) {
	    xmlDictFree(dict, attribute->name);
	}
	if (attribute->ns != NULL) {
	    if (attribute->ns->prefix != NULL)
		xmlDictFree(dict, attribute->ns->prefix);
	    if (attribute->ns->href != NULL)
		xmlDictFree(dict, attribute->ns->href);
	    xmlFree(attribute->ns);
	}
	if ((attribute->atype == XML_ATTRIBUTE_ID) &&
	    (attribute->children != NULL) &&
	    (attribute->children->content != NULL) &&
	    (reader != NULL) && (reader->ctxt != NULL) &&
	    (reader->ctxt->idTab != NULL)) {
	    xmlHashRemoveEntry(reader->ctxt->idTab,
				   attribute->children->content,
				   xmlTextReaderFreeIDTableEntry);
	}
	if ((attribute->atype == XML_ATTRIBUTE_IDREF) &&
	    (attribute->children != NULL) &&
	    (attribute->children->content != NULL) &&
	    (reader != NULL) && (reader->ctxt != NULL) &&
	    (reader->ctxt->idRefTab != NULL)) {
	    xmlHashRemoveEntry(reader->ctxt->idRefTab,
				   attribute->children->content,
				   NULL);
	}
	if ((attribute->atype == XML_ATTRIBUTE_IDREFS) &&
	    (attribute->children != NULL) &&
	    (attribute->children->content != NULL) &&
	    (reader != NULL) && (reader->ctxt != NULL) &&
	    (reader->ctxt->idRefTab != NULL)) {
	    xmlHashRemoveEntry(reader->ctxt->idRefTab,
				   attribute->children->content,
				   NULL);
	}
	DICT_FREE(attribute->defaultValue);
    }