char *frame;
i=0;
while (i < vosh_size - 4) {
    /* Look for MPEG start code followed by "DivX" */
    if ((decoderconfig[i] == 0) && (decoderconfig[i+1] == 0) && (decoderconfig[i+2] == 1)) {
        /* Search for 'p' character which indicates packed bitstream */
        frame = memchr(decoderconfig + i + 4, 'p', vosh_size - i - 4);
        if (frame) {
            ctx->forced_packed = GF_TRUE;
            frame[0] = 'n';
        }
        break;
    }
    i++;
}