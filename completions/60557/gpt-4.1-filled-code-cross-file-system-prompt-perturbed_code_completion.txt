{
  /* Find the closing quote for the filename */
  int fname_start = attachment_len + 1;
  int fname_end = fname_start;
  while(fname_end < http_packet_struct->content_disposition_line.len &&
        http_packet_struct->content_disposition_line.ptr[fname_end] != '\"') {
    fname_end++;
  }
  if(fname_end > fname_start) {
    int fname_len = fname_end - fname_start;
    char *filename = (char*)malloc(fname_len + 1);
    if(filename != NULL) {
      memcpy(filename, &http_packet_struct->content_disposition_line.ptr[fname_start], fname_len);
      filename[fname_len] = '\0';
      /* filename can be used here if needed, but is not used in this function */
      free(filename);
    }
  }
}