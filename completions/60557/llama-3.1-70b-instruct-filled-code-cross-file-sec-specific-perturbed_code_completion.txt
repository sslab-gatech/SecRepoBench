// Extract the filename from the content disposition line based on its format.
// Allocate memory for the filename and copy the appropriate substring from the content disposition line.
// Ensure the filename is null-terminated after copying.

u_int8_t filename_start = attachment_len + 1; // Skip the opening quote
u_int8_t filename_end = filename_start;

while (filename_end < http_packet_struct->content_disposition_line.len && 
       http_packet_struct->content_disposition_line.ptr[filename_end]!= '\"') {
  filename_end++;
}

u_int8_t filename_len = filename_end - filename_start;
char* filename = (char*)malloc(filename_len + 1);

if (filename!= NULL) {
  memcpy(filename, &http_packet_struct->content_disposition_line.ptr[filename_start], filename_len);
  filename[filename_len] = '\0'; // Null-terminate the filename

  // Use the extracted filename as needed
  //...

  free(filename); // Don't forget to free the allocated memory
}