// We need at least 4 characters to match "xn--"
  if(length < 4)
    return 0;
  
  // Iterate through the buffer to check for "xn--"
  for(int i = 0; i <= length - 4; i++) {
    if(buffer[i] == 'x' && 
       buffer[i+1] == 'n' && 
       buffer[i+2] == '-' && 
       buffer[i+3] == '-') {
      return 1; // Found "xn--" sequence
    }
  }
  
  return 0; // "xn--" sequence not found