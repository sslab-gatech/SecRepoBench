int i;
const char *punycode_prefix = "xn--";
int prefix_length = 4;

if (length < prefix_length) {
    return 0;
}

for (i = 0; i <= length - prefix_length; i++) {
    if (strncmp(buffer + i, punycode_prefix, prefix_length) == 0) {
        return 1;
    }
}

return 0;