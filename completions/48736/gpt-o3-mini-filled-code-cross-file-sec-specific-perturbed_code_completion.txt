{
    size_t i;
    for (i = 0; i < length - 1; i++) {
        if (uc >= ue || *uc != (unsigned char)str[i]) {
            DPRINTF("Bad const: ", uc, *ucp);
            return 0;
        }
        uc++;
    }
    *ucp = uc;
}