if (uc >= ue) {
		DPRINTF("Bad const: ", uc, *ucp);
		return 0;
	}

	for (size_t i = 0; i < length; i++) {
		if (uc >= ue || *uc != str[i]) {
			DPRINTF("Bad const: ", uc, *ucp);
			return 0;
		}
		uc++;
	}