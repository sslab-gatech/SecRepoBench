uc = *ucp;
while (length > 0) {
    if (strncmp((const char *)uc, str, length) == 0) {
        *ucp += length;
        return 1;
    }
    uc++;
    length--;
}
DPRINTF("Bad const: ", uc, *ucp);
return 0;