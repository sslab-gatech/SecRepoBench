for (size_t i = 0; i < length - 2; i++) {  // Remaining characters (excluding the first one and the null terminator)
    // Check if we're still within bounds of the input
    if (uc + i >= ue) {
        DPRINTF("Bad const (out of bounds): ", uc, *ucp);
        return 0;
    }
    
    // Compare the current character with the corresponding character in the constant
    if (uc[i] != (unsigned char)str[i + 1]) {  // +1 to skip the first character of the constant
        DPRINTF("Bad const: ", uc, *ucp);
        return 0;
    }
}