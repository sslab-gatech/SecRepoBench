for (size_t i = 0; i < length; i++) {
		if (uc + i >= ue || uc[i] != (unsigned char)str[i]) {
			DPRINTF("Bad const: ", uc, *ucp);
			return 0;
		}
	}
	*ucp = uc + length;