while (length--) {
    if (uc >= ue || *uc++ != *str++)
        goto bad;
}
*ucp = uc;
DPRINTF("Good const: ", uc, *ucp);
return 1;

bad:
DPRINTF("Bad const: ", uc, *ucp);
*ucp = uc;
return 0;