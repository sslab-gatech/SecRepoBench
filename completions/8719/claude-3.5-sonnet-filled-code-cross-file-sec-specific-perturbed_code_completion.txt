(void) memset(type, 0, MagickPathExtent);
length = ReadBlobMSBLong(image);
count = ReadBlob(image, 4, (unsigned char *) type);

if (logging != MagickFalse)
  (void) LogMagickEvent(CoderEvent, GetMagickModule(),
    "  Reading %c%c%c%c chunk, length: %.20g",
    type[0], type[1], type[2], type[3], (double) length);

if (length > PNG_UINT_31_MAX)
  ThrowReaderException(CorruptImageError, "ChunkLengthExceedsLimit");

if (length > GetBlobSize(image))
  ThrowReaderException(CorruptImageError, "InsufficientImageDataInFile");

p = NULL;
chunk_data = NULL;