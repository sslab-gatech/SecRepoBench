unsigned int
          length;

        length=ReadBlobMSBLong(image);  /* read length word */
        (void) ReadBlob(image,4,(unsigned char *) type);  /* read chunk type */

        if (logging != MagickFalse)
          (void) LogMagickEvent(CoderEvent,GetMagickModule(),
            "  Read chunk type: %c%c%c%c, length: %u", type[0], type[1], type[2], type[3], (unsigned int) length);

        if (length > 0)
          {
            if (length > (size_t) (MagickPathExtent-1))
              ThrowReaderException(CorruptImageError,"ChunkLengthExceedsLimit");

            p=(unsigned char *) AcquireQuantumMemory(length,sizeof(*p));
            if (p == (unsigned char *) NULL)
              ThrowReaderException(ResourceLimitError,"MemoryAllocationFailed");

            count=(size_t) ReadBlob(image,length,p);
            if (count != length)
              {
                p=(unsigned char *) RelinquishMagickMemory(p);
                ThrowReaderException(CorruptImageError,"InsufficientImageDataInFile");
              }
          }
        else
          p=(unsigned char *) NULL;