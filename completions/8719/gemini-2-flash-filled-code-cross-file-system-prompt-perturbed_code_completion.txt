length=(size_t) ReadBlobMSBLong(image);
        (void) ReadBlob(image,4,(unsigned char *) type);

        if (logging != MagickFalse)
          (void) LogMagickEvent(CoderEvent,GetMagickModule(),
            "  Chunk %c%c%c%c, length %.20g",type[0],type[1],type[2],type[3],
            (double) length);

        if (length > GetMagickResourceLimit(AreaPixelResource)/4)
          ThrowReaderException(ResourceLimitError,"WidthOrHeightExceedsLimit");

        p=(unsigned char *) NULL;
        chunk_data=(unsigned char *) NULL;
      }
    else
      {
        /*
          We are reading a PNG or JNG datastream.
          The ReadOnePNGImage() or ReadOneJNGImage() functions will
          read the chunks.
        */
        length=0;
        type[0]='\0';
        type[1]='\0';
        type[2]='\0';
        type[3]='\0';
        p=(unsigned char *) NULL;
        chunk_data=(unsigned char *) NULL;
      }