if (length > 0)
        {
            if (length > 4)
            {
                if (logging != MagickFalse)
                    (void) LogMagickEvent(CoderEvent,GetMagickModule(),
                        "  Reading chunk of length %lu", (unsigned long) length);
            }

            if (length > 0)
            {
                chunk_data = (unsigned char *) AcquireQuantumMemory(length, sizeof(*chunk_data));
                if (chunk_data == (unsigned char *) NULL)
                    ThrowReaderException(ResourceLimitError, "MemoryAllocationFailed");

                for (i = 0; i < (ssize_t) length; i++)
                {
                    int c = ReadBlobByte(image);
                    if (c == EOF)
                    {
                        chunk_data = (unsigned char *) RelinquishMagickMemory(chunk_data);
                        ThrowReaderException(CorruptImageError, "InsufficientImageDataInFile");
                    }
                    chunk_data[i] = (unsigned char) c;
                }
                p = chunk_data;
            }
        }