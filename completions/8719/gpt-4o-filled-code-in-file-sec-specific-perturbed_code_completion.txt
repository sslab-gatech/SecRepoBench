// Read the next chunk from the MNG image file.
        length=(size_t) ReadBlobMSBLong(image);
        count=(unsigned int) ReadBlob(image,4,(unsigned char *) type);

        // Initialize the chunk type to a default error value and read its length.
        if (count == 0)
          {
            if (logging != MagickFalse)
              (void) LogMagickEvent(CoderEvent,GetMagickModule(),
                "  Failed to read chunk type.");
            break;
          }

        // Log the event if logging is enabled, displaying the chunk type and length.
        if (logging != MagickFalse)
          (void) LogMagickEvent(CoderEvent,GetMagickModule(),
            "  Reading MNG chunk type %c%c%c%c, length: %.20g",
            type[0],type[1],type[2],type[3],(double) length);

        // Verify if the length is valid and handle errors accordingly.
        if (length > PNG_UINT_31_MAX)
          {
            if (logging != MagickFalse)
              (void) LogMagickEvent(CoderEvent,GetMagickModule(),
                "  Chunk length is too large.");
            break;
          }

        // Prepare for reading the chunk data by initializing necessary pointers.
        p=NULL;
        chunk_data=(unsigned char *) NULL;