(void) memset(type,0,MagickPathExtent);
        count=ReadBlob(image,4,(unsigned char *) type);

        if (logging != MagickFalse)
          (void) LogMagickEvent(CoderEvent,GetMagickModule(),
           "  Reading %c%c%c%c chunk",type[0],type[1],type[2],type[3]);

        if (count == 0)
          break;
        length=ReadBlobMSBLong(image);

        if (logging != MagickFalse)
          (void) LogMagickEvent(CoderEvent,GetMagickModule(),
            "  length=%.20g",(double) length);

        if (length > GetMagickResourceLimit(BlobResource))
          ThrowReaderException(ResourceLimitError,
            "MemoryAllocationFailed");
        if (length > GetBlobSize(image))
          ThrowReaderException(CorruptImageError,"InsufficientImageDataInFile");
        p=0;