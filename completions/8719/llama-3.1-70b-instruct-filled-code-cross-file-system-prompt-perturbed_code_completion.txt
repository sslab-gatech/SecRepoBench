// Read the next chunk from the MNG image file.
count=(size_t) ReadBlob(image,4,(unsigned char *) type);
if (count < 4)
  ThrowReaderException(CorruptImageError,"InsufficientImageDataInFile");

// Initialize the chunk type to a default error value and read its length.
if (memcmp(type,mng_MEND,4) == 0)
  break;

length=(png_uint_32) mng_get_long(p);

// Log the event if logging is enabled, displaying the chunk type and length.
if (logging!= MagickFalse)
  (void) LogMagickEvent(CoderEvent,GetMagickModule(),
    "  Chunk: %c%c%c%c,  length=%.20g",type[0],type[1],type[2],type[3],
    (double) length);

// Verify if the length is valid and handle errors accordingly.
if (length > GetBlobSize(image))
  ThrowReaderException(CorruptImageError,"InsufficientImageDataInFile");

// Prepare for reading the chunk data by initializing necessary pointers.
p=(unsigned char *) NULL;