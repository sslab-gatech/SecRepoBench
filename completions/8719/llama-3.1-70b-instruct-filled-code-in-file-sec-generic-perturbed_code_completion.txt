if (length!= 0)
{
  unsigned char *chunk_data = (unsigned char *) AcquireQuantumMemory(length, sizeof(*chunk_data));

  if (chunk_data == (unsigned char *) NULL)
  {
    ThrowReaderException(ResourceLimitError, "MemoryAllocationFailed");
  }

  for (i = 0; i < (ssize_t) length; i++)
  {
    int c = ReadBlobByte(image);
    if (c == EOF)
    {
      png_error(ping, "Read Exception");
    }
    chunk_data[i] = (unsigned char) c;
  }

  for ( ; i < (ssize_t) length; i++)
  {
    chunk_data[i] = '\0';
  }
}