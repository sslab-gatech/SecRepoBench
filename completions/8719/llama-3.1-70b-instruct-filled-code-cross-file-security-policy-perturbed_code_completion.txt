// Read the next chunk from the MNG image file.
count=(size_t) ReadBlob(image,4,(unsigned char *) type);
if (count < 4)
  ThrowReaderException(CorruptImageError,"InsufficientImageDataInFile");

// Initialize the chunk type to a default error value and read its length.
if (memcmp(type,mng_MHDR,4) == 0)
  {
    count=(size_t) ReadBlob(image,4,(unsigned char *) type);
    if (count < 4)
      ThrowReaderException(CorruptImageError,"InsufficientImageDataInFile");
  }

// Log the event if logging is enabled, displaying the chunk type and length.
if (logging!= MagickFalse)
  (void) LogMagickEvent(CoderEvent,GetMagickModule(),
    "  Chunk: %c%c%c%c",type[0],type[1],type[2],type[3]);

// Verify if the length is valid and handle errors accordingly.
length=(size_t) ReadBlobMSBLong(image);
if (length > GetBlobSize(image))
  ThrowReaderException(CorruptImageError,"CorruptImage");

// Prepare for reading the chunk data by initializing necessary pointers.
p=(unsigned char *) NULL;