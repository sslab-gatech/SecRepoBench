// <MASK>
// Read the next chunk from the MNG image file.
// Initialize the chunk type to a default error value and read its length.
// Log the event if logging is enabled, displaying the chunk type and length.
// Verify if the length is valid and handle errors accordingly.
// Prepare for reading the chunk data by initializing necessary pointers.

length=ReadBlobMSBLong(image);
(void) ReadBlob(image,4,(unsigned char *) type);

if (logging != MagickFalse)
  (void) LogMagickEvent(CoderEvent,GetMagickModule(),
    "    Chunk type: [%c%c%c%c], length: %.20g",
    type[0],type[1],type[2],type[3],(double) length);

if (length > GetBlobSize(image)-TellBlob(image))
  {
    ThrowReaderException(CorruptImageError,"InsufficientImageDataInFile");
  }

if (length > 0)
  {
    chunk_data=(unsigned char *) AcquireQuantumMemory(length,sizeof(*chunk_data));

    if (chunk_data == (unsigned char *) NULL)
      ThrowReaderException(ResourceLimitError,"MemoryAllocationFailed");

    count=(size_t) ReadBlob(image,length,chunk_data);

    if (count < length)
      {
        chunk_data=(unsigned char *) RelinquishMagickMemory(chunk_data);
        ThrowReaderException(CorruptImageError,"InsufficientImageDataInFile");
      }
  }
else
  chunk_data=(unsigned char *) NULL;