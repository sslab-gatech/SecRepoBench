The masked region is intended to read the next chunk from the MNG image file, initialize the chunk type to a default error value, read its length, log the event if logging is enabled, display the chunk type and length, verify if the length is valid, and handle errors accordingly. Please provide the code that should replace the masked region.
-step-by-step explanation of the code to be inserted:
1. Initialize the `type` array to a default error value.
2. Read the length of the chunk.
3. If logging is enabled, log the chunk type and length.
4. Check if the length is valid (greater than 0 and less than `MaxBlobSize`). If not, throw an exception for a corrupt image header.
5. Prepare for reading the chunk data by initializing necessary pointers.

Here is the code that should replace the masked region:
-step-by-step explanation of the code to be inserted:
1. Initialize the `type` array to a default error value.
2. Read the length of the chunk.
3. If logging is enabled, log the chunk type and length.
4. Check if the length is valid (greater than 0 and less than `MaxBlobSize`). If not, throw an exception for a corrupt image header.
5. Prepare for reading the chunk data by initializing necessary pointers.