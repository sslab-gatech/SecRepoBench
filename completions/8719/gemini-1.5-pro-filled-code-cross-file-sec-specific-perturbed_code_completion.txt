(void) memset(type,0,MagickPathExtent);
        count=ReadBlob(image,4,(unsigned char *) type);

        if (logging != MagickFalse)
          {
            length=ReadBlobMSBLong(image);
            (void) LogMagickEvent(CoderEvent,GetMagickModule(),
              "  Reading %c%c%c%c chunk, length: %.20g",type[0],type[1],
              type[2],type[3],(double) length);
          }
        else
          length=ReadBlobMSBLong(image);

        if (length > GetBlobSize(image))
          ThrowReaderException(CorruptImageError,"ImproperImageHeader");
        if (length > PNG_UINT_31_MAX)
          ThrowReaderException(CorruptImageError,"ImproperImageHeader");

        p=0;