if (dimensions == NULL) return 0;

    cmsUInt32Number product = 1;
    for (cmsUInt32Number i = 0; i < b; i++) {
        if (dimensions[i] == 0) return 0; // Early return if any dimension is zero
        if (dimensions[i] == 1) continue; // Skip multiplication for dimension of size 1

        // Check for potential overflow before multiplication
        if (product > UINT32_MAX / dimensions[i]) {
            return 0; // Return zero in case of overflow
        }
        product *= dimensions[i];
    }
    return product;