scale=QuantumRange/(((double)((size_t) 1UL << jp2_image->comps[i].prec))-1);
{
  ssize_t index=(y/jp2_image->comps[i].dy)*(image->columns/jp2_image->comps[i].dx)
    + (columnindex/jp2_image->comps[i].dx);
  pixel=jp2_image->comps[i].data[index]*scale;
}