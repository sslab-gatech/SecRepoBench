scale = (double) (((size_t) 1UL << jp2_image->comps[i].prec) - 1) / QuantumRange;
pixel = scale * (jp2_image->comps[i].sgnd ? (double) (jp2_image->comps[i].data[columnindex] - (1 << (jp2_image->comps[i].prec - 1))) : (double) jp2_image->comps[i].data[columnindex]);