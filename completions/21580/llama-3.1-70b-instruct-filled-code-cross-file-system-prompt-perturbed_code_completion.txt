if (iterator.is_null()) {
  this->glyphs_start = 0;
  this->glyphs_num = 0;
  return_trace (true);
}

unsigned int min_glyph = iterator.get_min_glyph();
unsigned int max_glyph = iterator.get_max_glyph();
unsigned int glyph_count = max_glyph - min_glyph + 1;

this->glyphs_start = min_glyph;
if (!c->serialize (this->glyphs, glyph_count))
  return_trace (false);

for (unsigned int i = 0; i < glyph_count; i++) {
  unsigned int glyph = min_glyph + i;
  unsigned int class_value = iterator.get_class (glyph);
  this->glyphs[i] = class_value;
}

return_trace (true);