if (iterator.is_null()) {
      // If the iterator is null, set the starting glyph index and class value length to zero, and return true.
      c->serialize_uint16(0); // starting glyph index
      c->serialize_uint16(0); // class value length
      return_trace(true);
    }

    // Determine the minimum and maximum glyph indices from the iterator to calculate the glyph count.
    hb_codepoint_t min_glyph = iterator.min();
    hb_codepoint_t max_glyph = iterator.max();
    unsigned glyph_count = max_glyph - min_glyph + 1;

    // Set the starting glyph index to the minimum glyph index.
    c->serialize_uint16(min_glyph);

    // Serialize the class value using the serialization context and the calculated glyph count.
    c->serialize_uint16(glyph_count);

    // Iterate over the glyph-class pairs in the iterator, and assign the class value to each glyph index relative to the starting glyph index.
    for (auto it = iterator; it; ++it) {
      hb_codepoint_t glyph_index = it->first - min_glyph;
      uint16_t class_value = it->second;
      c->serialize_uint16(glyph_index);
      c->serialize_uint16(class_value);
    }

    return_trace(true);