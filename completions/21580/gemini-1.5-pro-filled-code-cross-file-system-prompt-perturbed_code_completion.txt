if (!iterator)
    {
      if (unlikely (!c->extend_min (2))) return_trace (false);
      c->u16 (0); /* startGlyphID */
      c->u16 (0); /* classCount */
      return_trace (true);
    }

    unsigned minGlyphID = iterator->first;
    unsigned maxGlyphID = minGlyphID;
    unsigned count = 0;
    do
    {
      maxGlyphID = iterator->first;
      count++;
    } while (++iterator);

    if (unlikely (!c->extend_min (2 + count))) return_trace (false);

    c->u16 (minGlyphID); /* startGlyphID */
    c->u16 (count); /* classCount */

    iterator.reset ();
    unsigned i = 0;
    do
    {
      unsigned glyphID = iterator->first;
      uint8_t classValue = iterator->second;
      c->u8 (classValue);
      i++;
    } while (++iterator);

    return_trace (true);