if (unlikely (!iterator))
{
  startGlyph = 0;
  classValue.len = 0;
  return_trace (true);
}

hb_codepoint_t glyph_min = (*iterator).first;
hb_codepoint_t glyph_max = glyph_min;
for (const auto& _ : iterator) glyph_max = hb_max (glyph_max, _.first);

startGlyph = glyph_min;
unsigned int count = glyph_max - glyph_min + 1;
if (unlikely (!classValue.serialize (c, count))) return_trace (false);

for (const auto& _ : iterator)
  classValue[_.first - glyph_min] = _.second;

return_trace (true);