if (unlikely (!iterator)) {
      startGlyph = 0;
      classValue.len = 0;
      return true;
    }

    hb_codepoint_t min_gid = (*iterator).first;
    hb_codepoint_t max_gid = + iterator | hb_map (hb_first) | hb_reduce (hb_max, 0u);
    startGlyph = min_gid;

    unsigned int count = max_gid - min_gid + 1;
    classValue.len = count;

    for (unsigned int i = 0; i < count; i++) {
      classValue[i] = 0; // Initialize class values to zero
    }

    for (const auto gid_class_pair : iterator) {
      hb_codepoint_t gid = gid_class_pair.first;
      unsigned int klass = gid_class_pair.second;
      classValue[gid - min_gid] = klass; // Assign class value to the corresponding glyph index
    }

    return true;