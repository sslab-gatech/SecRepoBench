assert(draw_info != (DrawInfo *) NULL);
if (draw_info->debug != MagickFalse)
  (void) LogMagickEvent(DrawEvent, GetMagickModule(), "    begin draw-dash");
number_vertices = 0;
for (i = 0; primitive_info[i].primitive != UndefinedPrimitive; i++)
  number_vertices++;
dash_polygon = (PrimitiveInfo *) AcquireQuantumMemory(2 * number_vertices, sizeof(*dash_polygon));
if (dash_polygon == (PrimitiveInfo *) NULL)
  return(MagickFalse);
clone_info = CloneDrawInfo((ImageInfo *) NULL, draw_info);
if (clone_info == (DrawInfo *) NULL)
{
  dash_polygon = (PrimitiveInfo *) RelinquishMagickMemory(dash_polygon);
  return(MagickFalse);
}
clone_info->miterlimit = 0.0;
dash_polygon[0] = primitive_info[0];
scale = fabs(ExpandAffine(&draw_info->affine));
if (draw_info->dash_pattern != (double *) NULL)
{
  dash_offset = draw_info->dash_offset;
  length = scale * (draw_info->dash_pattern[0] - 0.5);
}