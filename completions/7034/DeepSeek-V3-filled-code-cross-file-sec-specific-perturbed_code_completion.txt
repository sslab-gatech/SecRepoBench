if (draw_info->debug != MagickFalse)
    (void) LogMagickEvent(DrawEvent,GetMagickModule(),"    begin draw-dash");
  assert(draw_info != (DrawInfo *) NULL);
  assert(draw_info->signature == MagickCoreSignature);
  number_vertices=0;
  for (i=0; primitive_info[i].primitive != UndefinedPrimitive; i++)
    number_vertices++;
  dash_polygon=(PrimitiveInfo *) AcquireQuantumMemory(2*number_vertices,
    sizeof(*dash_polygon));
  if (dash_polygon == (PrimitiveInfo *) NULL)
    return(MagickFalse);
  clone_info=CloneDrawInfo((ImageInfo *) NULL,draw_info);
  if (clone_info == (DrawInfo *) NULL)
    {
      dash_polygon=(PrimitiveInfo *) RelinquishMagickMemory(dash_polygon);
      return(MagickFalse);
    }
  clone_info->miterlimit=0.0;
  dash_polygon[0]=primitive_info[0];
  scale=ExpandAffine(&draw_info->affine);
  length=0.0;
  dash_offset=0.0;
  if (draw_info->dash_pattern != (double *) NULL)
    {
      for (i=0; draw_info->dash_pattern[i] != 0.0; i++)
        length+=draw_info->dash_pattern[i];
      if (draw_info->dash_offset != 0.0)
        dash_offset=fmod(draw_info->dash_offset,length);
      if (dash_offset < 0.0)
        dash_offset+=length;
    }