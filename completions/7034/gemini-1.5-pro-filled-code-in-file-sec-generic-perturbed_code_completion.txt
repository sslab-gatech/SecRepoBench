assert(draw_info != (const DrawInfo *) NULL);
  if (image->debug != MagickFalse)
    (void) LogMagickEvent(DrawEvent,GetMagickModule(),
      "    begin draw-dash");
  number_vertices=0;
  for (i=0; primitive_info[i].primitive != UndefinedPrimitive; i++)
    number_vertices+=primitive_info[i].coordinates;
  dash_polygon=(PrimitiveInfo *) AcquireQuantumMemory((size_t) (2*
    number_vertices+1),sizeof(*dash_polygon));
  if (dash_polygon == (PrimitiveInfo *) NULL)
    return(MagickFalse);
  (void) memset(dash_polygon,0,(size_t) (2*number_vertices+1)*
    sizeof(*dash_polygon));
  clone_info=CloneDrawInfo((ImageInfo *) NULL,draw_info);
  clone_info->miterlimit=0;
  dash_polygon[0]=primitive_info[0];
  scale=ExpandAffine(&draw_info->affine);
  length=scale*(draw_info->dash_pattern[0]-0.5);
  dash_offset=draw_info->dash_offset;
  if (draw_info->dash_pattern[0] < 0.0)
    {
      double
        sum;

      for (sum=0.0; draw_info->dash_pattern[n] != 0.0; n++)
        sum+=draw_info->dash_pattern[n];
      dash_offset=fmod(dash_offset,sum);
      if (dash_offset < 0.0)
        dash_offset+=sum;
      n=0;
    }