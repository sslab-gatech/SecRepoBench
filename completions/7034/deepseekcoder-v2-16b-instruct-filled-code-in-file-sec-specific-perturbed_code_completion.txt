%    o exception: return any errors or warnings in this structure.
%
*/
MagickExport MagickBooleanType DrawImage(Image *image,const DrawInfo *draw_info,
  ExceptionInfo *exception)
{
  MagickBooleanType
    status;

  PrimitiveInfo
    *primitive_info;

  size_t
    number_vertices;

  // Assert that the image pointer is not NULL.
  // Log the beginning of the draw process if debugging is enabled.
  // Clone the draw_info structure to avoid modifying the original.
  // Convert the draw_info primitive to a series of vertices.
  // Draw the vertices on the image.
  // Return the status of the draw operation.
  assert(image != (Image *) NULL);
  assert(image->signature == MagickCoreSignature);
  if (image->debug != MagickFalse)
    (void) LogMagickEvent(TraceEvent,GetMagickModule(),"%s",image->filename);
  if (draw_info == (const DrawInfo *) NULL)
    return(MagickFalse);
  primitive_info=(PrimitiveInfo *) AcquireQuantumMemory(16UL,
    sizeof(*primitive_info));
  if (primitive_info == (PrimitiveInfo *) NULL)
    return(MagickFalse);
  status=MagickTrue;
  number_vertices=TracePath(primitive_info,draw_info->primitive,exception);
  if (number_vertices == 0)
    {
      primitive_info=(PrimitiveInfo *) RelinquishMagickMemory(primitive_info);
      return(MagickFalse);
    }
  status=DrawPrimitive(image,draw_info,primitive_info,exception);
  primitive_info=(PrimitiveInfo *) RelinquishMagickMemory(primitive_info);
  if (image->debug != MagickFalse)
    (void) LogMagickEvent(DrawEvent,GetMagickModule(),"end draw");
  return(status);
}

/*
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                             %
%                                                                             %
%                                                                             %
%   D r a w P r i m i t i v e                                                 %
%                                                                             %
%                                                                             %
%                                                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%  DrawPrimitive() draws a graphic primitive on your image.  The primitive
%  may be represented as a string or filename.  Precede the filename with an
%  "at" sign (@) and the contents of the file are drawn on the image.  You
%  can affect how text is drawn by setting one or more members of the draw
%  info structure.
%
%  The format of the DrawPrimitive method is:
%
%      MagickBooleanType DrawPrimitive(Image *image,const DrawInfo *draw_info,
%        const PrimitiveInfo *primitive_info,ExceptionInfo *exception)
%
%  A description of each parameter follows:
%
%    o image: the image.
%
%    o draw_info: the draw info.
%
%    o primitive_info: Specifies a pointer to a PrimitiveInfo structure.
%
%    o exception: return any errors or warnings in this structure.
%
*/
static MagickBooleanType DrawPrimitive(Image *image,const DrawInfo *draw_info,
  const PrimitiveInfo *primitive_info,ExceptionInfo *exception)
{
  MagickBooleanType
    status;

  // Assert that the image, draw_info, and primitive_info pointers are not NULL.
  // Log the beginning of the draw-primitive process if debugging is enabled.
  // Initialize the status to true.
  // Draw the primitive based on its type.
  // Return the status of the draw operation.
  assert(image != (Image *) NULL);
  assert(image->signature == MagickCoreSignature);
  if (image->debug != MagickFalse)
    (void) LogMagickEvent(TraceEvent,GetMagickModule(),"%s",image->filename);
  assert(draw_info != (const DrawInfo *) NULL);
  assert(primitive_info != (const PrimitiveInfo *) NULL);
  status=MagickTrue;
  switch (primitive_info->primitive)
  {
    case ArcPrimitive:
      status=DrawArc(image,draw_info,primitive_info,exception);
      break;
    case BezierPrimitive:
      status=DrawBezier(image,draw_info,primitive_info,exception);
      break;
    case CirclePrimitive:
      status=DrawCircle(image,draw_info,primitive_info,exception);
      break;
    case EllipsePrimitive:
      status=DrawEllipse(image,draw_info,primitive_info,exception);
      break;
    case LinePrimitive:
      status=DrawLine(image,draw_info,primitive_info,exception);
      break;
    case RectanglePrimitive:
      status=DrawRectangle(image,draw_info,primitive_info,exception);
      break;
    case RoundRectanglePrimitive:
      status=DrawRoundRectangle(image,draw_info,primitive_info,exception);
      break;
    case PathPrimitive:
      status=DrawPath(image,draw_info,primitive_info,exception);
      break;
    case PolylinePrimitive:
      status=DrawPolyline(image,draw_info,primitive_info,exception);
      break;
    case PolygonPrimitive:
      status=DrawPolygon(image,draw_info,primitive_info,exception);
      break;
    case DashLinePrimitive:
      status=DrawDashLine(image,draw_info,primitive_info,exception);
      break;
    case DashRectanglePrimitive:
      status=DrawDashRectangle(image,draw_info,primitive_info,exception);
      break;
    case DashEllipsePrimitive:
      status=DrawDashEllipse(image,draw_info,primitive_info,exception);
      break;
    case DashPolylinePrimitive:
      status=DrawDashPolyline(image,draw_info,primitive_info,exception);
      break;
    case DashPolygonPrimitive:
      status=DrawDashPolygon(image,draw_info,primitive_info,exception);
      break;
    case TextPrimitive:
      status=DrawText(image,draw_info,primitive_info,exception);
      break;
    case ImagePrimitive:
      status=DrawImagePrimitive(image,draw_info,primitive_info,exception);
      break;
    case PrimitiveInfoSize:
      break;
    default:
      ThrowMagickException(exception,GetMagickModule(),OptionError,
        "PrimitiveNotRecognized","`%s'",primitive_info->primitive);
      status=MagickFalse;
      break;
  }
  if (image->debug != MagickFalse)
    (void) LogMagickEvent(DrawEvent,GetMagickModule(),"    end draw-primitive");
  return(status);
}

/*
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                             %
%                                                                             %
%                                                                             %
%   D r a w P o l y g o n                                                     %
%                                                                             %
%                                                                             %
%                                                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%  DrawPolygon() draws a polygon on the image.
%
%  The format of the DrawPolygon method is:
%
%      MagickBooleanType DrawPolygon(const DrawInfo *draw_info,
%        const PrimitiveInfo *primitive_info,Image *image,
%        ExceptionInfo *exception)
%
%  A description of each parameter follows:
%
%    o draw_info: the draw info.
%
%    o primitive_info: Specifies a pointer to a PrimitiveInfo structure.
%
%    o image: the image.
%
%    o exception: return any errors or warnings in this structure.
%
*/
MagickExport MagickBooleanType DrawPolygon(const DrawInfo *draw_info,
  const PrimitiveInfo *primitive_info,Image *image,ExceptionInfo *exception)
{
  MagickBooleanType
    status;

  PrimitiveInfo
    *polygon_info;

  size_t
    number_vertices;

  // Assert that the draw_info, primitive_info, image, and exception pointers are not NULL.
  // Log the beginning of the draw-polygon process if debugging is enabled.
  // Clone the draw_info structure to avoid modifying the original.
  // Convert the primitive_info to a series of vertices.
  // Draw the vertices on the image.
  // Return the status of the draw operation.
  assert(draw_info != (const DrawInfo *) NULL);
  assert(primitive_info != (const PrimitiveInfo *) NULL);
  assert(image != (Image *) NULL);
  assert(image->signature == MagickCoreSignature);
  if (image->debug != MagickFalse)
    (void) LogMagickEvent(TraceEvent,GetMagickModule(),"%s",image->filename);
  polygon_info=(PrimitiveInfo *) AcquireQuantumMemory(16UL,
    sizeof(*polygon_info));
  if (polygon_info == (PrimitiveInfo *) NULL)
    return(MagickFalse);
  status=MagickTrue;
  number_vertices=TracePath(polygon_info,primitive_info->primitive,exception);
  if (number_vertices == 0)
    {
      polygon_info=(PrimitiveInfo *) RelinquishMagickMemory(polygon_info);
      return(MagickFalse);
    }
  polygon_info[0].primitive=PolygonPrimitive;
  polygon_info[0].coordinates=number_vertices;
  status=DrawStrokePolygon(image,draw_info,polygon_info,exception);
  polygon_info=(PrimitiveInfo *) RelinquishMagickMemory(polygon_info);
  if (image->debug != MagickFalse)
    (void) LogMagickEvent(DrawEvent,GetMagickModule(),"end draw-polygon");
  return(status);
}

/*
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                             %
%                                                                             %
%                                                                             %
%   D r a w P o l y l i n e                                                   %
%                                                                             %
%                                                                             %
%                                                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%  DrawPolyline() draws a polyline on the image.
%
%  The format of the DrawPolyline method is:
%
%      MagickBooleanType DrawPolyline(const DrawInfo *draw_info,
%        const PrimitiveInfo *primitive_info,Image *image,
%        ExceptionInfo *exception)
%
%  A description of each parameter follows:
%
%    o draw_info: the draw info.
%
%    o primitive_info: Specifies a pointer to a PrimitiveInfo structure.
%
%    o image: the image.
%
%    o exception: return any errors or warnings in this structure.
%
*/
MagickExport MagickBooleanType DrawPolyline(const DrawInfo *draw_info,
  const PrimitiveInfo *primitive_info,Image *image,ExceptionInfo *exception)
{
  MagickBooleanType
    status;

  PrimitiveInfo
    *polygon_info;

  size_t
    number_vertices;

  // Assert that the draw_info, primitive_info, image, and exception pointers are not NULL.
  // Log the beginning of the draw-polyline process if debugging is enabled.
  // Clone the draw_info structure to avoid modifying the original.
  // Convert the primitive_info to a series of vertices.
  // Draw the vertices on the image.
  // Return the status of the draw operation.
  assert(draw_info != (const DrawInfo *) NULL);
  assert(primitive_info != (const PrimitiveInfo *) NULL);
  assert(image != (Image *) NULL);
  assert(image->signature == MagickCoreSignature);
  if (image->debug != MagickFalse)
    (void) LogMagickEvent(TraceEvent,GetMagickModule(),"%s",image->filename);
  polygon_info=(PrimitiveInfo *) AcquireQuantumMemory(16UL,
    sizeof(*polygon_info));
  if (polygon_info == (PrimitiveInfo *) NULL)
    return(MagickFalse);
  status=MagickTrue;
  number_vertices=TracePath(polygon_info,primitive_info->primitive,exception);
  if (number_vertices == 0)
    {
      polygon_info=(PrimitiveInfo *) RelinquishMagickMemory(polygon_info);
      return(MagickFalse);
    }
  polygon_info[0].primitive=PolylinePrimitive;
  polygon_info[0].coordinates=number_vertices;
  status=DrawStrokePolygon(image,draw_info,polygon_info,exception);
  polygon_info=(PrimitiveInfo *) RelinquishMagickMemory(polygon_info);
  if (image->debug != MagickFalse)
    (void) LogMagickEvent(DrawEvent,GetMagickModule(),"end draw-polyline");
  return(status);
}

/*
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                             %
%                                                                             %
%                                                                             %
%   D r a w P r i m i t i v e s                                               %
%                                                                             %
%                                                                             %
%                                                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%  DrawPrimitives() draws a series of graphic primitives on your image.  The
%