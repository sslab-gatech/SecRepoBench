number_vertices=0;
for (n=0; ; n++)
{
  if (primitive_info[n].primitive == UndefinedPrimitive)
    break;
  number_vertices++;
}
dash_polygon=(PrimitiveInfo *) AcquireQuantumMemory((size_t) (2*number_vertices+1),
  sizeof(*dash_polygon));
if (dash_polygon == (PrimitiveInfo *) NULL)
  return(MagickFalse);
clone_info=CloneDrawInfo((DrawInfo *) NULL,draw_info);
clone_info->miterlimit=0.0;
dash_polygon[0]=primitive_info[0];
scale=ExpandAffine(&draw_info->affine)*draw_info->stroke_width/2.0;
dash_offset=draw_info->dash_offset;
length=scale*(draw_info->dash_pattern[0]+0.5);