number_vertices=0;
while ((primitive_info[number_vertices].primitive != UndefinedPrimitive) &&
       (primitive_info[number_vertices].coordinates != 0))
  number_vertices++;
dash_polygon=(PrimitiveInfo *) AcquireQuantumMemory((size_t) (2*number_vertices+1),
  sizeof(*dash_polygon));
if (dash_polygon == (PrimitiveInfo *) NULL)
  return(MagickFalse);
clone_info=CloneDrawInfo((ImageInfo *) NULL,draw_info);
clone_info->miterlimit=0.0;
dash_polygon[0]=primitive_info[0];
scale=fabs(draw_info->affine.sx)+fabs(draw_info->affine.sy);
dash_offset=draw_info->dash_offset;