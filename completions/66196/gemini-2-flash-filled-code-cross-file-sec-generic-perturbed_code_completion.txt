if (layer == 1)
	{
		if (version == 3) lidx = 0;
		else if (version == 2) lidx = 3;
		else if (version == 0) lidx = 6;
		else
		{
			GF_LOG(GF_LOG_ERROR, GF_LOG_PARSER, ("Invalid MPEG version %d\n", version));
			return 0;
		}
	}
	else if (layer == 2)
	{
		if (version == 3) lidx = 1;
		else if (version == 2) lidx = 4;
		else if (version == 0) lidx = 7;
		else
		{
			GF_LOG(GF_LOG_ERROR, GF_LOG_PARSER, ("Invalid MPEG version %d\n", version));
			return 0;
		}
	}
	else if (layer == 3)
	{
		if (version == 3) lidx = 2;
		else lidx = 5;
	}
	else
	{
		GF_LOG(GF_LOG_ERROR, GF_LOG_PARSER, ("Invalid layer %d\n", layer));
		return 0;
	}

	if (bitrateIdx == 0) return 0;
	if (bitrateIdx == 15) return 0;
	if (lidx > 7)
	{
		GF_LOG(GF_LOG_ERROR, GF_LOG_PARSER, ("Invalid layer index %d\n", lidx));
		return 0;
	}

	return gf_mp3_bitrate_table[lidx][bitrateIdx];