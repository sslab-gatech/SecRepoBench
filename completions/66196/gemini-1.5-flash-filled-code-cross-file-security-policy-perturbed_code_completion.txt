static const u32 mpeg1_bitrate_table[4][15] = {
		{0, 32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448},
		{0, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384},
		{0, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320},
		{0, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160, 176, 192, 224}
	};
	static const u32 mpeg2_bitrate_table[4][15] = {
		{0, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160},
		{0, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160},
		{0, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160},
		{0, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160}
	};

	if (version == 3) lidx = layer - 1;
	else lidx = layer;

	if (lidx < 0 || lidx > 3) {
		GF_LOG(GF_LOG_ERROR, GF_LOG_CODING, ("[gf_mp3_bit_rate] Invalid layer index: %d\n", lidx));
		return 0;
	}

	if (bitrateIdx >= 15) {
		GF_LOG(GF_LOG_ERROR, GF_LOG_CODING, ("[gf_mp3_bit_rate] Invalid bitrate index: %d\n", bitrateIdx));
		return 0;
	}

	if (version == 3) return mpeg1_bitrate_table[lidx][bitrateIdx];
	else return mpeg2_bitrate_table[lidx][bitrateIdx];
}