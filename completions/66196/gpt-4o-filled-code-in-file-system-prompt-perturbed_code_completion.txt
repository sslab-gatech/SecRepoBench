if (version == 3) {
		switch (layer) {
		case 1:
			lidx = 0;
			break;
		case 2:
			lidx = 1;
			break;
		case 3:
			lidx = 2;
			break;
		default:
			GF_LOG(GF_LOG_ERROR, GF_LOG_CODING, ("[MPEG-1/2 Audio] Layer not valid\n"));
			return 0;
		}
	} else {
		lidx = 3;
		if (layer == 1) {
			lidx = 3;
		} else if (layer == 2 || layer == 3) {
			lidx = 4;
		} else {
			GF_LOG(GF_LOG_ERROR, GF_LOG_CODING, ("[MPEG-1/2 Audio] Layer not valid\n"));
			return 0;
		}
	}

	if (lidx > 4) {
		GF_LOG(GF_LOG_ERROR, GF_LOG_CODING, ("[MPEG-1/2 Audio] Layer index not valid\n"));
		return 0;
	}

	return bitrate_table[lidx][bitrateIdx];