if (layer == 3) {
    if (version == 3) {
        lidx = 0; // MPEG-1 Layer III
    } else {
        lidx = 1; // MPEG-2/2.5 Layer III
    }
} else if (layer == 2) {
    lidx = (version == 3) ? 2 : 3; // MPEG-1 Layer II or MPEG-2/2.5 Layer II
} else if (layer == 1) {
    lidx = (version == 3) ? 4 : 5; // MPEG-1 Layer I or MPEG-2/2.5 Layer I
} else {
    // Invalid layer
    fprintf(stderr, "Error: Invalid layer index\n");
    return 0;
}

// Validate layer index
if (lidx > 5) {
    fprintf(stderr, "Error: Layer index out of bounds\n");
    return 0;
}

// Bitrate table (example values)
u32 bitrate_table[6][16] = {
    {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, // Layer I
    {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, // Layer II
    {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, // Layer III
    {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, // Layer I (MPEG-2)
    {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, // Layer II (MPEG-2)
    {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}  // Layer III (MPEG-2)
};

// Return the bitrate value
return bitrate_table[lidx][bitrateIdx];