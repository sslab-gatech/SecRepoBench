// Define the bitrate table for MPEG-1 and MPEG-2/2.5
	static const u16 bitrate_table[2][3][16] = {
		// MPEG-1
		{
			{0, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 0},  // Layer I
			{0, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384, 0}, // Layer II
			{0, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 0}   // Layer III
		},
		// MPEG-2/2.5
		{
			{0, 32, 48, 56, 64, 80, 96, 112, 128, 144, 160, 176, 192, 224, 256, 0}, // Layer I
			{0, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160, 0},      // Layer II
			{0, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160, 0}       // Layer III
		}
	};

	// Determine the layer index
	if (version == 3) {
		// MPEG-1
		if (layer == 3) lidx = 0; // Layer I
		else if (layer == 2) lidx = 1; // Layer II
		else if (layer == 1) lidx = 2; // Layer III
		else {
			// Invalid layer
			fprintf(stderr, "Invalid MPEG-1 layer: %u\n", layer);
			return 0;
		}
	} else if (version == 2 || version == 0) {
		// MPEG-2/2.5
		if (layer == 3) lidx = 0; // Layer I
		else if (layer == 2) lidx = 1; // Layer II
		else if (layer == 1) lidx = 2; // Layer III
		else {
			// Invalid layer
			fprintf(stderr, "Invalid MPEG-2/2.5 layer: %u\n", layer);
			return 0;
		}
	} else {
		// Invalid version
		fprintf(stderr, "Invalid MPEG version: %u\n", version);
		return 0;
	}

	// Validate bitrate index
	if (bitrateIdx >= 16) {
		fprintf(stderr, "Invalid bitrate index: %u\n", bitrateIdx);
		return 0;
	}

	// Return the bitrate value from the table
	return bitrate_table[version != 3][lidx][bitrateIdx] * 1000;