u32 gf_mp3_bit_rate(u32 hdr)
{
	u8 version = gf_mp3_version(hdr);
	u8 layer = gf_mp3_layer(hdr);
	u8 bitrateIdx = (hdr >> 12) & 0xF;
	u32 lidx;

	// Determine the appropriate layer index based on the MPEG version and layer information.
	if (version == 3) {
		if (layer == 1) {
			lidx = 0; // Layer I
		} else if (layer == 2) {
			lidx = 1; // Layer II
		} else {
			lidx = 2; // Layer III
		}
	} else {
		// For MPEG-2 and MPEG-2.5
		if (layer == 1) {
			lidx = 3; // Layer I
		} else if (layer == 2) {
			lidx = 4; // Layer II
		} else {
			lidx = 5; // Layer III
		}
	}

	// Validate the bitrate index and return the corresponding bitrate from the table.
	if (bitrateIdx < 1 || bitrateIdx > 14) {
		GF_LOG(GF_LOG_ERROR, GF_LOG_CODING, ("[MP3] Invalid bitrate index: %d\n", bitrateIdx));
		return 0; // Invalid bitrate index
	}

	return bitrate_table[lidx][bitrateIdx]; // Return the bitrate from the table
}