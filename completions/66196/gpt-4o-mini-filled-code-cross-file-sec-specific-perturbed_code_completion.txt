u32 bitrate_table[3][15] = {
    {0, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320}, // MPEG-1 Layer I
    {0, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320}, // MPEG-1 Layer II
    {0, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320}  // MPEG-1 Layer III
};

if (layer < 1 || layer > 3 || bitrateIdx > 14) {
    // Log an error for invalid layer or bitrate index
    return 0;
}

lidx = (version == 3) ? (layer - 1) : 0; // Adjust layer index for MPEG-1
return bitrate_table[lidx][bitrateIdx];