if (version == 3) { /*MPEG 1*/
		if (layer == 3) lidx = 0;
		else if (layer == 2) lidx = 1;
		else if (layer == 1) lidx = 2;
		else {
			GF_LOG(GF_LOG_ERROR, GF_LOG_CONTAINER, ("[MPEG-1] Invalid layer index.\n"));
			return 0;
		}
		if (bitrateIdx > 15) {
			GF_LOG(GF_LOG_ERROR, GF_LOG_CONTAINER, ("[MPEG-1] Invalid bitrate index.\n"));
			return 0;
		}
		return gf_mp3_bitrate_tbl[lidx][bitrateIdx];
	} else if ((version == 2) || (version == 0)) {
		/*MPEG 2, 2.5*/
		if (layer == 3) lidx = 3;
		else if (layer == 2) lidx = 4;
		else if (layer == 1) lidx = 5;
		else {
			GF_LOG(GF_LOG_ERROR, GF_LOG_CONTAINER, ("[MPEG-2/2.5] Invalid layer index.\n"));
			return 0;
		}
		if (bitrateIdx > 15) {
			GF_LOG(GF_LOG_ERROR, GF_LOG_CONTAINER, ("[MPEG-2/2.5] Invalid bitrate index.\n"));
			return 0;
		}
		return gf_mp3_bitrate_tbl[lidx][bitrateIdx];
	}

	return 0;