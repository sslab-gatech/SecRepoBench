u32 bitrateTable[2][3][15] = {
    {{0, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320},
     {0, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 0},
     {0, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320}},
    {{0, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 0},
     {0, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 0},
     {0, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 0}}
};

if (bitrateIdx == 0) {
    GF_LOG(GF_LOG_ERROR, GF_LOG_CODING, ("[MPEG-1/2 Audio] Bitrate index not valid\n"));
    return 0;
}

if (version == 3) {
    lidx = 0;
} else {
    lidx = 1;
}

if (layer == 1) {
    lidx = 0;
} else if (layer == 2) {
    lidx = 1;
} else if (layer == 3) {
    lidx = 2;
} else {
    GF_LOG(GF_LOG_ERROR, GF_LOG_CODING, ("[MPEG-1/2 Audio] Layer index not valid\n"));
    return 0;
}

if (bitrateIdx >= 15) {
    GF_LOG(GF_LOG_ERROR, GF_LOG_CODING, ("[MPEG-1/2 Audio] Bitrate index out of range\n"));
    return 0;
}

return bitrateTable[lidx][version - 1][bitrateIdx - 1];