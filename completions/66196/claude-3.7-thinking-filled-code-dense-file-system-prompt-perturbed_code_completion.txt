static const u16 mpeg1_bitrates[3][15] = {
    // Layer 1
    {0, 32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448},
    // Layer 2
    {0, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384},
    // Layer 3
    {0, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320}
};

// Bitrate table (in kbps) for MPEG-2 and MPEG-2.5
static const u16 mpeg2_bitrates[3][15] = {
    // Layer 1
    {0, 32, 48, 56, 64, 80, 96, 112, 128, 144, 160, 176, 192, 224, 256},
    // Layer 2 and Layer 3
    {0, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160},
    {0, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160}
};

if (version == 3) {
    /*MPEG-1*/
    if (layer > 0 && layer <= 3) {
        lidx = layer - 1;
    } else {
        GF_LOG(GF_LOG_ERROR, GF_LOG_CODING, ("[MPEG-1 Audio] Layer %d not valid\n", layer));
        return 0;
    }
    if (bitrateIdx == 0 || bitrateIdx > 14) {
        GF_LOG(GF_LOG_ERROR, GF_LOG_CODING, ("[MPEG-1 Audio] Bitrate index %d not valid\n", bitrateIdx));
        return 0;
    }
    return mpeg1_bitrates[lidx][bitrateIdx] * 1000;
}
/*MPEG-2 & MPEG-2.5*/
else {
    if (layer > 0 && layer <= 3) {
        lidx = layer - 1;
    } else {
        GF_LOG(GF_LOG_ERROR, GF_LOG_CODING, ("[MPEG-2/2.5 Audio] Layer %d not valid\n", layer));
        return 0;
    }
    if (bitrateIdx == 0 || bitrateIdx > 14) {
        GF_LOG(GF_LOG_ERROR, GF_LOG_CODING, ("[MPEG-2/2.5 Audio] Bitrate index %d not valid\n", bitrateIdx));
        return 0;
    }
    return mpeg2_bitrates[lidx][bitrateIdx] * 1000;
}