if ((rv) &&
    ((compoundflag && TESTAFF(rv->astr, compoundflag, rv->alen)) ||
     (compoundbegin && !wordnum && TESTAFF(rv->astr, compoundbegin, rv->alen)) ||
     (compoundmiddle && wordnum && TESTAFF(rv->astr, compoundmiddle, rv->alen))) &&
    (!defcpdtable.empty() && onlycpdrule &&
     ((!words && !wordnum && defcpd_check(&words, wnum, rv, rwords, 0)) ||
      (words && defcpd_check(&words, wnum, rv, rwords, 0)))) &&
    (!checkcpdtable.empty() && (scpd == 0 || checkcpdtable[scpd - 1].cond == FLAG_NULL ||
                               TESTAFF(rv->astr, checkcpdtable[scpd - 1].cond, rv->alen))) &&
    (!simplifiedtriple || !striple || !checkedstriple) &&
    (!checkcompounddup || rv != rv_first) &&
    (!checkcompoundrep || !cpdrep_check(word, len)) &&
    (!cpdwordpair_check(word, len))) {
  return rv;
}