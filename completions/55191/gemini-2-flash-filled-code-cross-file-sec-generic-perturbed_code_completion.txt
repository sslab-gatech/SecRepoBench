(!checked_prefix && rv &&
             ((compoundflag && TESTAFF(rv->astr, compoundflag, rv->alen)) ||
              (compoundbegin && !wordnum &&
               TESTAFF(rv->astr, compoundbegin, rv->alen)) ||
              (compoundmiddle && wordnum &&
               TESTAFF(rv->astr, compoundmiddle, rv->alen)) ||
              (compoundend &&
               TESTAFF(rv->astr, compoundend, rv->alen)) ||  // new condition
              (!defcpdtable.empty() && onlycpdrule &&
               ((!words && !wordnum &&
                 defcpd_check(&words, wnum, rv, rwords, 0)) ||
                (words &&
                 defcpd_check(&words, wnum, rv, rwords, 0))))) &&
            (
                // test CHECKCOMPOUNDPATTERN
                checkcpdtable.empty() || scpd != 0 ||
                (char_index < word.size() && !cpdpat_check(word, char_index, rv_first, rv, 0))) &&
            ((!checkcompounddup || (rv != rv_first))) &&
            (scpd == 0 || checkcpdtable[scpd - 1].cond == FLAG_NULL ||
             TESTAFF(rv->astr, checkcpdtable[scpd - 1].cond, rv->alen)) &&
            ((!checkcompoundrep || !cpdrep_check(word, len)) &&
             !cpdwordpair_check(word, len)) &&
            ((!compoundforbidflag) ||
             (!TESTAFF(rv->astr, compoundforbidflag, rv->alen))) &&
            ((!forbiddenword) || (!TESTAFF(rv->astr, forbiddenword, rv->alen))) &&
            ((!forceucase) || (!TESTAFF(rv->astr, forceucase, rv->alen)) ||
             (info && *info & SPELL_ORIGCAP))