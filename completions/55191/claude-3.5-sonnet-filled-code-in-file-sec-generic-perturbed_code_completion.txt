(rv) &&
((compoundflag && TESTAFF(rv->astr, compoundflag, rv->alen)) ||
 (compoundbegin && TESTAFF(rv->astr, compoundbegin, rv->alen)) ||
 (compoundmiddle && TESTAFF(rv->astr, compoundmiddle, rv->alen)) ||
 (!defcpdtable.empty() && words &&
  defcpd_check(&words, wnum, rv, NULL, 1))) &&
(
    // test CHECKCOMPOUNDPATTERN
    checkcpdtable.empty() || scpd != 0 ||
    (char_index < word.size() && !cpdpat_check(word, char_index, rv_first, rv, 0))
) &&
((!checkcompounddup || (rv != rv_first))) &&
// test CHECKCOMPOUNDTRIPLE
(!checkcompoundtriple || 
 (char_index == 0 || 
  (word[char_index-1] != word[char_index] || 
   (char_index > 1 && word[char_index-1] != word[char_index-2])))) &&
// test CHECKCOMPOUNDCASE
(!checkcompoundcase || !cpdcase_check(word, char_index))