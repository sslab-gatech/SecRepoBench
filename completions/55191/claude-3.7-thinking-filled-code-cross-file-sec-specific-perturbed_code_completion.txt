((rv) &&
 (
   // if it's allowed to be a compound
   (compoundflag && TESTAFF(rv->astr, compoundflag, rv->alen)) ||
   // or it's allowed to begin a compound
   (compoundbegin && wordnum == 0 && TESTAFF(rv->astr, compoundbegin, rv->alen)) ||
   // or if it's a middle part of a compound
   (compoundmiddle && wordnum > 0 && TESTAFF(rv->astr, compoundmiddle, rv->alen)) ||
   // or if it matches a predefined compound pattern
   (!defcpdtable.empty() && ((wordnum == 0 && defcpd_check(&words, wnum, rv, rwords, 0)) ||
                             (words && defcpd_check(&words, wnum, rv, rwords, 0))))
 ) &&
 // check if there's no forbidden compound pattern
 (checkcpdtable.empty() || scpd != 0 ||
  (char_index < word.size() && !cpdpat_check(word, char_index, rv, NULL, 0))) &&
 // check for simplified triple letters
 (!simplifiedtriple || !striple || striple != checkedstriple))