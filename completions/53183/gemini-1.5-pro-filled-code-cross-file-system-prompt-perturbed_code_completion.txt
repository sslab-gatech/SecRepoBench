int value = 0;
  const char *e = p;

  while (e < end && mrb_isdigit(*e)) {
    value = value * 10 + (*e - '0');
    e++;
  }

  if (e == p) {
    // No digits found.
    return NULL;
  }

  *value_pointer = value;