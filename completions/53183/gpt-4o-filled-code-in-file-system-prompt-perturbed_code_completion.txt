int n = 0;
  if (p >= end || !isdigit(*p)) return NULL;
  while (p < end && isdigit(*p)) {
    int c = *p++;
    if (n > (INT_MAX - (c - '0')) / 10) return NULL; // overflow check
    n = 10 * n + (c - '0');
  }
  *value_pointer = n;