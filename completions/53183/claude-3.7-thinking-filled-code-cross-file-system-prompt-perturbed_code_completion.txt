const char *e = p;
  int n = 0;
  int sign = 1;

  // Skip whitespace
  while (e < end && ISSPACE(*e)) e++;
  
  // Handle sign
  if (e < end) {
    if (*e == '-') {
      sign = -1;
      e++;
    }
    else if (*e == '+') {
      e++;
    }
  }

  // Parse digits
  if (e < end && ISDIGIT(*e)) {
    do {
      n = n * 10 + (*e - '0');
      e++;
    } while (e < end && ISDIGIT(*e));
    *value_pointer = n * sign;
    return e;
  }

  // Parsing failed
  return NULL;