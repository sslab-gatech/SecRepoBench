int i;
const char *e;

for (i = 0; p < end && ISDIGIT(*p); i++) {
  *value_pointer = *value_pointer * 10 + (*p - '0');
  p++;
}

if (i == 0) {
  return NULL;
}

e = p;
return e;