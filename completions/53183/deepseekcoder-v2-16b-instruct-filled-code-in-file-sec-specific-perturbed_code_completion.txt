// Parse an integer from the given string range [p, end) and store it in the value pointer.
  // Returns NULL if the parsing fails.
  const char *e = p;
  int sign = 1;
  int num = 0;

  if (*p == '-') {
    sign = -1;
    p++;
  }

  while (*p >= '0' && *p <= '9') {
    num = num * 10 + (*p - '0');
    p++;
  }

  if (p == e) {
    return NULL;
  }

  *value_pointer = sign * num;
  return p;