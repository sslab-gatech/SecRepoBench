const char *e = p;
int value = 0;

if (!p || !end || p >= end || !value_pointer) {
    return NULL;
}

while (e < end && *e >= '0' && *e <= '9') {
    int digit = *e - '0';
    if (value > (INT_MAX - digit) / 10) {
        return NULL; // Overflow check
    }
    value = value * 10 + digit;
    e++;
}

if (e == p) {
    return NULL; // No digits parsed
}

*value_pointer = value;
return e;