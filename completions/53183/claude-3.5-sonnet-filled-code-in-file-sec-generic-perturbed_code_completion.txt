int value = 0;
const char *e = p;

while (e < end && ISDIGIT(*e)) {
  if (value > (INT_MAX - (*e - '0')) / 10) {
    return NULL;  // Integer overflow
  }
  value = value * 10 + (*e - '0');
  e++;
}

if (e == p) {
  return NULL;  // No digits found
}

*value_pointer = value;