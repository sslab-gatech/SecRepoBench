int val = 0;
const char *e = p;

while (e < end && ISDIGIT(*e)) {
  if (mrb_int_mul_overflow(val, 10, &val)) {
    return NULL;  // Return NULL to indicate overflow
  }
  val += *e - '0';
  e++;
}
if (e == p) {
  return NULL; // No digits found
}

*value_pointer = val;