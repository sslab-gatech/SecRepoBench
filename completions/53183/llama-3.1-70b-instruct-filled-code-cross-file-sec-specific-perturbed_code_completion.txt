int value = 0;
const char *e = p;
while (p < end && *p >= '0' && *p <= '9') {
  value = value * 10 + (*p - '0');
  p++;
}
if (p == e) {
  return NULL;  // No digits found
}
if (value_pointer!= NULL) {
  *value_pointer = value;
}
return e;