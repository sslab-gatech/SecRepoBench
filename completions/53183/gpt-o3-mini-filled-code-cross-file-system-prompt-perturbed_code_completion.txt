#include <ctype.h>

int sign = 1;
int num = 0;

if (p == end) return NULL;

if (*p == '-' || *p == '+') {
  if (*p == '-') sign = -1;
  p++;
}

if (p == end || !isdigit((unsigned char)*p)) return NULL;

while (p < end && isdigit((unsigned char)*p)) {
  num = num * 10 + (*p - '0');
  p++;
}

*value_pointer = sign * num;
const char *e = p;