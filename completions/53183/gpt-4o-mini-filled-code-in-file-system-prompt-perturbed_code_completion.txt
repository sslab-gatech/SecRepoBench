char *start = p;
  int sign = 1;
  int value = 0;

  while (p < end && isdigit(*p)) {
    value = value * 10 + (*p - '0');
    p++;
  }

  if (p == start) {
    return NULL; // No digits found
  }

  *value_pointer = sign * value;
  return p;