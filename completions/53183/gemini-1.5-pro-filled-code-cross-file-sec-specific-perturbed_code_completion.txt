int value = 0;
  const char *e = p;

  while (e < end && mrb_isdigit(*e)) {
    int digit = *e - '0';
    if (value > (INT_MAX - digit) / 10) {
        // Integer overflow detected
        return NULL;
    }
    value = value * 10 + digit;
    e++;
  }

  if (e == p) {
    // No digits found
    return NULL;
  }

  *value_pointer = value;