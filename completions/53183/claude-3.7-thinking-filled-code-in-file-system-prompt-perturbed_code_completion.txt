const char *e = p;
int n = 0;

/* parse digits */
while (e < end && isdigit((int)*e)) {
  int ch = *e - '0';
  
  /* check for overflow */
  if (n > (INT_MAX - ch) / 10)
    return NULL;
  
  n = n * 10 + ch;
  e++;
}

/* store parsed value */
*value_pointer = n;

/* return pointer to character after number */
return e;