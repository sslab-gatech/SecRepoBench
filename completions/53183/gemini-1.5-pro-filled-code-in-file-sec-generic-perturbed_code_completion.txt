int val = 0;
  const char *e = p;

  // Skip leading whitespace
  while (e < end && isspace(*e)) {
    e++;
  }

  // Check for sign
  if (e < end && (*e == '+' || *e == '-')) {
    // Handle only positive values for now
    if (*e == '+') {
      e++;
    }
  }

  // Parse digits
  while (e < end && isdigit(*e)) {
    if (val > INT_MAX / 10 || (val == INT_MAX / 10 && *e - '0' > INT_MAX % 10)) {
      // Integer overflow
      return NULL;
    }
    val = val * 10 + (*e - '0');
    e++;
  }

  *value_pointer = val;

  // Check if any characters were parsed
  if (e == p) {
    return NULL;
  }