const char *e = p;
long num = 0;

while (e < end && ISDIGIT(*e)) {
  if (num > (LONG_MAX - (*e - '0')) / 10) {
    return NULL;  // Overflow
  }
  num = num * 10 + (*e - '0');
  e++;
}

if (e == p) {
  return NULL;  // No digits found
}

if (num > INT_MAX) {
  return NULL;  // Exceeds INT_MAX
}

*value_pointer = (int)num;