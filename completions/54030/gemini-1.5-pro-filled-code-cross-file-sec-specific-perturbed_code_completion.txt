if (rv && !checkcpdtable.empty() && scpd == 0 &&
                !cpdpat_check(word, i, rv_first, rv, is_affixed)) {
              rv = NULL;
            }


            if (rv && compoundroot && TESTAFF(rv->astr, compoundroot, rv->alen)) {
              wordnum++;
            }

            // second word is acceptable, as a compound word?
            if (rv &&
                (((cpdwordmax == -1) || (wordnum + 1 < cpdwordmax)) ||
                 ((cpdmaxsyllable != 0) && (numsyllable <= cpdmaxsyllable)))) {
              std::string cpdsfx = word.substr(i);

              int maxl = cpdsfx.size() < MAX_WORD_LENGTH ? cpdsfx.size() : MAX_WORD_LENGTH - 1;
              char cpdsfx_array[MAX_WORD_LENGTH];
              strncpy(cpdsfx_array, cpdsfx.c_str(), maxl);
              cpdsfx_array[maxl] = '\0';

              if (pAMgr->compound_check(cpdsfx_array, wordnum + 1, numsyllable,
                                          maxwordnum, wnum + 1, words, NULL,
                                          hu_mov_rule, is_sug, info))
                return rv_first;
            }