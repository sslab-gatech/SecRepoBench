if (fmt == 'g' && prec == 0) {
  prec = 1;
}
if (num_digits || alt_form) {
  *s++ = '.';
  while (--e && num_digits) {
    *s++ = '0';
    num_digits--;
  }
}