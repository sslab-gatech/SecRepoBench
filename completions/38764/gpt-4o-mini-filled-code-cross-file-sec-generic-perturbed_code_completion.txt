struct file_info *file_info;
		int r;

		// Get the next file entry from the cache
		r = next_cache_entry(archivereader, iso9660, &file_info);
		if (r != ARCHIVE_OK) {
			return r;
		}

		// Skip entries for '.' and '..'
		if (file_info->name.s[0] == '.' && 
		    (file_info->name.s[1] == '\0' || 
		     (file_info->name.s[1] == '.' && file_info->name.s[2] == '\0'))) {
			continue;
		}

		// Add the file entry to the archive structure
		if (archive_entry_copy_pathname_l(entry, file_info->name.s, file_info->name.length, NULL) != 0) {
			archive_set_error(&archivereader->archive, ARCHIVE_ERRNO_FILE_FORMAT,
			    "Failed to copy pathname for entry: %s", file_info->name.s);
			return ARCHIVE_FATAL;
		}

		// Set additional file attributes
		archive_entry_set_size(entry, file_info->size);
		archive_entry_set_mode(entry, file_info->mode);
		archive_entry_set_uid(entry, file_info->uid);
		archive_entry_set_gid(entry, file_info->gid);
		archive_entry_set_mtime(entry, file_info->mtime, 0);
		archive_entry_set_atime(entry, file_info->atime, 0);
		archive_entry_set_ctime(entry, file_info->ctime, 0);

		// Handle multi-extent files
		if (file_info->number != -1) {
			// Add to multi-extent file list
			if (multi == NULL) {
				multi = file_info;
			} else {
				multi->next = file_info;
			}
		}