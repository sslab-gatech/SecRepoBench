// Set the character size for the font face based on the point size and resolution
  ft_status = FT_Set_Char_Size(face, draw_info->pointsize * 64, draw_info->pointsize * 64, resolution.x, resolution.y);
  if (ft_status != 0)
  {
    ThrowFreetypeErrorException("UnableToSetCharacterSize", ft_status, draw_info->font);
    FT_Done_FreeType(library);
    return MagickFalse;
  }

  // Initialize the TypeMetric structure with font size metrics
  metrics->ascent = face->size->metrics.ascender / 64.0;
  metrics->descent = face->size->metrics.descender / 64.0;
  metrics->max_advance = face->size->metrics.max_advance / 64.0;
  metrics->underline_position = face->underline_position / 64.0;
  metrics->underline_thickness = face->underline_thickness / 64.0;

  // Check if there is text to render
  if (text == NULL || *text == '\0')
  {
    FT_Done_FreeType(library);
    return MagickTrue;
  }

  // Render each character in the text
  length = strlen(text);
  for (i = 0; i < length; i++)
  {
    code = GetUTFCode(text + i);
    if (code == 0)
      break;

    // Load the glyph for the character
    ft_status = FT_Load_Char(face, code, FT_LOAD_RENDER);
    if (ft_status != 0)
    {
      ThrowFreetypeErrorException("UnableToLoadGlyph", ft_status, draw_info->font);
      continue;
    }

    // Get the glyph metrics and update the bounding box
    glyph.id = face->glyph->glyph_index;
    glyph.origin.x = face->glyph->bitmap_left;
    glyph.origin.y = face->glyph->bitmap_top;
    glyph.image = face->glyph->bitmap;

    // Update the metrics and position for rendering
    metrics->width += glyph.image.width;
    metrics->height = (metrics->height > glyph.image.rows) ? metrics->height : glyph.image.rows;

    // Render the glyph onto the image
    // (Rendering logic goes here, using the glyph data and the image context)

    // Update the position for the next glyph
    offset->x += glyph.origin.x + glyph.image.width;
  }

  // Finalize the metrics
  metrics->width += offset->x;
  metrics->height = metrics->ascent - metrics->descent;

  // Clean up resources
  FT_Done_FreeType(library);
  return MagickTrue;