// Set the character size for the font face based on the point size and resolution specified in the DrawInfo structure.
  ft_status=FT_Set_Char_Size(face,draw_info->pointsize*64,draw_info->pointsize*64,0,0);
  if (ft_status != 0)
    {
      (void) FT_Done_FreeType(library);
      ThrowFreetypeErrorException("UnableToSetCharacterSize",ft_status,draw_info->font);
      return(MagickFalse);
    }

  // Initialize the TypeMetric structure with font size metrics such as ascent, descent, width, height, and maximum advance.
  (void) FT_Load_Glyph(face,missing_glyph_id,FT_LOAD_DEFAULT);
  metrics->ascent=(double) (face->size->metrics.ascender >> 6);
  metrics->descent=(double) (face->size->metrics.descender >> 6);
  metrics->max_advance=(double) (face->size->metrics.max_advance >> 6);
  metrics->height=metrics->ascent - metrics->descent;

  // If there is no text to render, or no glyphs in the font, clean up resources and return a successful status without proceeding further.
  if (draw_info->text == (char *) NULL || *draw_info->text == '\0')
    {
      (void) FT_Done_FreeType(library);
      return(MagickTrue);
    }

  // Configure rendering options such as anti-aliasing and hinting based on the DrawInfo settings and image properties.
  // Prepare structures for rendering each glyph in the text string, transforming the glyphs according to specified affine transformations.
  for (i = 0; i < length; i++)
  {
    code = GetUTFCode(text);
    if (code == 0)
      break;

    // Load the glyph for the character and handle any errors.
    ft_status = FT_Load_Char(face, code, FT_LOAD_RENDER);
    if (ft_status != 0)
      {
        (void) FT_Done_FreeType(library);
        ThrowFreetypeErrorException("UnableToLoadGlyph", ft_status, draw_info->font);
        return(MagickFalse);
      }

    // Rasterize the glyph and update the metrics.
    bitmap = (FT_BitmapGlyph) face->glyph;
    metrics->width += (double) (bitmap->bitmap.width);
    metrics->height = (metrics->height > (double) (bitmap->bitmap.rows)) ? metrics->height : (double) (bitmap->bitmap.rows);
  }

  // Finalize the font metrics by normalizing the bounding box coordinates and width.
  metrics->bounds.x1 = 0.0;
  metrics->bounds.y1 = -metrics->ascent;
  metrics->bounds.x2 = metrics->width;
  metrics->bounds.y2 = metrics->ascent;

  // Clean up any remaining resources and return the rendering status.
  (void) FT_Done_FreeType(library);
  return(MagickTrue);