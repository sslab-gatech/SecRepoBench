// Set the character size for the font face based on the point size and resolution
  ft_status = FT_Set_Char_Size(face, draw_info->pointsize * 64, draw_info->pointsize * 64, resolution.x, resolution.y);
  if (ft_status != 0)
    ThrowFreetypeErrorException("UnableToSetCharacterSize", ft_status, draw_info->font);

  // Initialize the TypeMetric structure
  metrics->ascent = (double) face->size->metrics.ascender / 64.0;
  metrics->descent = (double) face->size->metrics.descender / 64.0;
  metrics->max_advance = (double) face->size->metrics.max_advance / 64.0;
  metrics->underline_position = (double) face->underline_position / 64.0;
  metrics->underline_thickness = (double) face->underline_thickness / 64.0;

  // Check if there is text to render
  if (text == NULL || *text == '\0') {
    FT_Done_Face(face);
    FT_Done_FreeType(library);
    return MagickTrue;
  }

  // Render each character in the text
  length = strlen(text);
  for (i = 0; i < length; i++) {
    code = GetUTFCode(text + i);
    if (code == 0) break; // End of string

    // Load the glyph for the character
    ft_status = FT_Load_Char(face, code, FT_LOAD_RENDER);
    if (ft_status != 0) {
      ThrowFreetypeErrorException("UnableToLoadGlyph", ft_status, text);
      continue;
    }

    // Get the glyph metrics and update the metrics structure
    glyph.id = face->glyph->glyph_index;
    glyph.origin.x = face->glyph->bitmap_left;
    glyph.origin.y = face->glyph->bitmap_top;
    glyph.image = face->glyph->bitmap;

    // Update the metrics based on the glyph
    metrics->width += (double) (face->glyph->advance.x >> 6);
    metrics->height = fmax(metrics->height, (double) (face->glyph->bitmap.rows));
    
    // Draw the glyph on the image
    // (Implement the drawing logic here based on the glyph's bitmap)
  }

  // Finalize the metrics
  metrics->width += metrics->max_advance; // Adjust width for the last glyph
  FT_Done_Face(face);
  FT_Done_FreeType(library);
  return MagickTrue;