annotate_info=CloneImageInfo((ImageInfo *) NULL);
  (void) strcpy(annotate_info->magick,"PS");
  (void) strcpy(annotate_info->filename,"annotate.ps");
  annotate_info->adjoin=MagickTrue;
  annotate_info->antialias=MagickFalse;
  annotate_info->density=image->columns;
  annotate_info->units=PixelsResolution;
  annotate_info->fill=draw_info->fill;
  annotate_info->font=draw_info->font;
  annotate_info->pointsize=draw_info->pointsize;
  annotate_info->interline_spacing=draw_info->interline_spacing;
  annotate_info->interword_spacing=draw_info->interword_spacing;
  annotate_info->kerning=draw_info->kerning;
  annotate_info->direction=draw_info->direction;
  annotate_info->gravity=draw_info->gravity;
  annotate_info->fill_pattern=NULL;
  annotate_info->stroke_pattern=NULL;
  annotate_info->text=EscapeParenthesis(draw_info->text);
  annotate_info->affine.sx=1.0;
  annotate_info->affine.rx=0.0;
  annotate_info->affine.ry=0.0;
  annotate_info->affine.sy=1.0;
  annotate_info->affine.tx=offset->x;
  annotate_info->affine.ty=offset->y;
  annotate_image=NewImage(annotate_info,exception);
  annotate_info=DestroyImageInfo(annotate_info);
  if (annotate_image == (Image *) NULL)
    {
      annotate_info->text=DestroyString(annotate_info->text);
      return(MagickFalse);
    }
  annotate_image->debug=MagickFalse;
  annotate_image->image_info->adjoin=MagickTrue;
  annotate_image->image_info->antialias=MagickFalse;
  annotate_image->image_info->density=image->columns;
  annotate_image->image_info->units=PixelsResolution;
  annotate_image->image_info->fill=draw_info->fill;
  annotate_image->image_info->font=draw_info->font;
  annotate_image->image_info->pointsize=draw_info->pointsize;
  annotate_image->image_info->interline_spacing=draw_info->interline_spacing;
  annotate_image->image_info->interword_spacing=draw_info->interword_spacing;
  annotate_image->image_info->kerning=draw_info->kerning;
  annotate_image->image_info->direction=draw_info->direction;
  annotate_image->image_info->gravity=draw_info->gravity;
  annotate_image->image_info->fill_pattern=NULL;
  annotate_image->image_info->stroke_pattern=NULL;
  annotate_image->image_info->text=EscapeParenthesis(draw_info->text);
  annotate_image->image_info->affine.sx=1.0;
  annotate_image->image_info->affine.rx=0.0;
  annotate_image->image_info->affine.ry=0.0;
  annotate_image->image_info->affine.sy=1.0;
  annotate_image->image_info->affine.tx=offset->x;
  annotate_image->image_info->affine.ty=offset->y;
  annotate_image->image_info->text=DestroyString(annotate_image->image_info->text);
  annotate_image->image_info->signature=MagickCoreSignature;
  annotate_image->columns=image->columns;
  annotate_image->rows=image->rows;
  annotate_image->depth=image->depth;
  annotate_image->colorspace=image->colorspace;
  annotate_image->matte=image->matte;
  annotate_image->background_color=image->background_color;
  annotate_image->border_color=image->border_color;
  annotate_image->page.x=image->page.x;
  annotate_image->page.y=image->page.y;
  annotate_image->page.width=image->page.width;
  annotate_image->page.height=image->page.height;
  annotate_image->scene=image->scene;
  annotate_image->animation=image->animation;
  annotate_image->delay=image->delay;
  annotate_image->iterations=image->iterations;
  annotate_image->ticks_per_second=image->ticks_per_second;
  annotate_image->debug=MagickFalse;
  annotate_image->signature=MagickCoreSignature;
  unique_file=OpenUniqueFile(filename,GetMagickModule(),&annotate_image->image_info->filename);
  if (unique_file == -1)
    {
      annotate_image=DestroyImage(annotate_image);
      return(MagickFalse);
    }
  file=fdopen(unique_file,"wb");
  if (file == (FILE *) NULL)
    {
      annotate_image=DestroyImage(annotate_image);
      return(MagickFalse);
    }
  (void) SetImageInfo(annotate_image->image_info,annotate_image->columns,
    exception);
  (void) AnnotateImage(annotate_image,annotate_image->image_info,exception);
  (void) fclose(file);
  file=fopen(filename,"rb");
  if (file == (FILE *) NULL)
    {
      annotate_image=DestroyImage(annotate_image);
      return(MagickFalse);
    }
  annotate_image=ReadImage(annotate_image->image_info,file,exception);
  (void) fclose(file);
  if (annotate_image == (Image *) NULL)
    {
      annotate_image=DestroyImage(annotate_image);
      return(MagickFalse);
    }
  annotate_image->debug=MagickFalse;
  annotate_image->image_info->signature=MagickCoreSignature;
  annotate_image->image_info->filename=DestroyString(annotate_image->image_info->filename);
  annotate_image->image_info->filename=AcquireString(filename);
  annotate_image->image_info->adjoin=MagickTrue;
  annotate_image->image_info->antialias=MagickFalse;
  annotate_image->image_info->density=image->columns;
  annotate_image->image_info->units=PixelsResolution;
  annotate_image->image_info->fill=draw_info->fill;
  annotate_image->image_info->font=draw_info->font;
  annotate_image->image_info->pointsize=draw_info->pointsize;
  annotate_image->image_info->interline_spacing=draw_info->interline_spacing;
  annotate_image->image_info->interword_spacing=draw_info->interword_spacing;
  annotate_image->image_info->kerning=draw_info->kerning;
  annotate_image->image_info->direction=draw_info->direction;
  annotate_image->image_info->gravity=draw_info->gravity;
  annotate_image->image_info->fill_pattern=NULL;
  annotate_image->image_info->stroke_pattern=NULL;
  annotate_image->image_info->text=EscapeParenthesis(draw_info->text);
  annotate_image->image_info->affine.sx=1.0;
  annotate_image->image_info->affine.rx=0.0;
  annotate_image->image_info->affine.ry=0.0;
  annotate_image->image_info->affine.sy=1.0;
  annotate_image->image_info->affine.tx=offset->x;
  annotate_image->image_info->affine.ty=offset->y;
  annotate_image->image_info->text=DestroyString(annotate_image->image_info->text);
  annotate_image->image_info->signature=MagickCoreSignature;
  annotate_image->columns=image->columns;
  annotate_image->rows=image->rows;
  annotate_image->depth=image->depth;
  annotate_image->colorspace=image->colorspace;
  annotate_image->matte=image->matte;
  annotate_image->background_color=image->background_color;
  annotate_image->border_color=image->border_color;
  annotate_image->page.x=image->page.x;
  annotate_image->page.y=image->page.y;
  annotate_image->page.width=image->page.width;
  annotate_image->page.height=image->page.height;
  annotate_image->scene=image->scene;
  annotate_image->animation=image->animation;
  annotate_image->delay=image->delay;
  annotate_image->iterations=image->iterations;
  annotate_image->ticks_per_second=image->ticks_per_second;
  annotate_image->debug=MagickFalse;
  annotate_image->signature=MagickCoreSignature;
  annotate_image->storage_class=DirectClass;
  annotate_image->colors=image->colors;
  annotate_image->colormap=image->colormap;
  annotate_image->image_info->filename=DestroyString(annotate_image->image_info->filename);
  annotate_image->image_info->filename=AcquireString(filename);
  annotate_image->image_info->adjoin=MagickTrue;
  annotate_image->image_info->antialias=MagickFalse;
  annotate_image->image_info->density=image->columns;
  annotate_image->image_info->units=PixelsResolution;
  annotate_image->image_info->fill=draw_info->fill;
  annotate_image->image_info->font=draw_info->font;
  annotate_image->image_info->pointsize=draw_info->pointsize;
  annotate_image->image_info->interline_spacing=draw_info->interline_spacing;
  annotate_image->image_info->interword_spacing=draw_info->interword_spacing;
  annotate_image->image_info->kerning=draw_info->kerning;
  annotate_image->image_info->direction=draw_info->direction;
  annotate_image->image_info->gravity=draw_info->gravity;
  annotate_image->image_info->fill_pattern=NULL;
  annotate_image->image_info->stroke_pattern=NULL;
  annotate_image->image_info->text=EscapeParenthesis(draw_info->text);
  annotate_image->image_info->affine.sx=1.0;
  annotate_image->image_info->affine.rx=0.0;
  annotate_image->image_info->affine.ry=0.0;
  annotate_image->image_info->affine.sy=1.0;
  annotate_image->image_info->affine.tx=offset->x;
  annotate_image->image_info->affine.ty=offset->y;
  annotate_image->image_info->text=DestroyString(annotate_image->image_info->text);
  annotate_image->image_info->signature=MagickCoreSignature;
  annotate_image->storage_class=DirectClass;
  annotate_image->colors=image->colors;
  annotate_image->colormap=image->colormap;
  annotate_image->signature=MagickCoreSignature;
  annotate_image->storage_class=DirectClass;
  annotate_image->colors=image->colors;
  annotate_image->colormap=image->colormap;
  annotate_image->signature=MagickCoreSignature;
  annotate_image->storage_class=DirectClass;
  annotate_image->colors=image->colors;
  annotate_image->colormap=image->colormap;
  annotate_image->signature=MagickCoreSignature;
  annotate_image->storage_class=DirectClass;
  annotate_image->colors=image->colors;
  annotate_image->colormap=image->colormap;
  annotate_image->signature=MagickCoreSignature;
  annotate_image->storage_class=DirectClass;
  annotate_