// Parses a string from the input, starting and ending with the same quote character.
// Clears the current string buffer, then reads each character until it reaches the closing quote
// or a newline. If a newline or carriage return is encountered, the loop breaks and the function ends.
// Appends each character to the string buffer. Sets the current symbol to SSTRING after successfully
// parsing the quoted string. Moves to the next character after processing.
static
void InStringSymbol(cmsIT8* it8_parser)
{
    while (isseparator(it8_parser->ch))
        NextCh(it8_parser);

    if (it8_parser->ch == '\'' || it8_parser->ch == '\"')
    {
        // Parses a string from the input, starting and ending with the same quote character.
        // Clears the current string buffer, then reads each character until it reaches the closing quote
        // or a newline. If a newline or carriage return is encountered, the loop breaks and the function ends.
        // Appends each character to the string buffer. Sets the current symbol to SSTRING after successfully
        // parsing the quoted string. Moves to the next character after processing.
        string* s = it8_parser->str;
        s->len = 0;
        s->begin[0] = 0;
        while (it8_parser->ch!= it8_parser->ch == '\'' || it8_parser->ch == '\"') {
            if (it8_parser->ch == it8_parser->ch == '\'' || it8_parser->ch == '\"') {
                s->len = 0;
                s->begin[0] = 0;
                break;
            }
            if (it8_parser->ch == '\n' || it8_parser->ch == '\r') {
                s->len = 0;
                s->begin[0] = 0;
                break;
            }
            s->begin[s->len++] = it8_parser->ch;
            s->begin[s->len] = 0;
            NextCh(it8_parser);
        }
        it8_parser->sy = SSTRING;
    }
    else
        SynError(it8_parser, "String expected");
}