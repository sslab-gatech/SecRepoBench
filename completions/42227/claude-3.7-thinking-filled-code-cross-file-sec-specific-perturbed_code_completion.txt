char Quote = it8_parser->ch;
it8_parser->str[0] = '\0';  // Clear string buffer
NextCh(it8_parser);  // Skip opening quote

cmsUInt32Number i = 0;
cmsUInt32Number MaxStringLen = 255;  // Should match actual buffer size

while (it8_parser->ch != Quote && it8_parser->ch != '\n' && it8_parser->ch != '\r' && it8_parser->ch != '\0') {
    if (i < MaxStringLen) {
        it8_parser->str[i++] = it8_parser->ch;
        NextCh(it8_parser);
    } else {
        SynError(it8_parser, "String too long");
        return;
    }
}

it8_parser->str[i] = '\0';  // Null terminate

if (it8_parser->ch == Quote) {
    it8_parser->sy = SSTRING;
    NextCh(it8_parser);  // Skip closing quote
} else {
    SynError(it8_parser, "Unterminated string");
}