int Quote = it8_parser->ch;
NextCh(it8_parser);

it8_parser->str[0] = '\0';  // Clear the string buffer
int index = 0;

while (it8_parser->ch != Quote) {
    if (it8_parser->ch == '\n' || it8_parser->ch == '\r' || it8_parser->ch == '\0') {
        SynError(it8_parser, "Unterminated string");
        return;
    }
    
    // Prevent buffer overflow
    if (index < MAXSTR - 1) {
        it8_parser->str[index++] = it8_parser->ch;
    } else {
        SynError(it8_parser, "String too long");
        return;
    }
    
    NextCh(it8_parser);
}

it8_parser->str[index] = '\0';  // Null-terminate the string
it8_parser->sy = SSTRING;
NextCh(it8_parser);  // Move past the closing quote