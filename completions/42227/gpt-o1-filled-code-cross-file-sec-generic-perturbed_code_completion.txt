{
    char quote = it8_parser->ch;
    NextCh(it8_parser);  // Skip the opening quote

    // Clear current string buffer
    it8_parser->str[0] = '\0';
    size_t pos = 0;
    const size_t maxLen = sizeof(it8_parser->str) - 1;

    // Read characters until matching quote or newline/carriage return
    while (it8_parser->ch != quote &&
           it8_parser->ch != '\n' &&
           it8_parser->ch != '\r' &&
           it8_parser->ch != 0)
    {
        if (pos < maxLen) {
            it8_parser->str[pos++] = it8_parser->ch;
            it8_parser->str[pos] = '\0';
        }
        NextCh(it8_parser);
    }

    // If we found the closing quote, mark as string
    if (it8_parser->ch == quote) {
        NextCh(it8_parser); // Skip the closing quote
        it8_parser->sy = SSTRING;
    }
    // If newline or carriage return was encountered, just end without setting sy
}