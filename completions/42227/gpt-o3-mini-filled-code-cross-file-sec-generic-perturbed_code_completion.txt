{
    char quote = it8_parser->ch;
    NextCh(it8_parser);

    /* Clear the current string buffer */
    if (it8_parser->str != NULL)
        it8_parser->str[0] = '\0';
    else {
        SynError(it8_parser, "Internal error: string buffer not initialized");
        return;
    }

    size_t pos = 0;
    /* Assuming that the string buffer has a fixed size; adjust MAX_STR_LEN as needed */
    const size_t MAX_STR_LEN = sizeof(it8_parser->str) - 1;

    while (it8_parser->ch != quote) {

        /* If a newline, carriage return, or end-of-input is reached before the closing quote, error out */
        if (it8_parser->ch == '\n' || it8_parser->ch == '\r' || it8_parser->ch == '\0') {
            SynError(it8_parser, "Missing closing quote in string literal");
            return;
        }

        if (pos < MAX_STR_LEN) {
            it8_parser->str[pos++] = it8_parser->ch;
        }
        else {
            SynError(it8_parser, "String literal too long");
            return;
        }

        NextCh(it8_parser);
    }

    it8_parser->str[pos] = '\0';
    NextCh(it8_parser);
    it8_parser->sy = SSTRING;
}