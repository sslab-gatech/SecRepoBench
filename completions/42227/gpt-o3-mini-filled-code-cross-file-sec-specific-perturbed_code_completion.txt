{
    char quote = it8_parser->ch;
    size_t i = 0;
    size_t maxlen = sizeof(it8_parser->str);

    /* clear the current string buffer */
    it8_parser->str[0] = '\0';

    /* move past the opening quote */
    NextCh(it8_parser);

    while (it8_parser->ch != quote) {

        /* if newline, carriage return or end-of-input encountered, break */
        if (it8_parser->ch == '\n' || it8_parser->ch == '\r' || it8_parser->ch == '\0')
            break;

        /* ensure there is room for one more character and a null terminator */
        if (i < maxlen - 1) {
            it8_parser->str[i++] = it8_parser->ch;
        }
        else {
            SynError(it8_parser, "String buffer overflow");
            return;
        }

        NextCh(it8_parser);
    }

    /* null-terminate the string */
    it8_parser->str[i] = '\0';

    /* if closing quote was found, consume it */
    if (it8_parser->ch == quote)
        NextCh(it8_parser);

    it8_parser->sy = SSTRING;
}