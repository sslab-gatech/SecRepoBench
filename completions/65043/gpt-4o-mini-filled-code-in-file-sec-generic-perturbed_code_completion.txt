xmlParserInputBufferPtr new_buf = xmlParserInputBufferCreateSize(0, XML_CHAR_ENCODING_NONE);
        if (new_buf == NULL) {
            xmlErrMemory(ctxt, "failed to allocate new input buffer\n");
            return (-1);
        }
        inputStream->buf = new_buf;
        xmlBufResetInput(new_buf->buffer, inputStream);
        inputStream->cur = inputStream->base;
        inputStream->end = inputStream->base + inputStream->length;