{
    size_t used = inputStream->cur - inputStream->base;
    if (used > 0) {
        xmlBufShrink(in->buffer, used);
        inputStream->consumed += used;
    }
    in->raw = in->buffer;
    in->buffer = xmlBufCreate();
    if (in->buffer == NULL) {
        xmlErrMemory(ctxt, NULL);
        return(-1);
    }
}