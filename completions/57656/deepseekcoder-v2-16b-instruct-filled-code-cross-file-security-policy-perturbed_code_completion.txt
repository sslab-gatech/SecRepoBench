#include <cstdio>
#include <string>
#include <cstring>

#ifdef _WIN32
#include <windows.h>
#else
#include <unistd.h>
#endif

class DefaultIOSystem {
public:
    bool Exists(const char *filePath) const;
    void Close(IOStream *pFile);
};

class IOStream {
public:
    virtual ~IOStream() {}
};

class DefaultIOStream : public IOStream {
public:
    FILE *mFile = nullptr;
    void Flush();
};

#ifdef _WIN32
std::wstring Utf8ToWide(const char *str) {
    // Implementation of Utf8ToWide function
}
#endif

bool DefaultIOSystem::Exists(const char *filePath) const {
#ifdef _WIN32
    struct __stat64 filestat;
    if (_wstat64(Utf8ToWide(filePath).c_str(), &filestat) != 0) {
        return false;
    }
#else
    if (access(filePath, F_OK) != 0) {
        return false;
    }
#endif
    return true;
}

void DefaultIOSystem::Close(IOStream *pFile) {
    delete pFile;
}