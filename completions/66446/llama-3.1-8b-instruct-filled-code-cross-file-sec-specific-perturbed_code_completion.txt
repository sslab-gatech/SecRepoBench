// <MASK>
if (streaming) {
    if (attr->parent == NULL) {
        // If the attribute is temporary, set the ID's name based on the document's dictionary
        ret->name = xmlStrdup(doc->dict->name);
    } else {
        // If the attribute is not temporary, duplicate the attribute's name
        ret->name = xmlStrdup(attr->name);
    }
} else {
    // Associate the attribute with the ID
    attr->id = ret;
}
// Record the line number from the attribute's parent element
ret->line = attr->parent->line;
// Add the new ID to the document's ID table
if (xmlHashAddEntry(table, identifier, ret) == NULL) {
    xmlFreeID(ret);
    return(-1);
}
// Set the attribute type to ID
attr->atype = XML_ATTRIBUTE_ID;
return(0);