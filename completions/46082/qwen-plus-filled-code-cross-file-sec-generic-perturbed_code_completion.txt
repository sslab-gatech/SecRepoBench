else if (object.type == MSGPACK_OBJECT_STR) {
        result->type = FLB_RA_STRING;
        // Create a dynamic copy of the string to avoid dangling pointers
        flb_sds_t str_copy = flb_sds_create_len(object.via.str.ptr, object.via.str.size);
        if (!str_copy) {
            return -1; // Return error if memory allocation fails
        }
        result->val.string = str_copy;
        return 0;
    }
    else if (object.type == MSGPACK_OBJECT_MAP) {
        result->type = FLB_RA_BOOL;
        result->val.boolean = true; // Indicate presence of the key
        return 0;
    }
    else if (object.type == MSGPACK_OBJECT_NIL) {
        result->type = FLB_RA_NULL;
        return 0;
    }