EATAB;
if (m->factor_op == FILE_FACTOR_OP_NONE) {
    // Determine the operation type based on the input line
    if (strncmp(l, "add", 3) == 0) {
        m->factor_op = FILE_FACTOR_OP_ADD;
        l += 3;
    } else if (strncmp(l, "sub", 3) == 0) {
        m->factor_op = FILE_FACTOR_OP_SUB;
        l += 3;
    } else if (strncmp(l, "mul", 3) == 0) {
        m->factor_op = FILE_FACTOR_OP_MUL;
        l += 3;
    } else if (strncmp(l, "div", 3) == 0) {
        m->factor_op = FILE_FACTOR_OP_DIV;
        l += 3;
    } else {
        file_magwarn(ms, "Invalid factor operation `%s'", l);
        goto out;
    }
    // Skip whitespace after the operation
    while (isspace(CAST(unsigned char, *l))) l++;
}