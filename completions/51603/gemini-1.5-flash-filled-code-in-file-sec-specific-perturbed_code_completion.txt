struct magic *m = &myself->mp[myself->cont_count == 0 ? 0 : myself->cont_count - 1];
	const char *l = line;
	char *el;
	int op;

	if (myself->cont_count == 0) {
		file_magerror(ms, "No current entry for strength");
		return -1;
	}

	if (m->type == FILE_NAME) {
		file_magwarn(ms, "strength settings not supported for "
		    "name entries");
		goto out;
	}

	EATAB;
	op = *l;
	if (op != '+' && op != '-' && op != '*' && op != '/') {
		file_magwarn(ms, "Bad factor op `%c'", op);
		goto out;
	}
	m->factor_op = CAST(uint8_t, op == '+' ? FILE_FACTOR_OP_PLUS :
	    op == '-' ? FILE_FACTOR_OP_MINUS :
	    op == '*' ? FILE_FACTOR_OP_TIMES : FILE_FACTOR_OP_DIV);
	l++;