if (m->factor_op == FILE_FACTOR_OP_NONE) {
    // Read the operation type
    if (*l == '+' || *l == '-' || *l == '*' || *l == '/') {
        m->factor_op = *l++;
    } else {
        file_magwarn(ms, "Invalid factor operation `%c'", *l);
        goto out;
    }
    // Skip whitespace after the operation
    while (isspace(CAST(unsigned char, *l))) l++;
}