struct magic *m = myself->mp;
if (m->factor_op != FILE_FACTOR_OP_NONE) {
	file_magwarn(ms, "Strength already specified for this entry");
	goto out;
}
if (m->type == FILE_NAME) {
	file_magwarn(ms, "Strength settings are not supported for file type");
	goto out;
}

/* Skip any leading whitespace */
while (*l && isspace((unsigned char)*l))
	l++;

/* Parse the strength operator: '*' for multiplication or '/' for division */
if (*l == '*' || *l == '/') {
	m->factor_op = *l++;
} else {
	file_magwarn(ms, "Missing or invalid strength operator in `%s'", line);
	goto out;
}

/* Skip any whitespace between the operator and the numerical factor */
while (*l && isspace((unsigned char)*l))
	l++;