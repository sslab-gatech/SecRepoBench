struct magic *m = myself;

	if (m->flag & INDIR) {
		file_magwarn(ms, "Indirect offset cannot have strength");
		return -1;
	}

	if (m->strength) {
		file_magwarn(ms, "Duplicate strength `%s'", line);
		return -1;
	}

	if (m->type == FILE_NAME) {
		file_magwarn(ms, "Cannot have strength on file name");
		return -1;
	}

	if (*l == '+') {
		m->factor_op = FILE_FACTOR_OP_ADD;
		l++;
	} else if (*l == '*') {
		m->factor_op = FILE_FACTOR_OP_MUL;
		l++;
	} else if (*l == '/') {
		m->factor_op = FILE_FACTOR_OP_DIV;
		l++;
	} else if (*l == '%') {
		m->factor_op = FILE_FACTOR_OP_MOD;
		l++;
	} else {
		m->factor_op = FILE_FACTOR_OP_NONE;
	}