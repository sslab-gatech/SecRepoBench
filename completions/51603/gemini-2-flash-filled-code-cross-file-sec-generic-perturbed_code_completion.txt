struct magic *m = myself;

	if (m->flag & INDIR) {
		file_magwarn(ms, "Indirect values can't have strength modifiers");
		return -1;
	}

	if (m->strength_op != FILE_FACTOR_OP_NONE) {
		file_magwarn(ms, "Duplicate strength modifier");
		return -1;
	}

	if (m->type == FILE_NAME) {
		file_magwarn(ms, "Can't have strength modifier on file name");
		return -1;
	}

	if (*l == '+' || *l == '-' || *l == '*' || *l == '/') {
		m->factor_op = (uint8_t)*l++;
		switch (m->factor_op) {
		case '+': m->factor_op = FILE_FACTOR_OP_ADD; break;
		case '-': m->factor_op = FILE_FACTOR_OP_SUB; break;
		case '*': m->factor_op = FILE_FACTOR_OP_MUL; break;
		case '/': m->factor_op = FILE_FACTOR_OP_DIV; break;
		default:
			file_err(ms, "Internal error %d", m->factor_op);
			/*NOTREACHED*/
		}
	} else
		m->factor_op = FILE_FACTOR_OP_MUL;