if (m->factor_op == FILE_FACTOR_OP_NONE) {
    // Default operation if none is set
    m->factor_op = FILE_FACTOR_OP_MUL;
}

// Check for valid operation type
if (l[0] == '*') {
    m->factor_op = FILE_FACTOR_OP_MUL;
    l++;
} else if (l[0] == '/') {
    m->factor_op = FILE_FACTOR_OP_DIV;
    l++;
} else {
    file_magwarn(ms, "Invalid factor operation `%c'", *l);
    goto out;
}

// Skip whitespace after operation
while (isspace(CAST(unsigned char, *l))) {
    l++;
}