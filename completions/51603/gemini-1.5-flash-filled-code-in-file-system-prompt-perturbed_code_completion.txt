struct magic *m = &myself->mp[myself->cont_count == 0 ? 0 : myself->cont_count - 1];

	if (myself->cont_count == 0) {
		file_magerror(ms, "No current entry for strength");
		return -1;
	}

	if (m->type == FILE_NAME) {
		file_magwarn(ms, "strength settings not supported for "
		    "FILE_NAME entries");
		goto out;
	}

	EATAB;
	if (*l == '+') {
		m->factor_op = FILE_FACTOR_OP_PLUS;
		++l;
	} else if (*l == '-') {
		m->factor_op = FILE_FACTOR_OP_MINUS;
		++l;
	} else if (*l == '*') {
		m->factor_op = FILE_FACTOR_OP_TIMES;
		++l;
	} else if (*l == '/') {
		m->factor_op = FILE_FACTOR_OP_DIV;
		++l;
	}