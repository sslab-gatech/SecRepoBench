struct magic *m = &myself->mp[myself->cont_count == 0 ? 0 : myself->cont_count - 1];

	if (m->type == FILE_NAME) {
		file_magwarn(ms,
		    "Strength setting is not supported for 'name' entries");
		return -1;
	}
	/* so we can write */
	if (myself->cont_count == 0) {
		file_magwarn(ms, "No current entry for strength type");
		return -1;
	}

	EATAB;
	switch (*l) {
	case FILE_FACTOR_OP_NONE:
	case FILE_FACTOR_OP_PLUS:
	case FILE_FACTOR_OP_MINUS:
	case FILE_FACTOR_OP_TIMES:
	case FILE_FACTOR_OP_DIV:
		m->factor_op = *l++;
		break;
	default:
		file_magwarn(ms, "Unknown factor op `%c'", *l);
		return -1;
	}