struct magic *m = &myself->mp[0];

if (m->factor_op != FILE_FACTOR_OP_NONE) {
	file_magwarn(ms, "Duplicate strength type");
	goto out;
}
if (m->type == FILE_NAME) {
	file_magwarn(ms, "Strength setting is not supported for NAME entries");
	goto out;
}
switch (*l++) {
case '*':
	m->factor_op = FILE_FACTOR_OP_MULT;
	break;
case '/':
	m->factor_op = FILE_FACTOR_OP_DIV;
	break;
default:
	file_magwarn(ms, "Unknown factor op `%c'", l[-1]);
	goto out;
}