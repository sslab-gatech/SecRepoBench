coefficients = (double *) AcquireQuantumMemory(number_coordinates, sizeof(*coefficients));
if (coefficients == (double *) NULL)
{
  (void) ThrowMagickException(bezierinfo->exception, GetMagickModule(),
    ResourceLimitError, "MemoryAllocationFailed", "`%s'", "");
  return MagickFalse;
}

points = (PointInfo *) AcquireQuantumMemory(quantum + 1, sizeof(*points));
if (points == (PointInfo *) NULL)
{
  coefficients = (double *) RelinquishMagickMemory(coefficients);
  (void) ThrowMagickException(bezierinfo->exception, GetMagickModule(),
    ResourceLimitError, "MemoryAllocationFailed", "`%s'", "");
  return MagickFalse;
}

control_points = quantum + 1;
if (CheckPrimitiveExtent(bezierinfo, control_points) == MagickFalse)
{
  points = (PointInfo *) RelinquishMagickMemory(points);
  coefficients = (double *) RelinquishMagickMemory(coefficients);
  return MagickFalse;
}