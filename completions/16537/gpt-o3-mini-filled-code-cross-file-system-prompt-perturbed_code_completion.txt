control_points = quantum + 1;
coefficients = (double *) AcquireMagickMemory(number_coordinates * sizeof(*coefficients));
if (coefficients == (double *) NULL)
{
  (void) ThrowMagickException(bezierinfo->exception,GetMagickModule(),
    ResourceLimitError,"MemoryAllocationFailed","`%s'","");
  return(MagickFalse);
}
points = (PointInfo *) AcquireMagickMemory(control_points * sizeof(*points));
if (points == (PointInfo *) NULL)
{
  coefficients = (double *) RelinquishMagickMemory(coefficients);
  (void) ThrowMagickException(bezierinfo->exception,GetMagickModule(),
    ResourceLimitError,"MemoryAllocationFailed","`%s'","");
  return(MagickFalse);
}
if (CheckPrimitiveExtent(bezierinfo, control_points) == MagickFalse)
{
  points = (PointInfo *) RelinquishMagickMemory(points);
  coefficients = (double *) RelinquishMagickMemory(coefficients);
  return(MagickFalse);
}