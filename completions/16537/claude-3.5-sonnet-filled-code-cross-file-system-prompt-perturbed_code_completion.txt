coefficients=(double *) AcquireQuantumMemory(number_coordinates,
  sizeof(*coefficients));
points=(PointInfo *) AcquireQuantumMemory((size_t) quantum,sizeof(*points));
if ((coefficients == (double *) NULL) || (points == (PointInfo *) NULL))
  {
    if (coefficients != (double *) NULL)
      coefficients=(double *) RelinquishMagickMemory(coefficients);
    if (points != (PointInfo *) NULL)
      points=(PointInfo *) RelinquishMagickMemory(points);
    (void) ThrowMagickException(bezierinfo->exception,GetMagickModule(),
      ResourceLimitError,"MemoryAllocationFailed","`%s'","");
    return(MagickFalse);
  }
control_points=(size_t) quantum;
if (control_points > (size_t) (bezierinfo->extent-bezierinfo->offset))
  {
    if (CheckPrimitiveExtent(bezierinfo,control_points) == MagickFalse)
      {
        coefficients=(double *) RelinquishMagickMemory(coefficients);
        points=(PointInfo *) RelinquishMagickMemory(points);
        return(MagickFalse);
      }
    primitive_info=(*bezierinfo->primitive_info)+bezierinfo->offset;
  }