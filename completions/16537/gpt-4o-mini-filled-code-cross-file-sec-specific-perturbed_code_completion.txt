control_points = quantum + 1; // Calculate control points based on quantum
  coefficients = (double *) AcquireMagickMemory(number_coordinates * sizeof(double));
  points = (PointInfo *) AcquireMagickMemory(control_points * sizeof(PointInfo));
  
  if (coefficients == (double *) NULL || points == (PointInfo *) NULL)
  {
    coefficients = (double *) RelinquishMagickMemory(coefficients);
    points = (PointInfo *) RelinquishMagickMemory(points);
    (void) ThrowMagickException(bezierinfo->exception, GetMagickModule(),
      ResourceLimitError, "MemoryAllocationFailed", "`%s'", "");
    return(MagickFalse);
  }