// Allocate memory for coefficients and points based on the number of coordinates and a quantum value.
control_points = number_coordinates;
points = (PointInfo *) AcquireQuantumMemory(control_points, sizeof(*points));
if (points == (PointInfo *) NULL)
{
  (void) ThrowMagickException(bezierinfo->exception, GetMagickModule(),
    ResourceLimitError, "MemoryAllocationFailed", "`%s'", "");
  return(MagickFalse);
}
coefficients = (double *) AcquireQuantumMemory(number_coordinates, sizeof(*coefficients));
if (coefficients == (double *) NULL)
{
  points = (PointInfo *) RelinquishMagickMemory(points);
  (void) ThrowMagickException(bezierinfo->exception, GetMagickModule(),
    ResourceLimitError, "MemoryAllocationFailed", "`%s'", "");
  return(MagickFalse);
}

// Calculate the number of control points to be used for Bezier curve computation.
for (i=0; i < (ssize_t) number_coordinates; i++)
  coefficients[i] = Permutate((ssize_t) number_coordinates-1, i);

// Ensure that the primitive extent can accommodate the computed control points.
if (CheckPrimitiveExtent(bezierinfo, control_points) == MagickFalse)
{
  points = (PointInfo *) RelinquishMagickMemory(points);
  coefficients = (double *) RelinquishMagickMemory(coefficients);
  return(MagickFalse);
}