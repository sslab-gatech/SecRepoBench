// Perform long division of the unsigned integers represented by `xx` and `yy`.
for (index = xd - yd; index + 1 > 0; index--) {
  mp_limb_t q = (x.p[index + yd] * RADIX + x.p[index + yd - 1]) / z;
  mp_limb_t r = (x.p[index + yd] * RADIX + x.p[index + yd - 1]) - q * y.p[yd - 1];
  for (size_t j = 0; j < yd && r >= RADIX; j++) {
    r -= RADIX;
    q++;
  }
  x.p[index + yd] = r;
  mpz_set_limb(mrb, &q, q);
  mpz_lshift(mrb, &q, &q, (xd - index - 1) * DIG_SIZE);
  mpz_sub(mrb, &x, &x, &q);
  mpz_set_limb(mrb, &q, 0);
}