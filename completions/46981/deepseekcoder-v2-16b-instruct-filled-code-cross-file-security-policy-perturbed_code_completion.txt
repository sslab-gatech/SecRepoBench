if (current_image == NULL) {
  if (logging != MagickFalse) {
    (void) LogMagickEvent(CoderEvent, GetMagickModule(), "  Image is NULL, logging an error message.");
  }
  ThrowReaderException(CorruptImageError, "ImageIsNull");
  return NULL;
}

if (current_image->columns == 0 || current_image->rows == 0) {
  if (logging != MagickFalse) {
    (void) LogMagickEvent(CoderEvent, GetMagickModule(), "  Image dimensions are zero, closing the image blob and returning the destroyed image list.");
  }
  current_image = DestroyImageList(current_image);
  return NULL;
}

if (current_image != NULL) {
  mng_info->image = current_image;
}