1)
                    {
                      if (magn_methy == 2)
                        m=1;
                      else if (magn_methy == 3)
                        m=2;
                      else if (magn_methy == 4)
                        m=3;
                      else
                        m=4;
                    }

                  for (m=mng_info->magn_mt; m > 0; m--)
                  {
                    if (yy >= (ssize_t) large_image->rows)
                      break;
                    q=GetAuthenticPixels(large_image,0,yy,large_image->columns,1,exception);
                    if (q == (Quantum *) NULL)
                      break;
                    for (x=0; x < (ssize_t) current_image->columns; x++)
                    {
                      if (magn_methx == 1)
                        {
                          for (m=mng_info->magn_ml; m > 0; m--)
                          {
                            if (xx >= (ssize_t) large_image->columns)
                              break;
                            *q++=next[x];
                            xx++;
                          }
                        }
                      else
                        {
                          for (m=mng_info->magn_ml-1; m >= 0; m--)
                          {
                            if (xx >= (ssize_t) large_image->columns)
                              break;
                            *q++=prev[x];
                            xx++;
                          }
                          for (m=mng_info->magn_mx-1; m >= 0; m--)
                          {
                            if (xx >= (ssize_t) large_image->columns)
                              break;
                            *q++=next[x];
                            xx++;
                          }
                        }
                    }
                    if (SyncAuthenticPixels(large_image,exception) == MagickFalse)
                      break;
                    yy++;
                  }
                  if (y < (ssize_t) current_image->rows-1)
                  {
                    (void) memcpy(prev,next,length);
                    n=GetAuthenticPixels(current_image,0,y+1,current_image->columns,1,exception);
                    (void) memcpy(next,n,length);
                  }
                }
                if (prev != (Quantum *) NULL)
                  prev=(Quantum *) RelinquishMagickMemory(prev);
                if (next != (Quantum *) NULL)
                  next=(Quantum *) RelinquishMagickMemory(next);
                current_image=DestroyImageList(current_image);
                current_image=large_image;
              }

            crop_box=mng_info->frame;
            crop_box.left=0;
            crop_box.right=current_image->columns;
            crop_box.top=0;
            crop_box.bottom=current_image->rows;
            current_image=CropImage(current_image,crop_box.right-crop_box.left,
              crop_box.bottom-crop_box.top,crop_box.left,crop_box.top,exception);

            if (current_image == (Image *) NULL)
              return((Image *) NULL);

            mng_info->image=current_image;
          }
      }

    if (current_image == (Image *) NULL)
      return((Image *) NULL);

    if (mng_info->mng_type == 1)
      {
        if (mng_info->mng_width > 65535L)
          mng_info->mng_width=65535L;

        if (mng_info->mng_height > 65535L)
          mng_info->mng_height=65535L;

        current_image->page.width=mng_info->mng_width;
        current_image->page.height=mng_info->mng_height;
      }

    if (mng_info->mng_type == 2)
      {
        if (mng_info->mng_width > 65535L)
          mng_info->mng_width=65535L;

        if (mng_info->mng_height > 65535L)
          mng_info->mng_height=65535L;

        current_image->page.width=mng_info->mng_width;
        current_image->page.height=mng_info->mng_height;
      }

    if (mng_info->mng_type == 3)
      {
        if (mng_info->mng_width > 65535L)
          mng_info->mng_width=65535L;

        if (mng_info->mng_height > 65535L)
          mng_info->mng_height=65535L;

        current_image->page.width=mng_info->mng_width;
        current_image->page.height=mng_info->mng_height;
      }

    if (mng_info->mng_type == 0)
      {
        if (mng_info->mng_width > 65535L)
          mng_info->mng_width=65535L;

        if (mng_info->mng_height > 65535L)
          mng_info->mng_height=65535L;

        current_image->page.width=mng_info->mng_width;
        current_image->page.height=mng_info->mng_height;
      }

    if (mng_info->mng_type == 1)
      {
        if (mng_info->mng_width > 65535L)
          mng_info->mng_width=65535L;

        if (mng_info->mng_height > 65535L)
          mng_info->mng_height=65535L;

        current_image->page.width=mng_info->mng_width;
        current_image->page.height=mng_info->mng_height;
      }

    if (mng_info->mng_type == 2)
      {
        if (mng_info->mng_width > 65535L)
          mng_info->mng_width=65535L;

        if (mng_info->mng_height > 65535L)
          mng_info->mng_height=65535L;

        current_image->page.width=mng_info->mng_width;
        current_image->page.height=mng_info->mng_height;
      }

    if (mng_info->mng_type == 3)
      {
        if (mng_info->mng_width > 65535L)
          mng_info->mng_width=65535L;

        if (mng_info->mng_height > 65535L)
          mng_info->mng_height=65535L;

        current_image->page.width=mng_info->mng_width;
        current_image->page.height=mng_info->mng_height;
      }

    if (mng_info->mng_type == 0)
      {
        if (mng_info->mng_width > 65535L)
          mng_info->mng_width=65535L;

        if (mng_info->mng_height > 65535L)
          mng_info->mng_height=65535L;

        current_image->page.width=mng_info->mng_width;
        current_image->page.height=mng_info->mng_height;
      }

    if (mng_info->mng_type == 1)
      {
        if (mng_info->mng_width > 65535L)
          mng_info->mng_width=65535L;

        if (mng_info->mng_height > 65535L)
          mng_info->mng_height=65535L;

        current_image->page.width=mng_info->mng_width;
        current_image->page.height=mng_info->mng_height;
      }

    if (mng_info->mng_type == 2)
      {
        if (mng_info->mng_width > 65535L)
          mng_info->mng_width=65535L;

        if (mng_info->mng_height > 65535L)
          mng_info->mng_height=65535L;

        current_image->page.width=mng_info->mng_width;
        current_image->page.height=mng_info->mng_height;
      }

    if (mng_info->mng_type == 3)
      {
        if (mng_info->mng_width > 65535L)
          mng_info->mng_width=65535L;

        if (mng_info->mng_height > 65535L)
          mng_info->mng_height=65535L;

        current_image->page.width=mng_info->mng_width;
        current_image->page.height=mng_info->mng_height;
      }

    if (mng_info->mng_type == 0)
      {
        if (mng_info->mng_width > 65535L)
          mng_info->mng_width=65535L;

        if (mng_info->mng_height > 65535L)
          mng_info->mng_height=65535L;

        current_image->page.width=mng_info->mng_width;
        current_image->page.height=mng_info->mng_height;
      }

    if (mng_info->mng_type == 1)
      {
        if (mng_info->mng_width > 65535L)
          mng_info->mng_width=65535L;

        if (mng_info->mng_height > 65535L)
          mng_info->mng_height=65535L;

        current_image->page.width=mng_info->mng_width;
        current_image->page.height=mng_info->mng_height;
      }

    if (mng_info->mng_type == 2)
      {
        if (mng_info->mng_width > 65535L)
          mng_info->mng_width=65535L;

        if (mng_info->mng_height > 65535L)
          mng_info->mng_height=65535L;

        current_image->page.width=mng_info->mng_width;
        current_image->page.height=mng_info->mng_height;
      }

    if (mng_info->mng_type == 3)
      {
        if (mng_info->mng_width > 65535L)
          mng_info->mng_width=65535L;

        if (mng_info->mng_height > 65535L)
          mng_info->mng_height=65535L;

        current_image->page.width=mng_info->mng_width;
        current_image->page.height=mng_info->mng_height;
      }

    if (mng_info->mng_type == 0)
      {
        if (mng_info->mng_width > 65535L)
          mng_info->mng_width=65535L;

        if (m