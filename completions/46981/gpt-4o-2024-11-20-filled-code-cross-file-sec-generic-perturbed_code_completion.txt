if (image == (Image *) NULL)
{
  if (logging != MagickFalse)
    (void) LogMagickEvent(CoderEvent, GetMagickModule(),
      "  ReadOnePNGImage/ReadOneJNGImage returned NULL.");
  return (DestroyImageList(image));
}

if ((image->columns == 0) || (image->rows == 0))
{
  if (logging != MagickFalse)
    (void) LogMagickEvent(CoderEvent, GetMagickModule(),
      "  Image dimensions are zero, closing blob and returning NULL.");
  (void) CloseBlob(image);
  return (DestroyImageList(image));
}

mng_data->image = image;