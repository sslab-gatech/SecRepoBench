if (nfields < 1 || data_variable->dims == NULL) {
        return;
    }

    hsize_t nbytes = 0;
    for (hsize_t i = 0; i < nfields; i++) {
        nbytes += data_variable->dims[i] * sizeof(matvar_t); // Assuming matvar_t is the type of the fields
    }

    fields = (matvar_t **)malloc(nbytes);
    if (fields == NULL) {
        Mat_Critical("Error allocating memory for fields array");
        return;
    }

    data_variable->data = fields; // Assign the allocated memory to data in the matvar structure