if (nfields < 1 || nelems < 1) {
        return;
    }

    size_t nbytes = 0;
    for (hsize_t i = 0; i < nfields; i++) {
        nbytes += sizeof(matvar_t) * nelems; // Assuming each field is of type matvar_t
    }

    fields = (matvar_t **)malloc(nbytes);
    if (fields == NULL) {
        Mat_Critical("Error allocating memory for fields array");
        return;
    }
    data_variable->data = fields;