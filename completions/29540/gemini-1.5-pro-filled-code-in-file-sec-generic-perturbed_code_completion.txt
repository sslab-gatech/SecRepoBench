if ( nelems < 1 || nfields < 1 ) {
        return;
    }

    err = Mul(&matvar->nbytes, nelems,
              matvar->internal->num_fields * sizeof(matvar_t*));
    if ( err ) {
        Mat_Critical("Integer multiplication overflow");
        return;
    }

    matvar->data = malloc(matvar->nbytes);
    if ( NULL == matvar->data ) {
        Mat_Critical("Couldn't allocate memory for the data");
        return;
    }
    matvar->data_size = sizeof(matvar_t*);
    fields = (matvar_t**)matvar->data;