static int
Mat_MulDims(matvar_t *matvar, size_t *nelems)
{
    int err = MATIO_E_NO_ERROR;
    size_t tmp = 1;
    int k;

    for ( k = 0; k < matvar->rank; k++ ) {
        err |= Mul(&tmp, tmp, matvar->dims[k]);
    }
    if ( err ) {
        Mat_Critical("Integer multiplication overflow");
        return err;
    }
    *nelems = (hsize_t)tmp;
    return err;
}