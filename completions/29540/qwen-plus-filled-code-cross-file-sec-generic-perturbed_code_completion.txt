if ( nelems < 1 || nfields < 1 ) {
    return;
}

size_t nbytes = sizeof(matvar_t *) * nfields * nelems;
data_variable->nbytes += nbytes;

/* Allocate memory for fields */
fields = (matvar_t**)malloc(nbytes);
if ( NULL == fields ) {
    Mat_Critical("Error allocating memory for fields");
    return;
}

/* Assign the allocated memory to data in the matvar structure */
data_variable->data = fields;