if (nelems < 1) {
    return;
}
err = Mat_MulDims(matvar, &nelems);
if (err) {
    Mat_Critical("Integer multiplication overflow");
    return;
}
err = Mul(&matvar->nbytes, nelems, matvar->data_size);
if (err) {
    Mat_Critical("Integer multiplication overflow");
    return;
}
if (matvar->nbytes < 1) {
    return;
}
matvar->data = malloc(matvar->nbytes);
if (NULL == matvar->data) {
    Mat_Critical("Error allocating memory for matvar->data");
    return;
}