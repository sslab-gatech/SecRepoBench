if ( nelems < 1 || nfields < 1 )
        return;

    err = Mul(&matvar->nbytes, nelems, nfields * sizeof(matvar_t *));
    if ( err ) {
        Mat_Critical("Integer multiplication overflow");
        return;
    }

    fields = (matvar_t **)malloc(matvar->nbytes);
    if ( NULL == fields ) {
        Mat_Critical("Couldn't allocate memory for the data");
        return;
    }
    matvar->data = fields;