if (nelems < 1 || nfields < 1) {
        return;
    }

    if (Mul(&data_variable->nbytes, nelems, nfields * sizeof(matvar_t *))) {
        Mat_Critical("Integer multiplication overflow");
        return;
    }

    fields = (matvar_t **)malloc(data_variable->nbytes);
    if (fields == NULL) {
        Mat_Critical("Couldn't allocate memory for the data");
        return;
    }

    data_variable->data = fields;