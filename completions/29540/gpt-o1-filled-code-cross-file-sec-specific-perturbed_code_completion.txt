if ( nfields < 1 || nelems < 1 ) {
        return;
    }

    data_variable->nbytes = (nfields * (size_t)nelems) * sizeof(*fields);

    fields = (matvar_t **)calloc((size_t)(nfields*nelems), sizeof(*fields));
    if ( NULL == fields ) {
        Mat_Critical("Error allocating memory for the fields array");
        return;
    }

    data_variable->data = fields;