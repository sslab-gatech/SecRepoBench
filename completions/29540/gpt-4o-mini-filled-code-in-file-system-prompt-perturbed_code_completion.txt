if ( nfields < 1 ) {
                H5Gclose(struct_id);
                return;
            }

            matvar->data_size = sizeof(matvar_t**);
            err |= Mul(&matvar->nbytes, nelems, matvar->data_size);
            if ( err ) {
                Mat_Critical("Integer multiplication overflow");
                H5Gclose(struct_id);
                return;
            }
            matvar->data = malloc(matvar->nbytes);
            if ( NULL == matvar->data ) {
                Mat_Critical("Couldn't allocate memory for the data");
                H5Gclose(struct_id);
                return;
            }
            fields = (matvar_t**)matvar->data;

            for ( k = 0; k < nfields; k++ ) {
                fields[k] = NULL;
            }