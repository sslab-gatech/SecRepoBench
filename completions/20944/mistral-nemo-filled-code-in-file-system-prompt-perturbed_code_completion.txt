// <MASK>
void glyf_accelerator_t::init (hb_face_t *faceptr)
{
  // Initialize internal variables and tables for the font face.
  // Set initial values for short_offset, num_glyphs, loca_table, and glyf_table.
  // Assign the input face to the face member variable.
  // Retrieve the 'head' table from the face and check format values.
  // If format values indicate an unknown format, exit without further processing.
  // Determine the short_offset based on the indexToLocFormat from the 'head' table.
  // Reference the 'loca' and 'glyf' tables from the face using a sanitize context.
  // Calculate num_glyphs using the length of the loca_table, adjusting for offset format.
  // <MASK>

  short_offset = (face->table.head->indexToLocFormat == 0) ? 2 : 4;
  num_glyphs = (short_offset == 2)
    ? (loca_table->get_length () / 2)
    : (loca_table->get_length () / 4);

  loca_table = hb_sanitize_context_t ().reference_table<loca> (faceptr);
  glyf_table = hb_sanitize_context_t ().reference_table<glyf> (faceptr);
  face = faceptr;
}