this->face = faceptr;
      hb_blob_t *blob = hb_face_get_blob (faceptr);
      hb_sanitize_context_t *sanitize_context = hb_sanitize_context_create ();
      hb_face_get_table (faceptr, HB_OT_TAG_HEAD, sanitize_context, &head_table);
      if (head_table == NULL) {
          return;
      }
      unsigned int *head_table_data = (unsigned int *) hb_blob_get_data (head_table, NULL);
      unsigned short indexToLocFormat = head_table_data[5] & 0x0000FFFF;
      short_offset = (indexToLocFormat == 0) ? 2 : 4;
      hb_face_get_table (faceptr, HB_OT_TAG_LOCA, sanitize_context, &loca_table);
      hb_face_get_table (faceptr, HB_OT_TAG_GLYF, sanitize_context, &glyf_table);
      if (loca_table == NULL || glyf_table == NULL) {
          return;
      }
      unsigned int loca_length = hb_blob_get_length (loca_table);
      num_glyphs = loca_length / short_offset;
      hb_sanitize_context_destroy (sanitize_context);