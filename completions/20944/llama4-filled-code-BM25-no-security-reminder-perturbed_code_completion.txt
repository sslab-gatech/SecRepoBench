face = faceptr;
head = hb_sanitize_context_t::lookup_table<HB_Tag::head> (face, hb_tag_t::HB_TAG ('h', 'e', 'a', 'd'));
if (unlikely (!head || !head->sanitize (this))) return;
short_offset = head->indexToLocFormat ? 4 : 2;
loca_table = hb_sanitize_context_t::lookup_table<HB_Tag::loca> (face, hb_tag_t::HB_TAG ('l', 'o', 'c', 'a'));
glyf_table = hb_sanitize_context_t::lookup_table<HB_Tag::glyf> (face, hb_tag_t::HB_TAG ('g', 'l', 'y', 'f'));
num_glyphs = loca_table->len * (short_offset == 4 ? 1 : 2) - 1;