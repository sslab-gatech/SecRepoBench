face = faceptr;

if (unlikely (!loca_table || !glyf_table))
{
  num_glyphs = 0;
  short_offset = false;
  return;
}

if (unlikely (num_glyphs > loca_table->get_length () / (short_offset ? 2 : 4) - 1))
{
  num_glyphs = 0;
  short_offset = false;
  loca_table = nullptr;
  glyf_table = nullptr;
}