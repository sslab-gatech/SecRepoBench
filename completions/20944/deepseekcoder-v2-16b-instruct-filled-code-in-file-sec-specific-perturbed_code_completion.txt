void init (hb_face_t *faceptr)
    {
      face = faceptr;
      hb_sanitize_context_t c (face);
      loca_table = c.reference_table<loca> ();
      glyf_table = c.reference_table<glyf> ();
      short_offset = face->table.head->indexToLocFormat == 0;
      num_glyphs = short_offset ? (loca_table->dataZ.arrayZ_len () / 2) - 1 : (loca_table->dataZ.arrayZ_len () / 4) - 1;
    }