// <MASK>
// Retrieve the 'loca' and 'glyf' tables from the face using a sanitize context.
hb_table_t const *loca_table = hb_face_get_table(faceptr, HB_TAG('l', 'o', 'c', 'a'));
hb_table_t const *glyf_table = hb_face_get_table(faceptr, HB_TAG('g', 'l', 'y', 'f'));

// Check if the 'loca' and 'glyf' tables exist.
if (!loca_table ||!glyf_table)
{
    // If either table is missing, exit without further processing.
    return;
}

// Calculate num_glyphs using the length of the loca_table, adjusting for offset format.
hb_uint32_t num_glyphs = hb_table_get_length(loca_table);

// Determine the short_offset based on the indexToLocFormat from the 'head' table.
hb_uint32_t short_offset = hb_face_get_index_to_loc_format(faceptr) == 0? 0 : 2;

// Set initial values for short_offset, num_glyphs, loca_table, and glyf_table.
faceptr->short_offset = short_offset;
faceptr->num_glyphs = num_glyphs;
faceptr->loca_table = loca_table;
faceptr->glyf_table = glyf_table;

// Assign the input face to the face member variable.
faceptr->face = faceptr;