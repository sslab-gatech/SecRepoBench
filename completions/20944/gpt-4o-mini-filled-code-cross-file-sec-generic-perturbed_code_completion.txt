// Initialize short_offset, num_glyphs, loca_table, and glyf_table
      faceptr->short_offset = 0; // Default value, will be updated later
      faceptr->num_glyphs = 0; // Default value, will be updated later
      faceptr->loca_table = NULL; // Initialize to NULL
      faceptr->glyf_table = NULL; // Initialize to NULL

      // Retrieve the 'head' table and check format values
      hb_table_t *head_table = hb_face_get_table(faceptr, HB_TAG('h', 'e', 'a', 'd'));
      if (!head_table) {
          // Handle error: head table not found
          return;
      }

      // Check the format values
      uint16_t indexToLocFormat = hb_table_get_index_to_loc_format(head_table);
      if (indexToLocFormat > 1) {
          // Handle error: unknown format
          return;
      }

      // Determine short_offset based on indexToLocFormat
      faceptr->short_offset = (indexToLocFormat == 0) ? 2 : 0;

      // Reference the 'loca' and 'glyf' tables
      faceptr->loca_table = hb_face_get_table(faceptr, HB_TAG('l', 'o', 'c', 'a'));
      faceptr->glyf_table = hb_face_get_table(faceptr, HB_TAG('g', 'l', 'y', 'f'));

      // Calculate num_glyphs
      if (faceptr->loca_table) {
          faceptr->num_glyphs = (hb_table_get_length(faceptr->loca_table) / sizeof(uint16_t)) - 1;
      }