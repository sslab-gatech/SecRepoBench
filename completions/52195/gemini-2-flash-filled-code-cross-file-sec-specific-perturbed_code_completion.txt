striple = 0;
            checkedstriple = 0;
            if (checkcompoundtriple && scpd == 0 && !compound_words) {
              if ((i > 1) && (word[i - 1] == word[i]) &&
                  (word[i - 1] == word[i - 2])) {
                striple = 1;
              } else if ((word[i - 1] == word[i + 1]) &&
                         ((i + 1) < word.size())) {
                striple = 1;
              }
              if (striple) {
                st[i] = '\0';
                rv = lookup(st.c_str(), i);
                if (rv) {
                  while ((rv) && !hu_mov_rule &&
                         ((needaffix && TESTAFF(rv->astr, needaffix, rv->alen)) ||
                          !((compoundflag && !compound_words && !onlycpdrule &&
                             TESTAFF(rv->astr, compoundflag, rv->alen)) ||
                            (compoundbegin && !wordnum && !onlycpdrule &&
                             TESTAFF(rv->astr, compoundbegin, rv->alen)) ||
                            (compoundmiddle && wordnum && !compound_words && !onlycpdrule &&
                             TESTAFF(rv->astr, compoundmiddle, rv->alen)) ||
                            (!defcpdtable.empty() && onlycpdrule &&
                             ((!compound_words && !wordnum &&
                               defcpd_check(&compound_words, wnum, rv, rwords, 0)) ||
                              (compound_words &&
                               defcpd_check(&compound_words, wnum, rv, rwords, 0))))) ||
                         (scpd != 0 && checkcpdtable[scpd - 1].cond != FLAG_NULL &&
                          !TESTAFF(rv->astr, checkcpdtable[scpd - 1].cond, rv->alen)))) {
                    rv = rv->next_homonym;
                  }
                  if (rv && rv->astr &&
                      (TESTAFF(rv->astr, forbiddenword, rv->alen) ||
                       TESTAFF(rv->astr, needaffix, rv->alen) ||
                       TESTAFF(rv->astr, ONLYUPCASEFLAG, rv->alen) ||
                       (is_sug && nosuggest &&
                        TESTAFF(rv->astr, nosuggest, rv->alen)))) {
                    rv = NULL;
                  }
                  if (rv) {
                    i++;
                    checkedstriple = 1;
                  }
                }
                st[i] = ch;
              }
            }