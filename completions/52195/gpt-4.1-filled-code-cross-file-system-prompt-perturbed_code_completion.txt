// Handle simplified triple letter checking
            if (checkcompoundtriple && scpd == 0 && !compound_words &&
                (i > 1) && (word[i - 1] == word[i]) &&
                (((i > 2) && (word[i - 1] == word[i - 2])) ||
                 ((word[i - 1] == word[i + 1])))) {
              if (!checkedstriple) {
                striple = 1;
                checkedstriple = 1;
                i--;
                rv = lookup(st.c_str(), i);
                // search homonym with compound flag
                while ((rv) && !hu_mov_rule &&
                       ((needaffix && TESTAFF(rv->astr, needaffix, rv->alen)) ||
                        !((compoundflag && !compound_words && !onlycpdrule &&
                           TESTAFF(rv->astr, compoundflag, rv->alen)) ||
                          (compoundbegin && !wordnum && !onlycpdrule &&
                           TESTAFF(rv->astr, compoundbegin, rv->alen)) ||
                          (compoundmiddle && wordnum && !compound_words && !onlycpdrule &&
                           TESTAFF(rv->astr, compoundmiddle, rv->alen)) ||
                          (!defcpdtable.empty() && onlycpdrule &&
                           ((!compound_words && !wordnum &&
                             defcpd_check(&compound_words, wnum, rv, rwords, 0)) ||
                            (compound_words &&
                             defcpd_check(&compound_words, wnum, rv, rwords, 0))))) ||
                        (scpd != 0 && checkcpdtable[scpd - 1].cond != FLAG_NULL &&
                         !TESTAFF(rv->astr, checkcpdtable[scpd - 1].cond, rv->alen)))) {
                  rv = rv->next_homonym;
                }
                if (rv)
                  affixed = 0;
                continue;
              }
            }