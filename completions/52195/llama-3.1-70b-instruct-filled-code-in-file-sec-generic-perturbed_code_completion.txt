// <MASK>
// Handle simplified triple letter checking.
// If a simplified triple pattern is detected, adjust the index to re-evaluate
// a specific character sequence for compound word formation.
// Perform a lookup for the current substring starting from the adjusted index.
// Iterate over homonyms of the current entry to check for matching compound
// conditions, ensuring the entry has the correct affix flags for compound formation
// as per predefined rules or tables.
if (striple &&!checkedstriple) {
  checkedstriple = 1;
  i -= 2;
  if (i < 0)
    i = 0;
  st[i] = ch;
  rv = lookup(st.c_str(), i);  // perhaps without prefix
  if (rv) {
    presult.push_back(MSEP_FLD);
    presult.append(MORPH_PART);
    presult.append(st, 0, i);
    if (!HENTRY_FIND(rv, MORPH_STEM)) {
      presult.push_back(MSEP_FLD);
      presult.append(MORPH_STEM);
      presult.append(st, 0, i);
    }
    if (HENTRY_DATA(rv)) {
      presult.push_back(MSEP_FLD);
      presult.append(HENTRY_DATA2(rv));
    }
  }
  if (!rv) {
    if (compoundflag &&
       !(rv = prefix_check(st, 0, i, hu_mov_rule? IN_CPD_OTHER : IN_CPD_BEGIN,
                            compoundflag))) {
      if (((rv = suffix_check(st, 0, i, 0, NULL, FLAG_NULL,
                              compoundflag,
                              hu_mov_rule? IN_CPD_OTHER : IN_CPD_BEGIN)) ||
           (compoundmoresuffixes &&
            (rv = suffix_check_twosfx(st, 0, i, 0, NULL, compoundflag)))) &&
         !hu_mov_rule && sfx->getCont() &&
          ((compoundforbidflag &&
            TESTAFF(sfx->getCont(), compoundforbidflag,
                    sfx->getContLen())) ||
           (compoundend &&
            TESTAFF(sfx->getCont(), compoundend, sfx->getContLen())))) {
        rv = NULL;
      }
    }

    if (rv ||
        (((wordnum == 0) && compoundbegin &&
          ((rv = suffix_check(st, 0, i, 0, NULL, FLAG_NULL,
                              compoundbegin,
                              hu_mov_rule? IN_CPD_OTHER : IN_CPD_BEGIN)) ||
           (compoundmoresuffixes &&
            (rv = suffix_check_twosfx(
                 st, 0, i, 0, NULL,
                 compoundbegin))) ||  // twofold suffix+compound
           (rv = prefix_check(st, 0, i,
                              hu_mov_rule? IN_CPD_OTHER : IN_CPD_BEGIN,
                              compoundbegin)))) ||
         ((wordnum > 0) && compoundmiddle &&
          ((rv = suffix_check(st, 0, i, 0, NULL, FLAG_NULL,
                              compoundmiddle,
                              hu_mov_rule? IN_CPD_OTHER : IN_CPD_BEGIN)) ||
           (compoundmoresuffixes &&
            (rv = suffix_check_twosfx(
                 st, 0, i, 0, NULL,
                 compoundmiddle))) ||  // twofold suffix+compound
           (rv = prefix_check(st, 0, i,
                              hu_mov_rule? IN_CPD_OTHER : IN_CPD_BEGIN,
                              compoundmiddle)))))) {
      std::string m;
      if (compoundflag)
        m = affix_check_morph(st, 0, i, compoundflag);
      if (m.empty() && compoundend) {
        m = affix_check_morph(st, 0, i, compoundend);
      }
      presult.push_back(MSEP_FLD);
      presult.append(MORPH_PART);
      presult.append(st, 0, i);
      line_uniq_app(m, MSEP_REC);
      presult.append(m);
    }
  }
}
// </MASK>