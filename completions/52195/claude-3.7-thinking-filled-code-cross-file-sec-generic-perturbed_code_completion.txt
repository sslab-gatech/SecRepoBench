// Check for triple letter pattern and skip processing if found
if (checkcompoundtriple && !checkedstriple && i > 0 && i < word.size() - 1 &&
    word[i - 1] == word[i] &&
    (((i > 1) && (word[i - 1] == word[i - 2])) ||
     (word[i] == word[i + 1]))) {
    striple = 1;
    continue;
}

// Lookup the word part beginning at position i
rv = lookup(st.c_str() + i, len - i);

// Iterate through homonyms to find one with appropriate compound flags
while (rv && !hu_mov_rule &&
       ((needaffix && TESTAFF(rv->astr, needaffix, rv->alen)) ||
        !((compoundflag && TESTAFF(rv->astr, compoundflag, rv->alen)) ||
          (compoundend && TESTAFF(rv->astr, compoundend, rv->alen)) ||
          (!defcpdtable.empty() && onlycpdrule && compound_words &&
           defcpd_check(&compound_words, wnum + 1, rv, NULL, 1))))) {
    rv = rv->next_homonym;
}