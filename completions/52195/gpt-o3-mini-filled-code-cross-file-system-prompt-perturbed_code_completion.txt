if (!checkedstriple && i > 0 && (i + 1) < st.size() && st[i-1] == st[i] && st[i] == st[i+1]) {
              // Detected a simplified triple-letter pattern.
              checkedstriple = 1;
              // Temporarily remove one repeated letter to re‐evaluate the lookup.
              std::string temp = st;
              temp.erase(i, 1);
              struct hentry* temp_rv = lookup(temp.c_str(), i);
              if (temp_rv) {
                // If a valid entry is found with the adjusted string, adopt it.
                rv = temp_rv;
                st = temp;
              } else {
                // Otherwise, mark the triple-letter adjustment for a retry.
                striple = 1;
              }
              // Jump to the next iteration of the loop to re‐check compound conditions.
              continue;
            }