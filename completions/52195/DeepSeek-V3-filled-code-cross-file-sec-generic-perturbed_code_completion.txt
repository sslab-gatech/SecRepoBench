if (striple && !checkedstriple) {
    if (i > 0 && i + 1 < st.size() && st[i-1] == st[i] && st[i] == st[i+1]) {
        checkedstriple = 1;
        continue;
    }
}

rv = lookup(st.c_str() + i, st.size() - i);
while (rv) {
    if ((compoundflag && TESTAFF(rv->astr, compoundflag, rv->alen)) ||
        (compoundend && TESTAFF(rv->astr, compoundend, rv->alen)) ||
        (!defcpdtable.empty() && defcpd_check(&compound_words, wnum + 1, rv, rwords, 1))) {
        break;
    }
    rv = rv->next_homonym;
}