if (striple && !checkedstriple) {
  // Handle simplified triple letter checking
  if (i > 2 && word[i-1] == word[i-2] && word[i-1] == word[i]) {
    i--;
    checkedstriple = 1;
    continue;
  }
}

rv = lookup(st.c_str() + i, st.size() - i);

while (rv) {
  if ((!rv->astr) ||
      ((compoundflag && TESTAFF(rv->astr, compoundflag, rv->alen)) ||
       (compoundend && TESTAFF(rv->astr, compoundend, rv->alen)))) {
    if (((cpdwordmax == -1) || (wordnum + 1 < cpdwordmax)) ||
        ((cpdmaxsyllable != 0) &&
         (numsyllable + get_syllable(std::string(HENTRY_WORD(rv), rv->blen)) <=
          cpdmaxsyllable))) {
      break;
    }
  }
  rv = rv->next_homonym;
}