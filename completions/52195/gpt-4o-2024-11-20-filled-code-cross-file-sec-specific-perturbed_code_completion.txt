// Handle simplified triple letter checking
          if (checkcompoundtriple && scpd == 0 && !compound_words &&
              (word[i - 1] == word[i]) &&
              (((i > 1) && (word[i - 1] == word[i - 2])) ||
               ((word[i - 1] == word[i + 1])))) {
            // Adjust index to re-evaluate the sequence
            checkedstriple = 1;
            striple = 1;
            i--;
            continue;
          }

          // Perform lookup for the current substring
          rv = lookup(st.c_str() + i, st.size() - i);

          // Iterate over homonyms to check compound conditions
          while (rv) {
            if ((compoundflag && TESTAFF(rv->astr, compoundflag, rv->alen)) ||
                (compoundend && TESTAFF(rv->astr, compoundend, rv->alen))) {
              // Ensure the entry has the correct affix flags
              if ((!checkcpdtable.empty() && scpd != 0 &&
                   !cpdpat_check(word.c_str(), i, rv_first, rv, affixed)) ||
                  (checkcpdtable.empty() || scpd == 0 ||
                   TESTAFF(rv->astr, checkcpdtable[scpd - 1].cond2, rv->alen))) {
                return rv_first;
              }
            }
            rv = rv->next_homonym;
          }