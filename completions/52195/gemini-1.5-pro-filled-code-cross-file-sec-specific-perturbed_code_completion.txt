if (checkcompoundtriple && scpd == 0 && !compound_words && i > 1 && i + 1 < st.size() &&
                st[i - 1] == st[i] && (st[i - 1] == st[i - 2] || st[i - 1] == st[i + 1])) {
              if (st[i - 1] == st[i - 2])
                i -= 2;
              else
                i++;
              striple = 1;
              checkedstriple = 1;
              st[i] = '\0';  // safe, because i < st.size()

              rv = lookup(st.c_str(), i);

              while (rv &&
                     !(((compoundflag && !compound_words && !onlycpdrule &&
                         TESTAFF(rv->astr, compoundflag, rv->alen)) ||
                        (compoundbegin && !wordnum && !onlycpdrule &&
                         TESTAFF(rv->astr, compoundbegin, rv->alen)) ||
                        (compoundmiddle && wordnum && !compound_words && !onlycpdrule &&
                         TESTAFF(rv->astr, compoundmiddle, rv->alen))))) {
                rv = rv->next_homonym;
              }
            }

            if (!rv && striple) {
              break;
            }