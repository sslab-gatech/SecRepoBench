if (n < 0 || n > len) {
  mrb_raise(mrbstateptr, E_ARGUMENT_ERROR, "invalid number of elements");
}
if (n == 0) {
  return mrb_ary_new(mrbstateptr);
}
val = mrb_ary_new_capa(mrbstateptr, n);
for (mrb_int i = 0; i < n; i++) {
  mrb_ary_push(mrbstateptr, val, ARY_PTR(a)[i]);
}
L_SHIFT:
a->as.heap.ptr += n;
ARY_SET_LEN(a, len - n);