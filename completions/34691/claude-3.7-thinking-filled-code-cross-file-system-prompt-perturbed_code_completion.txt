if (n <= 0) {
  return mrb_ary_new(mrb);
}
if (n > len) n = len;
val = mrb_ary_new_from_values(mrb, n, ARY_PTR(ary));
if (n == 0) return val;

L_SHIFT:
ARY_SHIFT(ary, n);