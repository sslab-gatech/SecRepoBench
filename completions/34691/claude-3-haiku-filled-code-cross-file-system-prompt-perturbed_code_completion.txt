if (n == 0) {
  val = ary_shift(mrb, ary);
}
else {
  if (len > n) {
    val = mrb_ary_ref(mrb, self, 0);
    ary_shift_n(mrb, ary, n);
  }
  else {
    val = mrb_ary_new(mrb);
    ARY_SET_LEN(ary, 0);
  }
}