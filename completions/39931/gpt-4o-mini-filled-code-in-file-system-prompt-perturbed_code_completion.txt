if (argcount < 0) {
      mrb_raise(mrb, E_ARGUMENT_ERROR, "negative argument count");
    }

    m = mrb_method_search_vm(mrb, &c, mid);
    if (MRB_METHOD_UNDEF_P(m)) {
      mrb_method_missing(mrb, mid, self, mrb_ary_new_from_values(mrb, argcount, argv));
      return mrb_nil_value();
    }

    ci = cipush(mrb, n, 0, c, NULL, mid, argcount);
    if (MRB_METHOD_PROC_P(m)) {
      struct RProc *p = MRB_METHOD_PROC(m);
      mrb_vm_ci_proc_set(ci, p);
      if (!MRB_PROC_CFUNC_P(p)) {
        mrb_stack_extend(mrb, p->body.irep->nregs + argcount);
      }
    }