const char *buf, *end, *last, *c;
			size_t lines, bytecnt;
			int linecnt = m->lineno;

			if (source == NULL) {
				return -1;
			}

			if ((m->str_flags & REGEX_LINE_COUNT) != 0) {
				linecnt = m->str_range;
				bytecnt = linecnt * 80;
			} else {
				bytecnt = m->str_range;
			}