const char *b = m->value.s;
			const char *c;
			size_t linecnt = m->str_range;
			size_t bytecnt = linecnt * 80; /* XXX: Should be configurable */
			const char *buf, *end, *last;
			size_t lines, len;

			if (s == NULL)
				return 0;

			if (m->str_flags & REGEX_LINE_COUNT) {
				linecnt = m->str_range;
				bytecnt = linecnt * 80;
			} else if (m->str_flags & REGEX_BYTE_COUNT)
				bytecnt = m->str_range;
			else
				bytecnt = nbytes - offset;