const char *buf, *end, *last, *c, *s = RCAST(const char *, source);
			size_t bytecnt = m->num_range;
			size_t linecnt = 0;

			if (s == NULL)
				return -1;

			if (m->str_flags & STRING_LINE_COUNT) {
				linecnt = m->num_range;
				bytecnt = (size_t)-1; /* don't count bytes */
			} else {
				bytecnt = m->num_range;
			}