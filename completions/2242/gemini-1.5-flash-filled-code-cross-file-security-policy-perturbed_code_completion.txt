const char *buf, *end, *last, *c;
			size_t bytecnt = m->vallen;
			int lines, linecnt = m->line_count;

			if (source == NULL)
				return 0;

			if (m->str_flags & REGEX_NOSCAN) {
				bytecnt = 0;
			}
			else if (m->str_flags & REGEX_LINECOUNT) {
				bytecnt = linecnt * 80;
			}