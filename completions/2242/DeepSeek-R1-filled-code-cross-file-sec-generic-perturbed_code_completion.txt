const char *buf, *end, *last, *b;
size_t lines;
uint32_t linecnt = 0;
size_t bytecnt = 0;

if (m->str_flags & REGEX_LINE_COUNT) {
    linecnt = m->value.q;
    bytecnt = linecnt * 80; /* 80 chars per line heuristic */
} else {
    bytecnt = m->value.q;
    linecnt = 0;
}