PixelInfo
            pixel;

          size_t
            length;

          unsigned char
            *pixels;

          /*
            Hex - pixel color value.
          */
          if (image == (Image *) NULL)
            {
              (void) ThrowMagickException(exception,GetMagickModule(),
                OptionWarning,"NoImageForProperty","\"%%[%s]\"",
                lookup_pattern);
              continue; /* else no image to retrieve artifact */
            }
          length=strlen(lookup_pattern+4);
          if (length != 6)
            {
              (void) ThrowMagickException(exception,GetMagickModule(),
                OptionWarning,"InvalidHexColor","\"%%[%s]\"",lookup_pattern);
              continue;
            }
          pixels=(unsigned char *) AcquireQuantumMemory(1UL,sizeof(*pixels));
          if (pixels == (unsigned char *) NULL)
            {
              (void) ThrowMagickException(exception,GetMagickModule(),
                ResourceLimitError,"MemoryAllocationFailed",
                "Unable to allocate memory for hex color");
              continue;
            }
          (void) sscanf(lookup_pattern+4,"%6hx",
            (unsigned int *) pixels);
          GetPixelInfo(image,&pixel);
          pixel.red=ScaleQuantumToChar(pixels[0]);
          pixel.green=ScaleQuantumToChar(pixels[1]);
          pixel.blue=ScaleQuantumToChar(pixels[2]);
          if (image->colorspace == CMYKColorspace)
            pixel.black=ScaleQuantumToChar(pixels[3]);
          pixels=(unsigned char *) RelinquishMagickMemory(pixels);
          {
            char
              name[MagickPathExtent];

            (void) QueryColorname(image,&pixel,SVGCompliance,name,exception);
            AppendString2Text(name);
          }
          continue;