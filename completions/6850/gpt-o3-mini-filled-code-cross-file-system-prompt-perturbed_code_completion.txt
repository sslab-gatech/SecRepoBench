{
            double value;
            FxInfo *fx_info;
            MagickStatusType status;
            Quantum red, green, blue;
            if (image == (Image *) NULL)
              {
                (void) ThrowMagickException(exception,GetMagickModule(),
                  OptionWarning,"NoImageForProperty","\"%%[%s]\"",lookup_pattern);
                continue;
              }
            fx_info=AcquireFxInfo(image,lookup_pattern+4,exception);
            status=FxEvaluateChannelExpression(fx_info,RedPixelChannel,0,0,
              &value,exception);
            red=(Quantum) (QuantumRange*value);
            status&=FxEvaluateChannelExpression(fx_info,GreenPixelChannel,0,0,
              &value,exception);
            green=(Quantum) (QuantumRange*value);
            status&=FxEvaluateChannelExpression(fx_info,BluePixelChannel,0,0,
              &value,exception);
            blue=(Quantum) (QuantumRange*value);
            fx_info=DestroyFxInfo(fx_info);
            if (status != MagickFalse)
              {
                char hex[MagickPathExtent];
                (void) FormatLocaleString(hex,MagickPathExtent,"#%02X%02X%02X",
                  red,green,blue);
                AppendString2Text(hex);
              }
            continue;
          }