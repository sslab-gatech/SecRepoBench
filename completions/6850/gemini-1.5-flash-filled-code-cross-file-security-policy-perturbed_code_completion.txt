PixelInfo
            pixel;

          MagickStatusType
            status;

          size_t
            length;

          unsigned char
            *pixels;

          /*
            Hex - pixel color value.
          */
          if (image == (Image *) NULL)
            {
              (void) ThrowMagickException(exception,GetMagickModule(),
                OptionWarning,"NoImageForProperty","\"%%[%s]\"",
                lookup_pattern);
              continue; /* else no image to retrieve artifact */
            }
          length=strlen(lookup_pattern+4);
          if (length > 1024)
            {
              (void) ThrowMagickException(exception,GetMagickModule(),
                OptionError,"TooManyPixels","\"%%[%s]\"",lookup_pattern);
              return((char *) NULL);
            }
          pixels=(unsigned char *) AcquireQuantumMemory(length,
            sizeof(*pixels));
          if (pixels == (unsigned char *) NULL)
            {
              (void) ThrowMagickException(exception,GetMagickModule(),
                ResourceLimitError,"MemoryAllocationFailed",
                "Unable to hex decode pixel");
              return((char *) NULL);
            }
          status=DecodeHex(lookup_pattern+4,length,pixels);
          if (status == MagickFalse)
            {
              pixels=(unsigned char *) RelinquishMagickMemory(pixels);
              (void) ThrowMagickException(exception,GetMagickModule(),
                OptionError,"InvalidHexEncoding","\"%%[%s]\"",lookup_pattern);
              return((char *) NULL);
            }
          GetPixelInfo(image,&pixel);
          if (length >= 1)
            pixel.red=(double) ScaleQuantumToChar(pixels[0]);
          if (length >= 2)
            pixel.green=(double) ScaleQuantumToChar(pixels[1]);
          if (length >= 3)
            pixel.blue=(double) ScaleQuantumToChar(pixels[2]);
          if (length >= 4)
            pixel.black=(double) ScaleQuantumToChar(pixels[3]);
          pixels=(unsigned char *) RelinquishMagickMemory(pixels);
          {
            char
              name[MagickPathExtent];

            (void) QueryColorname(image,&pixel,SVGCompliance,name,exception);
            AppendString2Text(name);
          }
          continue;
        }