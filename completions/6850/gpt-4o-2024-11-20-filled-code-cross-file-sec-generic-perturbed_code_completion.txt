/*
            Hex - retrieve pixel information in hexadecimal format.
          */
          if (image == (Image *) NULL)
            {
              (void) ThrowMagickException(exception,GetMagickModule(),
                OptionWarning,"NoImageForProperty","\"%%[%s]\"",lookup_pattern);
              continue; /* else no image to retrieve pixel data */
            }
          GetPixelInfo(image,&pixel);
          fx_info=AcquireFxInfo(image,lookup_pattern+4,exception);
          if (fx_info == (FxInfo *) NULL)
            {
              (void) ThrowMagickException(exception,GetMagickModule(),
                ResourceLimitError,"MemoryAllocationFailed","\"%%[%s]\"",
                lookup_pattern);
              continue;
            }
          if (FxEvaluateChannelExpression(fx_info,RedPixelChannel,0,0,
              &value,exception) != MagickFalse)
            pixel.red=(double) QuantumRange*value;
          if (FxEvaluateChannelExpression(fx_info,GreenPixelChannel,0,0,
              &value,exception) != MagickFalse)
            pixel.green=(double) QuantumRange*value;
          if (FxEvaluateChannelExpression(fx_info,BluePixelChannel,0,0,
              &value,exception) != MagickFalse)
            pixel.blue=(double) QuantumRange*value;
          if (image->colorspace == CMYKColorspace)
            {
              if (FxEvaluateChannelExpression(fx_info,BlackPixelChannel,0,0,
                  &value,exception) != MagickFalse)
                pixel.black=(double) QuantumRange*value;
            }
          if (FxEvaluateChannelExpression(fx_info,AlphaPixelChannel,0,0,
              &value,exception) != MagickFalse)
            pixel.alpha=(double) QuantumRange*value;
          fx_info=DestroyFxInfo(fx_info);

          {
            char
              hex[MagickPathExtent];

            (void) FormatLocaleString(hex,MagickPathExtent,"#%02X%02X%02X",
              ScaleQuantumToChar((Quantum) pixel.red),
              ScaleQuantumToChar((Quantum) pixel.green),
              ScaleQuantumToChar((Quantum) pixel.blue));
            if (image->colorspace == CMYKColorspace)
              (void) FormatLocaleString(hex+strlen(hex),MagickPathExtent-strlen(hex),
                "%02X",ScaleQuantumToChar((Quantum) pixel.black));
            if (pixel.alpha < QuantumRange)
              (void) FormatLocaleString(hex+strlen(hex),MagickPathExtent-strlen(hex),
                "%02X",ScaleQuantumToChar((Quantum) pixel.alpha));
            AppendString2Text(hex);
          }
          continue;