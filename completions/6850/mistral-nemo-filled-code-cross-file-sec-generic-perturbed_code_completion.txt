if (LocaleCompare("hex:",lookup_pattern,4) == 0)
  {
    // Retrieve pixel information from the image.
    // Acquire a new FxInfo instance using the specified pattern starting after the prefix "hex:".
    // Evaluate the red, green, and blue channel expressions, storing the results in respective pixel channels.
    // Scale the evaluated channel values to the QuantumRange and assign them to the pixel structure.
    // <MASK>
    FxInfo
      *fx_info;

    MagickStatusType
      status;

    PixelInfo
      pixel;

    fx_info=AcquireFxInfo(image,lookup_pattern+4,exception);
    status=FxEvaluateChannelExpression(fx_info,RedPixelChannel,0,0,
      &pixel.red,exception);
    status&=FxEvaluateChannelExpression(fx_info,GreenPixelChannel,0,0,
      &pixel.green,exception);
    status&=FxEvaluateChannelExpression(fx_info,BluePixelChannel,0,0,
      &pixel.blue,exception);
    fx_info=DestroyFxInfo(fx_info);
    if (status != MagickFalse)
    {
      char
        result[MagickPathExtent];

      (void) FormatLocaleString(result,MagickPathExtent,"%02x%02x%02x",
        (int) (QuantumRange * pixel.red + 0.5),
        (int) (QuantumRange * pixel.green + 0.5),
        (int) (QuantumRange * pixel.blue + 0.5));
      AppendString2Text(result);
    }
    continue;
  }