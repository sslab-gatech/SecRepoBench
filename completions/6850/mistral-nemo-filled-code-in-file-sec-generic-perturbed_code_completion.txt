import numpy as np
from PIL import Image

def fill_masked_region(image, mask, color=(0, 0, 0)):
    """
    Fill the masked region of an image with a given color.

    :param image: PIL Image object
    :param mask: PIL Image object containing the mask (1 for masked, 0 for not masked)
    :param color: Tuple of three integers representing the color (default: black)
    :return: PIL Image object with the masked region filled
    """
    # Convert the image and mask to numpy arrays
    image_array = np.array(image)
    mask_array = np.array(mask)

    # Get the shape of the image and mask
    height, width, _ = image_array.shape

    # Create a new numpy array with the same shape as the image, filled with the desired color
    filled_array = np.full((height, width, 3), color, dtype=np.uint8)

    # Iterate over each pixel in the image
    for y in range(height):
        for x in range(width):
            # If the corresponding pixel in the mask is 1, replace the pixel in the image with the desired color
            if mask_array[y, x] == 1:
                filled_array[y, x] = color

    # Convert the filled numpy array back to a PIL Image object
    filled_image = Image.fromarray(filled_array)

    return filled_image