// process pre behavior
        switch ((*it).pre) {
        case LWO::PrePostBehaviour_OffsetRepeat:
        case LWO::PrePostBehaviour_Repeat:
        case LWO::PrePostBehaviour_Oscillate:
            {
                // Calculate the number of repetitions needed before the first keyframe
                int num_repeats = static_cast<int>(first - firsttime) / delta;
                double offset = num_repeats * delta;

                // Insert keyframes for pre-behavior
                for (double t = firsttime - offset; t > first; t -= delta) {
                    LWO::Key new_key;
                    new_key.time = t;
                    new_key.value = (*it).keys.front().value; // Assuming repeat behavior
                    (*it).keys.insert((*it).keys.begin(), new_key);
                }
            }
            break;

        default:
            // silence compiler warning
            break;
        }