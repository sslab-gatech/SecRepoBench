// Insert additional keyframes based on pre-behavior
        if ((*it).pre == LWO::PrePostBehaviour_OffsetRepeat || 
            (*it).pre == LWO::PrePostBehaviour_Repeat || 
            (*it).pre == LWO::PrePostBehaviour_Oscillate) {
            double currentTime = firsttime;
            double valueDelta = (*it).keys.back().value - (*it).keys.front().value;
            size_t keyCount = (*it).keys.size();

            // Calculate the number of additional keys needed
            size_t additionalKeys = static_cast<size_t>(delta / (1.0 / keyCount));
            for (size_t j = 0; j < additionalKeys; ++j) {
                currentTime += (delta / additionalKeys);
                float newValue = (*it).keys.front().value + (valueDelta * (j / static_cast<float>(additionalKeys)));
                Key newKey;
                newKey.time = currentTime;
                newKey.value = newValue;
                newKey.inter = IT_LINE; // Default interpolation type
                (*it).keys.insert((*it).keys.begin() + 1, newKey); // Insert after the first key
            }
        }