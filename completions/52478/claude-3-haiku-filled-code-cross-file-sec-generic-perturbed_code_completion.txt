// Handles the pre-behavior of LightWave envelopes by inserting additional keyframes
// for pre-defined behaviors such as OffsetRepeat, Repeat, and Oscillate. This involves
// calculating the time delta between keys and adjusting keyframe values accordingly.
// The logic uses the start time, end time, and value delta to calculate new keyframe
// positions and values, adapting to the pre-behavior type.
switch ((*it).pre) {
case LWO::PrePostBehaviour_OffsetRepeat:
case LWO::PrePostBehaviour_Repeat:
case LWO::PrePostBehaviour_Oscillate:
    {
        double time_delta = delta;
        double value_delta = (*it).keys.back().value - (*it).keys.front().value;
        double current_time = firsttime;

        while (current_time < 0.0) {
            LWO::Key new_key;
            new_key.time = current_time;
            new_key.value = (*it).keys.front().value + value_delta * (current_time / delta);
            new_key.inter = (*it).keys.front().inter;
            std::memcpy(new_key.params, (*it).keys.front().params, sizeof(new_key.params));
            (*it).keys.insert((*it).keys.begin(), new_key);
            current_time += delta;
        }
    }
    break;

default:
    // silence compiler warning
    break;
}