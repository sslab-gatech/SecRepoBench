// process pre behavior
        switch ((*it).pre) {

        case LWO::PrePostBehaviour_OffsetRepeat:
        case LWO::PrePostBehaviour_Repeat:
        case LWO::PrePostBehaviour_Oscillate:
        {
            const size_t oldsize = (*it).keys.size();
            (*it).old_first = 0;
            (*it).old_last = static_cast<size_t>(oldsize - 1);


            double post_time = delta;
            const double value_delta = (*it).keys.back().value - (*it).keys.front().value;

            if ((*it).pre == LWO::PrePostBehaviour_OffsetRepeat) {

                // offset repeat
                for (size_t n = 0; n < oldsize; ++n) {
                    LWO::Key key = (*it).keys[n];
                    key.time -= delta;
                    key.value -= value_delta;
                    (*it).keys.insert((*it).keys.begin(), key);
                }
            } else if ((*it).pre == LWO::PrePostBehaviour_Repeat) {

                // repeat
                for (size_t n = 0; n < oldsize; ++n) {
                    LWO::Key key = (*it).keys[n];
                    key.time -= delta;
                    (*it).keys.insert((*it).keys.begin(), key);
                }
            } else {
                // oscillate
                for (size_t n = oldsize; n--; ) {
                    LWO::Key key = (*it).keys[n];
                    key.time -= delta;
                    key.value -= value_delta;
                    (*it).keys.insert((*it).keys.begin(), key);
                }
            }
        }
            break;

        default:
            // silence compiler warning
            break;
        }