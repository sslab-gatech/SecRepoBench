// Handles the pre-behavior of LightWave envelopes by inserting additional keyframes
// for pre-defined behaviors such as OffsetRepeat, Repeat, and Oscillate. This involves
// calculating the time delta between keys and adjusting keyframe values accordingly.
// The logic uses the start time, end time, and value delta to calculate new keyframe
// positions and values, adapting to the pre-behavior type.
switch ((*it).pre) {
case LWO::PrePostBehaviour_OffsetRepeat:
    {
        double offset = firsttime - delta;
        double t = firsttime - delta;
        double v = (*it).keys.front().value;
        while (t > firsttime - 2 * delta) {
            LWO::Key k;
            k.time = t;
            k.value = v;
            (*it).keys.insert((*it).keys.begin(), k);
            t -= delta;
            v = (*it).keys.front().value;
        }
    }
    break;
case LWO::PrePostBehaviour_Repeat:
    {
        double t = firsttime - delta;
        double v = (*it).keys.front().value;
        while (t > firsttime - 2 * delta) {
            LWO::Key k;
            k.time = t;
            k.value = v;
            (*it).keys.insert((*it).keys.begin(), k);
            t -= delta;
            v = (*it).keys.front().value;
        }
    }
    break;
case LWO::PrePostBehaviour_Oscillate:
    {
        double t = firsttime - delta;
        double v = (*it).keys.front().value;
        bool sign = true;
        while (t > firsttime - 2 * delta) {
            LWO::Key k;
            k.time = t;
            k.value = v * (sign? 1 : -1);
            (*it).keys.insert((*it).keys.begin(), k);
            t -= delta;
            v = (*it).keys.front().value;
            sign =!sign;
        }
    }
    break;
default:
    break;
}