// Handles the pre-behavior of LightWave envelopes by inserting additional keyframes
    // for pre-defined behaviors such as OffsetRepeat, Repeat, and Oscillate. This involves
    // calculating the time delta between keys and adjusting keyframe values accordingly.
    // The logic uses the start time, end time, and value delta to calculate new keyframe
    // positions and values, adapting to the pre-behavior type.
    switch ((*it).pre) {
    case LWO::PrePostBehaviour_OffsetRepeat:
    case LWO::PrePostBehaviour_Repeat:
    case LWO::PrePostBehaviour_Oscillate:
        {
            double delta = my_last - firsttime;
            double valueDelta = (*it).keys.back().value - (*it).keys.front().value;
            double newKeyTime = firsttime - delta;

            // Insert new keyframe at the beginning of the envelope
            LWO::Key newKey;
            newKey.time = newKeyTime;
            newKey.value = (*it).keys.front().value - valueDelta;
            (*it).keys.insert((*it).keys.begin(), newKey);

            // Update the first and last key indices
            (*it).old_first = 0;
            (*it).old_last = (*it).keys.size() - 1;
        }
        break;

    default:
        // silence compiler warning
        break;
    }