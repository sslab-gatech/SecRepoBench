if (!filters || !filter)
  return 0;

int64_t tend = filter->blockstartpos + (int64_t)filter->blocklength;
filter->blockstartpos = INT64_MAX;

if (!archive_read_expand(archivereadptr, end)) 
  return 0;