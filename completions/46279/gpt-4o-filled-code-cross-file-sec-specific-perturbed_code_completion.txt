if (filters == NULL || filter == NULL)
    return 0;

start = filters->filterstart;
tend = filter->blockstartpos + filter->blocklength;

filter->blockstartpos = INT64_MAX;

if (archive_read_consume(archivereadptr, tend - start) < 0)
    return 0;