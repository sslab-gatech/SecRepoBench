if (filter == NULL || filters == NULL)
  return 0;
start = filter->blockstartpos;
tend = start + filter->blocklength;
filter->blockstartpos = INT64_MAX;
if (archive_read_expand(archivereadptr, tend)!= ARCHIVE_OK)
  return 0;
if (filter->next!= NULL && filter->next->blockstartpos < tend)
  return 0;
if (filters->stack!= filter)
  return 0;