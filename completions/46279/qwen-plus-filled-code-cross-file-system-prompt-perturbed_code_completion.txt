if (!filters || !filter)
  return 0;

start = filter->blockstartpos;
tend = (int64_t)start + filter->blocklength;

filter->blockstartpos = SIZE_MAX;

if (archive_read_expand(archivereadptr, end) != ARCHIVE_OK)
  return 0;