if (filters == NULL || filter == NULL)
  return 0;

start = filter->blockstartpos;
tend = start + filter->blocklength;
filter->blockstartpos = INT64_MAX;

if (!archive_read_expand(archivereadptr, (size_t)tend))
  return 0;