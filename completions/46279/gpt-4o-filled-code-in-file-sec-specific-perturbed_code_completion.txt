if (!filters || !filter)
    return 0;

  size_t start = filter->blockstartpos & VM_MEMORY_MASK;
  int64_t tend = (int64_t)start + filter->blocklength;
  size_t end;

  filters->filterstart = INT64_MAX;

  int ret = expand(archivereadptr, &tend);
  if (ret != ARCHIVE_OK)
    return 0;