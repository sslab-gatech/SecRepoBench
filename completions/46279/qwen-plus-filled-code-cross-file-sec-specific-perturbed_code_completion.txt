int64_t tend = filter->blockstartpos + (int64_t)filter->blocklength;
size_t start = filters->lastend;

if (filters->stack == NULL || filter == NULL)
  return 0;

filter->blockstartpos = SIZE_MAX;

if (archive_read_expand(archivereadptr, tend) != ARCHIVE_OK)
  return 0;