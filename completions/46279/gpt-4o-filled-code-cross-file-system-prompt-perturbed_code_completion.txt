if (filters->stack == NULL || filter == NULL)
    return 0;

  start = filters->filterstart;
  tend = filter->blockstartpos + filter->blocklength;
  filter->blockstartpos = INT64_MAX;

  if (archive_read_filter_ahead(archivereadptr, tend, NULL) == NULL)
    return 0;