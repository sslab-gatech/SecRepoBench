if (!filter)
  {
    return 0;
  }
  start = filter->blockstartpos;
  tend = start + filter->blocklength;
  if (tend < 0)
    return 0;
  end = (size_t)tend;
  if (end != start + filter->blocklength)
    return 0;