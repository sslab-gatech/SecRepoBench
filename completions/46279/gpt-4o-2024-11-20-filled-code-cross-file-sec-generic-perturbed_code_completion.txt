if (filters == NULL || filter == NULL)
    return 0;

  start = (size_t)filter->blockstartpos;
  tend = filter->blockstartpos + filter->blocklength;

  // Ensure the filter's starting position is reset to an invalid state
  filter->blockstartpos = INT64_MAX;

  // Attempt to expand the archive read buffer to the required size
  if (archive_read_consume(archivereadptr, tend) == NULL)
    return 0;