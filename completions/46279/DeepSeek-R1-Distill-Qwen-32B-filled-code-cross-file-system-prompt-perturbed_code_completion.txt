start = filter->blockstartpos;
tend = start + filter->blocklength - 1;
if (archive_read_buffer_ptr(archivereadptr) + archive_read_buffer_ptr_length(archivereadptr) <= (int64_t)tend) {
    if (!archive_read_buffer_ptr_set(archivereadptr, (int64_t)tend + 1))
        return 0;
}