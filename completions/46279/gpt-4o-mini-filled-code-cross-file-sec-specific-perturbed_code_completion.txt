size_t start = filter->blockstartpos;
size_t tend = start + filter->blocklength; // Calculate the end position based on the filter's block length

if (tend < 0 || tend > filters->vm->memory_size) // Ensure tend is within valid bounds
    return 0;

memset(filters->vm->memory, 0, filters->vm->memory_size); // Clear the memory to avoid using freed memory