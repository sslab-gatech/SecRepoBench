// Parses material properties from a buffer when loading material files. The code processes
// different material properties based on the current character in the buffer. It handles:
// 1. Colors: Ambient, Diffuse, Specular, Emissive, and Transmission.
// 2. Transparency and Alpha values.
// 3. Specular exponent and Index of Refraction (IOR).
// 4. Materials: Creates a new material when needed.
// 5. Textures: Handles various texture types like diffuse, bump, etc.
// 6. Illumination models and anisotropy.
// The parsing is done by moving through the buffer character by character, determining
// which property is being specified, and calling the appropriate function to parse
// and assign the value to the current material being processed.
void ObjFileMtlImporter::load() {
    if (m_DataIt == m_DataItEnd)
        return;

    while (m_DataIt!= m_DataItEnd) {
        switch (*m_DataIt) {
            case 'k':
                // Parses material properties from a buffer when loading material files. The code processes
                // different material properties based on the current character in the buffer. It handles:
                // 1. Colors: Ambient, Diffuse, Specular, Emissive, and Transmission.
                // 2. Transparency and Alpha values.
                // 3. Specular exponent and Index of Refraction (IOR).
                // 4. Materials: Creates a new material when needed.
                // 5. Textures: Handles various texture types like diffuse, bump, etc.
                // 6. Illumination models and anisotropy.
                // The parsing is done by moving through the buffer character by character, determining
                // which property is being specified, and calling the appropriate function to parse
                // and assign the value to the current material being processed.
                switch (getNextToken<DataArrayIt>(m_DataIt, m_DataItEnd)[0]) {
                    case 'a': {
                        // Ambient color
                        aiColor3D color;
                        getColorRGBA(&color);
                        m_pModel->m_pCurrentMaterial->ambientColor = color;
                        break;
                    }
                    case 'd': {
                        // Diffuse color
                        aiColor3D color;
                        getColorRGBA(&color);
                        m_pModel->m_pCurrentMaterial->diffuseColor = color;
                        break;
                    }
                    case's': {
                        // Specular color
                        aiColor3D color;
                        getColorRGBA(&color);
                        m_pModel->m_pCurrentMaterial->specularColor = color;
                        break;
                    }
                    case 'e': {
                        // Emissive color
                        aiColor3D color;
                        getColorRGBA(&color);
                        m_pModel->m_pCurrentMaterial->emissiveColor = color;
                        break;
                    }
                    case 'n': {
                        // Transmission color
                        aiColor3D color;
                        getColorRGBA(&color);
                        m_pModel->m_pCurrentMaterial->transmissionColor = color;
                        break;
                    }
                    case 'N': {
                        // Specular exponent
                        ai_real value;
                        getFloatValue(value);
                        m_pModel->m_pCurrentMaterial->specularExponent = value;
                        break;
                    }
                    case 'I': {
                        // Index of Refraction (IOR)
                        ai_real value;
                        getFloatValue(value);
                        m_pModel->m_pCurrentMaterial->ior = value;
                        break;
                    }
                    case'm': {
                        // Material name
                        createMaterial();
                        break;
                    }
                    case 'D': {
                        // Diffuse texture
                        getTexture();
                        break;
                    }
                    case 'B': {
                        // Bump texture
                        getTexture();
                        break;
                    }
                    case 'N': {
                        // Normal map
                        getTexture();
                        break;
                    }
                    case 'K': {
                        // Specular texture
                        getTexture();
                        break;
                    }
                    case 'T': {
                        // Transmission texture
                        getTexture();
                        break;
                    }
                    case 'O': {
                        // Opacity texture
                        getTexture();
                        break;
                    }
                    case 'E': {
                        // Emissive texture
                        getTexture();
                        break;
                    }
                    case 'Q': {
                        // Illumination model
                        int illum_model;
                        getIlluminationModel(illum_model);
                        m_pModel->m_pCurrentMaterial->illuminationModel = illum_model;
                        break;
                    }
                    case 'L': {
                        // Anisotropy
                        ai_real value;
                        getFloatValue(value);
                        m_pModel->m_pCurrentMaterial->anisotropy = value;
                        break;
                    }
                    default: {
                        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
                        break;
                    }
                }
                break;
            default: {
                m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
                break;
            }
        }
    }
}