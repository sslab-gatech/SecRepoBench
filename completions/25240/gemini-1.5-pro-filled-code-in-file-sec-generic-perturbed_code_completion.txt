case 'K': {
    if (*(++m_DataIt) == 'a') {
        ++m_DataIt;
        getColorRGBA(&m_pModel->m_pCurrentMaterial->ambient);
    } else if (*m_DataIt == 'd') {
        ++m_DataIt;
        getColorRGBA(&m_pModel->m_pCurrentMaterial->diffuse);
    } else if (*m_DataIt == 's') {
        ++m_DataIt;
        getColorRGBA(&m_pModel->m_pCurrentMaterial->specular);
    } else if (*m_DataIt == 'e') {
        ++m_DataIt;
        getColorRGBA(&m_pModel->m_pCurrentMaterial->emissive);
    }
    m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
} break;

case 'T': {
    if (*(++m_DataIt) == 'f') {
        ++m_DataIt;
        getColorRGBA(&m_pModel->m_pCurrentMaterial->transmission);
    } else if (*m_DataIt == 'r') {
        // According to http://en.wikipedia.org/wiki/Wavefront_.obj_file#Basic_materials
        // Tr and d can be used interchangeably.
        ++m_DataIt;
        getFloatValue(m_pModel->m_pCurrentMaterial->alpha);
        m_pModel->m_pCurrentMaterial->is_alpha_defined = true;
    }
    m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
} break;

case 'd': {
    ++m_DataIt;
    getFloatValue(m_pModel->m_pCurrentMaterial->alpha);
    m_pModel->m_pCurrentMaterial->is_alpha_defined = true;
    m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
} break;

case 'N':
case 'n': {
    if (*(++m_DataIt) == 's') {
        ++m_DataIt;
        getFloatValue(m_pModel->m_pCurrentMaterial->shininess);
    } else if (*m_DataIt == 'i') {
        ++m_DataIt;
        getFloatValue(m_pModel->m_pCurrentMaterial->ior);
    }
    m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
} break;

case 'm': {
    if (!ASSIMP_strincmp((const char *)&(*m_DataIt), "map_", 4)) {
        m_DataIt += 4;
        getTexture();
    }
    m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
} break;

case 'b': {
    if (!ASSIMP_strincmp((const char *)&(*m_DataIt), "bump", 4)) {
        m_DataIt += 4;
        getTexture();
    }
    m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
} break;


case 'i': {
    if (*(++m_DataIt) == 'l') {
        if (*(++m_DataIt) == 'l') {
            if (*(++m_DataIt) == 'u') {
                if (*(++m_DataIt) == 'm') {
                    if ((*(++m_DataIt)) == ' ') {
                        ++m_DataIt;
                        int illum_model;
                        getIlluminationModel(illum_model);
                        m_pModel->m_pCurrentMaterial->illumination_model = illum_model;
                    }
                }
            }
        }
    }
    m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
} break;

case 'a': {
    if (*(++m_DataIt) == 'n') {
        if (*(++m_DataIt) == 'i') {
            if (*(++m_DataIt) == 's') {
                if (*(++m_DataIt) == 'o') {
                    if ((*(++m_DataIt)) == ' ') {
                        ++m_DataIt;
                        getFloatValue(m_pModel->m_pCurrentMaterial->anisotropy);
                    }
                }
            }
        }
    }
    m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
} break;

case 'n': {
    if (*(++m_DataIt) == 'e') {
        if (*(++m_DataIt) == 'w') {
            if (*(++m_DataIt) == 'm') {
                if (*(++m_DataIt) == 't') {
                    if (*(++m_DataIt) == 'l') {
                        if (*(++m_DataIt) == ' ') {
                            ++m_DataIt;
                            createMaterial();
                        }
                    }
                }
            }
        }
    }
    m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
} break;