case 'k':
    // Ambient color (ka)
    if ('a' == m_DataIt[1]) {
        ++m_DataIt;
        ++m_DataIt;
        if (m_pModel->m_pCurrentMaterial) {
            getColorRGBA(&m_pModel->m_pCurrentMaterial->ambient);
        }
    }
    // Diffuse color (kd)
    else if ('d' == m_DataIt[1]) {
        ++m_DataIt;
        ++m_DataIt;
        if (m_pModel->m_pCurrentMaterial) {
            getColorRGBA(&m_pModel->m_pCurrentMaterial->diffuse);
        }
    }
    // Specular color (ks)
    else if ('s' == m_DataIt[1]) {
        ++m_DataIt;
        ++m_DataIt;
        if (m_pModel->m_pCurrentMaterial) {
            getColorRGBA(&m_pModel->m_pCurrentMaterial->specular);
        }
    }
    // Emissive color (ke)
    else if ('e' == m_DataIt[1]) {
        ++m_DataIt;
        ++m_DataIt;
        if (m_pModel->m_pCurrentMaterial) {
            getColorRGBA(&m_pModel->m_pCurrentMaterial->emissive);
        }
    }
    // Transmission color (kt)
    else if ('t' == m_DataIt[1]) {
        ++m_DataIt;
        ++m_DataIt;
        if (m_pModel->m_pCurrentMaterial) {
            getColorRGBA(&m_pModel->m_pCurrentMaterial->transparent);
        }
    } else {
        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    }
    break;

case 'd':
    // Dissolve (d) or Index of Refraction (disp)
    if (' ' == m_DataIt[1] || '\t' == m_DataIt[1]) {
        ++m_DataIt;
        ++m_DataIt;
        if (m_pModel->m_pCurrentMaterial) {
            ai_real d = 1.0;
            getFloatValue(d);
            m_pModel->m_pCurrentMaterial->alpha = d;
        }
    } else if ('i' == m_DataIt[1] && 's' == m_DataIt[2] && 'p' == m_DataIt[3]) {
        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    } else {
        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    }
    break;

case 'T':
    // Transparent
    if ('r' == m_DataIt[1]) {
        ++m_DataIt;
        ++m_DataIt;
        if (m_pModel->m_pCurrentMaterial) {
            ai_real invAlpha = 1.0;
            getFloatValue(invAlpha);
            if (invAlpha > 0.0) {
                m_pModel->m_pCurrentMaterial->alpha = 1.0 / invAlpha;
            }
        }
    } else {
        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    }
    break;

case 'N':
    if ('s' == m_DataIt[1]) {
        // Specular exponent
        ++m_DataIt;
        ++m_DataIt;
        if (m_pModel->m_pCurrentMaterial) {
            ai_real shineness = 0.0;
            getFloatValue(shineness);
            m_pModel->m_pCurrentMaterial->shineness = shineness;
        }
    } else if ('i' == m_DataIt[1]) {
        // Index of refraction
        ++m_DataIt;
        ++m_DataIt;
        if (m_pModel->m_pCurrentMaterial) {
            ai_real ior = 1.0;
            getFloatValue(ior);
            m_pModel->m_pCurrentMaterial->ior = ior;
        }
    } else {
        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    }
    break;

case 'i':
    // Illumination model
    if ('l' == m_DataIt[1] && 'l' == m_DataIt[2] && 'u' == m_DataIt[3] && 'm' == m_DataIt[4]) {
        m_DataIt += 5;
        if (m_pModel->m_pCurrentMaterial) {
            int illum = 0;
            getIlluminationModel(illum);
            m_pModel->m_pCurrentMaterial->illumination_model = illum;
        }
    } else {
        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    }
    break;

case 'm':
    // Textures
    if ('a' == m_DataIt[1] && 'p' == m_DataIt[2] && '_' == m_DataIt[3]) {
        m_DataIt += 4;
        if (m_pModel->m_pCurrentMaterial) {
            getTexture();
        }
    } else {
        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    }
    break;

case 'n':
    // New material
    if ('e' == m_DataIt[1] && 'w' == m_DataIt[2] && 'm' == m_DataIt[3] &&
            't' == m_DataIt[4] && 'l' == m_DataIt[5]) {
        m_DataIt += 6;
        createMaterial();
    } else {
        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    }
    break;