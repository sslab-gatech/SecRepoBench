case 'k':
{
    // Check if m_pModel->m_pCurrentMaterial is not null before accessing its fields
    if (m_pModel->m_pCurrentMaterial) {
        // Determine the material property being parsed based on the next character
        switch (*++m_DataIt) {
            case 'a': // Ambient color
                getColorRGBA(m_pModel->m_pCurrentMaterial->ambient);
                break;
            case 'd': // Diffuse color
                getColorRGBA(m_pModel->m_pCurrentMaterial->diffuse);
                break;
            case 's': // Specular color
                getColorRGBA(m_pModel->m_pCurrentMaterial->specular);
                break;
            case 'e': // Emissive color
                getColorRGBA(m_pModel->m_pCurrentMaterial->emissive);
                break;
            case 'T': // Transmission color
                getColorRGBA(m_pModel->m_pCurrentMaterial->transparent);
                break;
            case 'N':
                switch (*++m_DataIt) {
                    case 's': // Specular exponent
                        getFloat(m_pModel->m_pCurrentMaterial->shininess);
                        break;
                    case 'i': // Index of refraction
                        getFloat(m_pModel->m_pCurrentMaterial->ior);
                        break;
                    default:
                        --m_DataIt;
                        break;
                }
                break;
            case 'd': // Dissolve (transparency)
                getFloat(m_pModel->m_pCurrentMaterial->alpha);
                break;
            case 'i': // Illumination model
                getInteger(m_pModel->m_pCurrentMaterial->illumination_model);
                break;
            case 'b': // Anisotropy
                getFloat(m_pModel->m_pCurrentMaterial->anisotropy);
                break;
            case 'm': // New material
                createMaterial();
                break;
            case 'T':
                switch (*++m_DataIt) {
                    case 'r': // Texture, Diffuse
                        getTexture(aiTextureType_DIFFUSE);
                        break;
                    case 'b': // Texture, Bump
                        getTexture(aiTextureType_NORMALS);
                        break;
                    case 'n': // Texture, Normal
                        getTexture(aiTextureType_NORMALS);
                        break;
                    case 'p': // Texture, Specular
                        getTexture(aiTextureType_SPECULAR);
                        break;
                    case 'e': // Texture, Emissive
                        getTexture(aiTextureType_EMISSIVE);
                        break;
                    case 'l': // Texture, Lightmap
                        getTexture(aiTextureType_LIGHTMAP);
                        break;
                    case 'f': // Texture, Reflection
                        getTexture(aiTextureType_REFLECTION);
                        break;
                    default:
                        --m_DataIt;
                        break;
                }
                break;
            default:
                --m_DataIt;
                break;
        }
    }
    else {
        // If m_pModel->m_pCurrentMaterial is null, skip the line
        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    }
}
break;