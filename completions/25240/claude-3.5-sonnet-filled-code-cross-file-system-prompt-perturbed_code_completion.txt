case 'K':
    {
        ++m_DataIt;
        if (*m_DataIt == 'a') // Ambient color
            getColorRGBA(m_pModel->m_pCurrentMaterial->ambient);
        else if (*m_DataIt == 'd') // Diffuse color
            getColorRGBA(m_pModel->m_pCurrentMaterial->diffuse);
        else if (*m_DataIt == 's') // Specular color
            getColorRGBA(m_pModel->m_pCurrentMaterial->specular);
        else if (*m_DataIt == 'e') // Emissive color
            getColorRGBA(m_pModel->m_pCurrentMaterial->emissive);
        else if (*m_DataIt == 't') // Transmission color
            getColorRGBA(m_pModel->m_pCurrentMaterial->transparent);
        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    }
    break;
case 'd': // Alpha
case 'T':
    {
        ++m_DataIt;
        getFloatValue(m_pModel->m_pCurrentMaterial->alpha);
        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    }
    break;
case 'N':
    {
        ++m_DataIt;
        switch(*m_DataIt) {
            case 's': // Specular exponent
                ++m_DataIt;
                getFloatValue(m_pModel->m_pCurrentMaterial->shineness);
                break;
            case 'i': // Index of refraction
                ++m_DataIt;
                getFloatValue(m_pModel->m_pCurrentMaterial->ior);
                break;
        }
        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    }
    break;
case 'n': // New material
    {
        createMaterial();
        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    }
    break;
case 'm': // Texture
    {
        ++m_DataIt;
        if (!strncmp(m_DataIt, "ap_", 3))
        {
            m_DataIt += 3;
            if (!strncmp(m_DataIt, "Kd", 2) || !strncmp(m_DataIt, "Ka", 2) || !strncmp(m_DataIt, "Ks", 2) ||
                !strncmp(m_DataIt, "Ke", 2) || !strncmp(m_DataIt, "Ns", 2) || !strncmp(m_DataIt, "bump", 4))
            {
                // Skip to texture name
                m_DataIt = getNextToken<DataArrayIt>(m_DataIt, m_DataItEnd);
                getTextureName();
            }
        }
        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    }
    break;
case 'i': // Illumination model
    {
        m_DataIt = getNextToken<DataArrayIt>(m_DataIt, m_DataItEnd);
        getIlluminationModel(m_pModel->m_pCurrentMaterial->illumination_model);
        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    }
    break;
case 'a': // Anisotropy
    {
        ++m_DataIt;
        if (*m_DataIt == 'n')
        {
            ++m_DataIt;
            if (*m_DataIt == 'i')
            {
                ++m_DataIt;
                getFloatValue(m_pModel->m_pCurrentMaterial->anisotropy);
            }
        }
        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    }
    break;