case 'k':
    // Parse material properties
    m_DataIt = skipWhiteSpace<DataArrayIt>(m_DataIt, m_DataItEnd);
    if (m_DataIt == m_DataItEnd || !isalpha(*m_DataIt)) {
        break;
    }

    std::string materialName;
    while (m_DataIt != m_DataItEnd && isalnum(*m_DataIt)) {
        materialName += *m_DataIt++;
    }

    m_DataIt = skipWhiteSpace<DataArrayIt>(m_DataIt, m_DataItEnd);
    if (m_DataIt == m_DataItEnd || *m_DataIt != ' ') {
        break;
    }

    m_DataIt++;
    m_DataIt = skipWhiteSpace<DataArrayIt>(m_DataIt, m_DataItEnd);
    if (m_DataIt == m_DataItEnd) {
        break;
    }

    Maybe<aiColor3D> color;
    getColorRGBA(color);
    if (!color) {
        break;
    }

    int mat_index = getMaterialIndex(materialName);
    if (mat_index == -1) {
        createObject(materialName);
        mat_index = m_pModel->m_MaterialLib.size() - 1;
    }

    m_pModel->m_MaterialLib[mat_index]->Diffuse = color.get();
    break;