if (length < 0)
    return 0;