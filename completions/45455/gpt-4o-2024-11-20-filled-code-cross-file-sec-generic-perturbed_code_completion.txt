/*
     * Parse the entity reference from the XML parser context.
     * Check if the entity is null and return if it is.
     * Store the entity's checked status for later use.
     * Handle the special case for predefined entities:
     *  - Retrieve the content of the entity.
     *  - Check if the content is null and return if it is.
     *  - Inline the entity content using the SAX character handler if available.
     */
    ent = xmlParseStringEntityRef(ctxt, &ctxt->input->cur);
    if (ent == NULL) {
        xmlFatalErr(ctxt, XML_ERR_UNDECLARED_ENTITY, NULL);
        return;
    }

    if (ent->etype == XML_INTERNAL_PREDEFINED_ENTITY) {
        val = ent->content;
        if (val == NULL) {
            xmlFatalErr(ctxt, XML_ERR_INTERNAL_ERROR, "Predefined entity content is NULL\n");
            return;
        }
        if ((ctxt->sax != NULL) && (ctxt->sax->characters != NULL) && (!ctxt->disableSAX)) {
            ctxt->sax->characters(ctxt->userData, val, xmlStrlen(val));
        }
        return;
    }