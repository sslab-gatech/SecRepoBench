/* Consume the '&' we already encountered above. */
    NEXT;
    /* Parse the entity reference from the XML parser context. */
    ent = xmlParseStringEntityRef(ctxt, (const xmlChar **)&ctxt->input->cur);
    if (ent == NULL)
        return;

    /* Store the entity's checked status for later use. */
    entity_checked_status = ent->checked;

    /* Handle the special case for predefined entities. */
    if (ent->etype == XML_INTERNAL_PREDEFINED_ENTITY) {
        /* Retrieve the content of the entity. */
        val = ent->content;
        /* Check if the content is null and return if it is. */
        if (val == NULL)
            return;
        /* Inline the entity content using the SAX character handler if available. */
        if ((ctxt->sax != NULL) && (ctxt->sax->characters != NULL) &&
            (!ctxt->disableSAX)) {
            ctxt->sax->characters(ctxt->userData, val, xmlStrlen(val));
        }
        return;
    }