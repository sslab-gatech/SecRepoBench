else {
            handler = xmlFindEncodingHandler(encoding_guess);
            if (handler != NULL) {
                if (handler->encoder != UTF8_CHAR_ENCODING) {
                    xmlSwitchEncoding(ctxt, handler);
                }
            } else {
                htmlParseErr(ctxt, XML_ERR_UNSUPPORTED_ENCODING,
                                "encoding not supported: '%s'\n",
                                encoding_guess);
            }
            xmlFree(encoding_guess);
        }