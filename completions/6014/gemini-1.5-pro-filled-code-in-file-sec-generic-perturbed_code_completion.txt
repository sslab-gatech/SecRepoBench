char
  *q;

q=xml;
while(isspace((int) ((unsigned char) *q)) != 0)
  q++;
for (p=xml; *q != '\0'; )
{
  while ((*q != '\0') && (isspace((int) ((unsigned char) *q)) == 0))
  {
    *p=*q;
    p++;
    q++;
  }
  if (*q != '\0')
    {
      *p=' ';
      p++;
      q++;
    }
  while(isspace((int) ((unsigned char) *q)) != 0)
    q++;
}
*p='\0';