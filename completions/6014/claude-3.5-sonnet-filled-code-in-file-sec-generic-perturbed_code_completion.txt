char *p = xml_info->content;
char *q = p;
while (*p != '\0') {
  while (isspace((unsigned char)*p))
    p++;
  while (*p != '\0' && !isspace((unsigned char)*p))
    *q++ = *p++;
  if (*p != '\0')
    *q++ = ' ';
}
*q = '\0';
if (q > xml_info->content && *(q-1) == ' ')
  *(q-1) = '\0';