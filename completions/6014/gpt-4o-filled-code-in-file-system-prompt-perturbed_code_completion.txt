for (q=xml; *q != '\0'; q++)
        if ((q == xml) || (isspace((int) ((unsigned char) *(q-1))) == 0) ||
            (isspace((int) ((unsigned char) *q)) == 0))
          *(p++)=(*q);
      if (p != xml)
        if (isspace((int) ((unsigned char) *(p-1))) != 0)
          p--;
      *p='\0';