// Iterate over the normalized string to remove leading spaces from each word.
// Use a character pointer to traverse through the string.
// Use a loop to skip over and remove consecutive spaces.
// Compact the string by shifting non-space characters to the left.
// Continue this until the end of the string is reached.
// If the last character is a space, terminate the string before the space.
register char *p, *q;
for (p = q = xml; *p!= '\0'; p++)
  if (isspace((int) ((unsigned char) *p)) == 0)
    {
      *q++ = *p;
      if (p > xml && isspace((int) ((unsigned char) *(p - 1)))!= 0)
        *q++ ='';
    }
if ((q > xml) && (isspace((int) ((unsigned char) *(q - 1)))!= 0))
  q--;
*q = '\0';