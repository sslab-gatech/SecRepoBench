p=xml;
      for ( ; ; )
      {
        while (isspace((int) ((unsigned char) *p)) != 0)
          p++;
        if (*p == '\0')
          break;
        q=p;
        while ((*q != '\0') && (isspace((int) ((unsigned char) *q)) == 0))
          q++;
        if (p != q)
          {
            (void) CopyMagickMemory(xml,p,q-p);
            xml+=(q-p);
            *xml++=' ';
            p=q;
          }
        else
          p++;
      }
      while (isspace((int) ((unsigned char) *(--xml))) != 0)
        *xml='\0';