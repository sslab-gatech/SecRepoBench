char *word_start = xml;
      char *current = xml;
      size_t word_length = 0;

      while (*current != '\0') {
        if (isspace((unsigned char)*current)) {
          if (word_length > 0) {
            // Shift the word to the left
            memcpy(word_start, current - word_length, word_length);
            word_start += word_length;
            *word_start++ = ' '; // Add a single space
            word_length = 0;
          }
        } else {
          word_length++;
        }
        current++;
      }

      // Handle the last word if there is one
      if (word_length > 0) {
        memcpy(word_start, current - word_length, word_length);
        word_start += word_length;
      }

      // Null-terminate the string
      *word_start = '\0';

      // Trim trailing space if necessary
      if (*(word_start - 1) == ' ') {
        *(word_start - 1) = '\0';
      }