TLVRecordType resRec(NULL); // for NRVO optimization

if (tlvDataBasePtr == NULL || tlvDataLength == 0)
{
    return resRec;
}

resRec.assign(tlvDataBasePtr);

// Check if the record is valid
if (resRec.getTotalSize() == 0 || resRec.getTotalSize() > tlvDataLength)
    resRec.assign(NULL);

return resRec;