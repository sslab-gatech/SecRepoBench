if (tlvDataBasePtr == nullptr || tlvDataLength == 0) {
    TLVRecordType nullRecord;
    nullRecord.assign(nullptr);
    return nullRecord;
}

uint8_t* currentPtr = tlvDataBasePtr;
size_t remainingLength = tlvDataLength;

if (remainingLength < sizeof(TLVRecordType)) {
    TLVRecordType nullRecord;
    nullRecord.assign(nullptr);
    return nullRecord;
}

TLVRecordType firstRecord;
firstRecord.assign(currentPtr);

size_t recordSize = firstRecord.getSize();
if (remainingLength < recordSize) {
    TLVRecordType nullRecord;
    nullRecord.assign(nullptr);
    return nullRecord;
}

currentPtr += recordSize;
remainingLength -= recordSize;

return firstRecord;