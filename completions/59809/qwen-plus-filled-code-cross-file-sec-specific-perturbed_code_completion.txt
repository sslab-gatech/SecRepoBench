if (tlvDataBasePtr == nullptr || tlvDataLength == 0)
{
	TLVRecordType nullRecord;
	nullRecord.assign(nullptr);
	return nullRecord;
}

// Ensure that the buffer is large enough to contain at least the type and length fields
if (tlvDataLength < sizeof(uint8_t) + sizeof(uint16_t))
{
	TLVRecordType nullRecord;
	nullRecord.assign(nullptr);
	return nullRecord;
}

uint8_t recordType = *tlvDataBasePtr;
uint16_t recordLength = *(reinterpret_cast<const uint16_t*>(tlvDataBasePtr + sizeof(uint8_t)));

// Check if the total size of the record fits within the provided data length
if (sizeof(uint8_t) + sizeof(uint16_t) + recordLength > tlvDataLength)
{
	TLVRecordType nullRecord;
	nullRecord.assign(nullptr);
	return nullRecord;
}

TLVRecordType firstRecord;
firstRecord.assign(tlvDataBasePtr, recordType, recordLength);
return firstRecord;