if (tlvDataBasePtr == NULL || tlvDataLength == 0)
{
    TLVRecordType firstRecord;
    firstRecord.assign(NULL);
    return firstRecord;
}

// At this point tlvDataBasePtr is valid and tlvDataLength > 0.
// For safety, ensure the buffer is large enough to hold at least the header of a TLV record.
// (Assuming TLV records have a minimum header size; update MIN_TLV_HEADER_SIZE as needed.)
static const size_t MIN_TLV_HEADER_SIZE = sizeof(uint8_t); // Adjust appropriately if the header is larger
if (tlvDataLength < MIN_TLV_HEADER_SIZE)
{
    TLVRecordType firstRecord;
    firstRecord.assign(NULL);
    return firstRecord;
}

TLVRecordType firstRecord;
firstRecord.assign(tlvDataBasePtr);
return firstRecord;