size_t tlvRecordLen = 0;
TLVRecordType tlvRecord;

if (tlvDataBasePtr != nullptr && tlvDataLength > 0)
{
    // Check the first 2 bytes to get the length of the first TLV record
    if (tlvDataLength >= 2)
    {
        tlvRecordLen = (tlvDataBasePtr[0] << 8) | tlvDataBasePtr[1];

        // Ensure the TLV record length is within the provided data length
        if (tlvRecordLen <= tlvDataLength)
        {
            tlvRecord.assign(tlvDataBasePtr, tlvRecordLen);
        }
        else
        {
            // The TLV record length is larger than the provided data length, return a null TLVRecordType
            tlvRecord.assign(nullptr);
        }
    }
    else
    {
        // The provided data length is less than 2 bytes, return a null TLVRecordType
        tlvRecord.assign(nullptr);
    }
}
else
{
    // The provided data pointer is null or the data length is zero, return a null TLVRecordType
    tlvRecord.assign(nullptr);
}

return tlvRecord;