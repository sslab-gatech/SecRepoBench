if (tlvDataBasePtr == nullptr || tlvDataLength == 0)
{
    TLVRecordType nullRecord;
    nullRecord.assign(nullptr);
    return nullRecord;
}

// Assuming TLVRecordType has a constructor or method to initialize from raw data
TLVRecordType firstRecord;
firstRecord.parseFromBuffer(tlvDataBasePtr, tlvDataLength);

if (firstRecord.isValid())
{
    return firstRecord;
}
else
{
    TLVRecordType nullRecord;
    nullRecord.assign(nullptr);
    return nullRecord;
}