TLVRecordType curRec;
size_t recordSize = 0;

// Check if the input buffer is valid
if (tlvDataBasePtr == nullptr || tlvDataLength == 0)
{
    curRec.assign(nullptr);
    return curRec;
}

// Get the size of the first TLV record
recordSize = getTLVRecordSize(tlvDataBasePtr, tlvDataLength);

// Check if the record size is valid
if (recordSize == 0 || recordSize > tlvDataLength)
{
    curRec.assign(nullptr);
    return curRec;
}

// Create a new TLVRecordType instance and assign the record data
curRec.assign(tlvDataBasePtr, recordSize);
return curRec;