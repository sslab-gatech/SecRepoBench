TLVRecordType getFirstTLVRecord(uint8_t* tlvDataBasePtr, size_t tlvDataLength) const
{
    // Get the first TLV record out of a byte stream.
    // Return a instance of type TLVRecordType that contains the first TLV record.
    // If tlvDataBasePtr is NULL or tlv data length is zero the returned TLVRecordType 
    // instance will be logically NULL, meaning TLVRecordType.isNull() will return true.
    if (tlvDataBasePtr == NULL || tlvDataLength == 0)
    {
        return TLVRecordType(NULL);
    }

    uint8_t* curPtr = tlvDataBasePtr;
    uint8_t type = *curPtr;
    uint8_t length = *(curPtr + 1);
    if (length + 2 > tlvDataLength)
    {
        return TLVRecordType(NULL);
    }

    return TLVRecordType(curPtr, type, length);
}