press_pixels;
          lzma_info.avail_out=LZMAMaxExtent(packet_size*image->columns);
          code=lzma_code(&lzma_info,LZMA_FINISH);
          length=(size_t) (lzma_info.next_out-compress_pixels);
          if (length != 0)
            {
              (void) WriteBlobMSBLong(image,(unsigned int) length);
              (void) WriteBlob(image,length,compress_pixels);
            }
          if (code == LZMA_STREAM_END)
            break;
        }
        lzma_end(&lzma_info);
        break;
      }
#endif
#if defined(MAGICKCORE_ZLIB_DELEGATE)
      case LZWCompression:
      case ZipCompression:
      {
        int
          code;

        for ( ; ; )
        {
          if (status == MagickFalse)
            break;
          zip_info.next_out=compress_pixels;
          zip_info.avail_out=(uInt) ZipMaxExtent(packet_size*image->columns);
          code=deflate(&zip_info,Z_FINISH);
          length=(size_t) (zip_info.next_out-compress_pixels);
          if (length != 0)
            {
              (void) WriteBlobMSBLong(image,(unsigned int) length);
              (void) WriteBlob(image,length,compress_pixels);
            }
          if (code == Z_STREAM_END)
            break;
        }
        (void) deflateEnd(&zip_info);
        break;
      }
#endif
      default:
        break;
    }
    compress_pixels=(unsigned char *) RelinquishMagickMemory(compress_pixels);
    quantum_info=DestroyQuantumInfo(quantum_info);
    if (status == MagickFalse)
      break;
    if (image->next == (Image *) NULL)
      break;
    image=SyncNextImageInList(image);
    if (image->scene == 0)
      {
        (void) FormatLocaleString(buffer,MagickPathExtent,
          "iterations=%.20g  delay=%.20g  ticks-per-second=%.20g\n",(double)
          image->iterations,(double) image->delay,(double) image->ticks_per_second);
        (void) WriteBlobString(image,buffer);
      }
    else
      {
        (void) FormatLocaleString(buffer,MagickPathExtent,
          "scene=%.20g  iterations=%.20g  delay=%.20g  ticks-per-second=%.20g\n",
          (double) image->scene,(double) image->iterations,(double)
          image->delay,(double) image->ticks_per_second);
        (void) WriteBlobString(image,buffer);
      }
    if (image->next == (Image *) NULL)
      break;
    (void) WriteBlobString(image,"\f\n");
    (void) WriteBlobString(image,"\032");
    if (image->next == (Image *) NULL)
      break;
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) WriteBlobString(image,"\032");
    (void) Write