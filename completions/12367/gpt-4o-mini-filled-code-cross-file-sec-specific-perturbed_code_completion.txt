if (avctx->codec_id == AV_CODEC_ID_HYMT) {
        if (buf_size < 16) // Ensure there is enough data for slice information
            return AVERROR_INVALIDDATA;

        slices_info_offset = 12; // Assuming slice info starts at offset 12
        nb_slices = AV_RL32(buf + slices_info_offset); // Read number of slices
        slice_height = height / nb_slices; // Calculate slice height

        if (nb_slices <= 0 || slice_height <= 0 || (height % nb_slices) != 0) {
            return AVERROR_INVALIDDATA; // Validate slice parameters
        }
    } else {
        nb_slices = 1; // Default to a single slice
        slice_height = height; // Full height for a single slice
        slices_info_offset = 0; // No slice info offset for single slice
    }