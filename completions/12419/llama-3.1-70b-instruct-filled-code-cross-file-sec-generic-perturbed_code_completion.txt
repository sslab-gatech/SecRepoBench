id = xmlHashLookup(idtable, attr->name);
if (id == NULL) return(-1);
ID = xmlNodeListGetString(doc, attr->children, 1);
if (ID == NULL) return(-1);
xmlHashRemoveEntry(idtable, ID, xmlFreeIDTableEntry);
xmlFree(ID);
id->name = attr->name;
id->attr = NULL;
return(0);