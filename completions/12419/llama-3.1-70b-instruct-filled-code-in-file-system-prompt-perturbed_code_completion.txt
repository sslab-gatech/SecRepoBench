id = xmlSearchID(reader->node->doc, reader->node->parent, ID);
if (id!= NULL) {
    id->name = xmlStrdup(attr->name);
    id->attr = attr;
} else {
    id = xmlNewID(reader->node->doc, reader->node->parent, ID);
    if (id == NULL) {
        xmlGenericError(xmlGenericErrorContext, "xmlNewID failed!\n");
        return(-1);
    }
    id->value = xmlStrdup(ID);
    id->name = xmlStrdup(attr->name);
    id->attr = attr;
}
return(0);