if (idtable == NULL)
        return(-1);

    ID = xmlNodeListGetString(doc, attr->children, 1);
    if (ID == NULL)
        return(-1);

    id = xmlHashLookup(idtable, ID);
    xmlFree(ID);
    if ((id == NULL) || (id->attr != attr)) {
        return(-1);
    }

    id->name = attr->name;
    id->attr = NULL;
    attr->atype = 0;

    return(0);