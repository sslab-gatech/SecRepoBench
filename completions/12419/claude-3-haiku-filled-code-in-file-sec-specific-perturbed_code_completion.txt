static int
xmlTextReaderRemoveID(xmlDocPtr doc, xmlAttrPtr attr) {
    xmlIDTablePtr idtable;
    xmlIDPtr id;
    xmlChar *ID;

    if (doc == NULL) return(-1);
    if (attr == NULL) return(-1);
    idtable = (xmlIDTablePtr) doc->ids;
    // Retrieve the ID table from the document. If it is NULL, return an error code.
    if (idtable == NULL) return(-1);
    // Extract the string value from the attribute's children nodes to use as the ID.
    ID = xmlNodeListGetString(doc, attr->children, 1);
    if (ID == NULL) return(-1);
    // Look up the ID in the ID table using the extracted string.
    id = (xmlIDPtr) xmlHashLookup(idtable, ID);
    // Free the memory allocated for the ID string after the lookup.
    xmlFree(ID);
    // If the ID is not found or the attribute does not match, return an error code.
    if (id == NULL || id->attr != attr) return(-1);
    // Update the ID entry by setting the ID's name to the attribute's name.
    DICT_FREE(id->name);
    id->name = xmlStrdup(attr->name);
    // Disassociate the attribute from the ID entry by setting the ID's attribute to NULL.
    id->attr = NULL;
    // Return success code after successfully updating the ID entry.
    return(0);
}