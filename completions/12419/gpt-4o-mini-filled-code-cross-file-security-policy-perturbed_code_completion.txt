ID = xmlNodeListGetString(doc, attr->children, 1);
    if (ID == NULL)
        return(-1);

    id = xmlHashLookup(idtable, ID);
    xmlFree(ID);
    ID = NULL; // Reset ID to prevent accidental reuse

    if (id == NULL || id->attr != attr) {
        return(-1);
    }

    id->name = attr->name; // Update the ID entry with the attribute's name
    attr->name = NULL; // Disassociate the attribute from the ID entry
    id->attr = NULL; // Disassociate the attribute from the ID entry
    return(0);