id = xmlHashLookup(table, ID);
if (id == NULL || id->attr!= attr) {
    xmlFree(ID);
    return(-1);
}

xmlHashRemoveEntry(table, ID, xmlFreeIDTableEntry);
xmlFree(ID);
attr->atype = 0;
id->name = (xmlChar *)xmlStrdup(attr->name);
id->attr = NULL;
return(0);