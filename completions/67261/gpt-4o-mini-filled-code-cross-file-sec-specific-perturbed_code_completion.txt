char *dst = (char *)malloc(buffer_length + 1); // Allocate memory for the processed data
    if (!dst) {
        return NULL; // Check for allocation failure
    }
    memset(dst, 0, buffer_length + 1); // Initialize the allocated memory

    // Process the input data and copy it to the destination buffer
    strncpy(dst, (const char *)data, buffer_length);
    dst[buffer_length] = '\0'; // Null-terminate the string

    // Strip leading whitespace characters
    char *start = dst;
    while (*start && isspace((unsigned char)*start)) {
        start++;
    }

    // Move the stripped string to the beginning of the buffer
    if (start != dst) {
        memmove(dst, start, strlen(start) + 1);
    }

    // Check for specific formats and return appropriate MIME types