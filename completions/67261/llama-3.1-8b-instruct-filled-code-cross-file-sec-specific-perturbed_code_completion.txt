// <MASK>
// Allocate memory for the processed data and assign pointers to it.
u8 *processed_data = gf_malloc(res_size);
if (!processed_data) {
    return GF_OUT_OF_MEM;
}
memcpy(processed_data, data, res_size);

// Strip leading whitespace characters from the processed data.
u8 *ptr = processed_data;
while (ptr < processed_data + res_size && (ptr[0] =='' || ptr[0] == '\t' || ptr[0] == '\n')) {
    ptr++;
}

// Define a macro to facilitate returning a MIME type and freeing allocated memory when a format is identified.
#define PROBE_OK(type, mime) \
    do { \
        if (type == GF_FPROBE_SUPPORTED) { \
            gf_log(GF_LOG_DEBUG, GF_LOG_DASH, "Format %s is supported\n", mime); \
        } else if (type == GF_FPROBE_MAYBE_SUPPORTED) { \
            gf_log(GF_LOG_DEBUG, GF_LOG_DASH, "Format %s is maybe supported\n", mime); \
        } \
        if (dst) gf_free(dst); \
        return NULL; \
    } while (0)

// <MASK>