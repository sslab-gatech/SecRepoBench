// Skip leading whitespace characters
	u32 i = 0;
	while (i < buffer_length && (data[i] == ' ' || data[i] == '\n' || data[i] == '\t')) {
		i++;
	}

	// Define a macro to facilitate returning a MIME type and freeing allocated memory when a format is identified
#define PROBE_RETURN_MIME_TYPE(mime_type) do { \
	if (dst) gf_free(dst); \
	return mime_type; \
} while (0)

	// Process the data buffer and identify the format
	// ... (rest of the code)