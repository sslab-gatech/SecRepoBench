char *dst = NULL;
	u32 res_size = buffer_length;
	s32 uni_type;

#define PROBE_OK(_sc, _type) {*score = _sc; return _type;}

	uni_type = gf_text_get_utf_type(NULL, data);
	if (uni_type>1) {
		const u16 *sptr;
		dst = (char*)gf_malloc(sizeof(char)*2*buffer_length);
		res_size = (u32) gf_fread(dst, 2*buffer_length - 1, data);
		dst[res_size]=0;
		sptr = (u16*)dst;
		/*res_size = (u32) */gf_utf8_wcstombs(dst, res_size, &sptr);
		data = dst;
	}

	while (res_size && strchr("\n\r\t ", (char) data[0])) {
		data++;
		res_size--;
	}