// Validate indices to prevent out-of-bounds access
    if (t == NULL || setIndex < 0 || setIndex >= t->nPatches || nField < 0 || nField >= t->nSamples) {
        return NULL; // Return NULL if indices are invalid
    }