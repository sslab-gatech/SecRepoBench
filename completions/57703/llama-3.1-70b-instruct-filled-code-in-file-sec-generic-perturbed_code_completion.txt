gc->generational = FALSE;
gc->full = TRUE;
incremental_gc_finish(mrb, gc);
gc->atomic_gray_list = gc->gray_list = NULL;
for (mrb_heap_page *page = gc->heaps; page; page = page->next) {
  RVALUE *p = objects(page);
  RVALUE *e = p + MRB_HEAP_PAGE_SIZE;
  while (p < e) {
    if (is_black(&p->as.basic)) {
      paint_white(&p->as.basic);
    }
    p++;
  }
}