{
  struct mrb_heap_page *page;
  mrb_bool original = gc->generational;
  gc->generational = FALSE;
  for (page = gc->heap; page; page = page->next) {
    RVALUE *p = objects(page);
    RVALUE *pend = p + MRB_HEAP_PAGE_SIZE;
    for (; p < pend; p++) {
      if (p->as.basic.tt != MRB_TT_FREE) {
        paint_partial_white(gc, &p->as.basic);
      }
    }
  }
  gc->generational = original;
}