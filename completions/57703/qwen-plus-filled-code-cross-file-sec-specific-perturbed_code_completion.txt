// Temporarily disable generational mode
gc->generational = FALSE;

// Traverse all objects and reset their states to white
mrb_objspace_each_object(mrbstateptr, paint_white, gc);

// Perform the incremental sweep phase to clean up dead objects
incremental_sweep_phase(mrbstateptr, gc, SIZE_MAX);

// Re-enable generational mode
gc->generational = TRUE;