static MagickBooleanType IsColorCacheInstantiated(ExceptionInfo *exception)
{
  if (color_cache == (LinkedListInfo *) NULL)
  {
    if (color_semaphore == (SemaphoreInfo *) NULL)
      ActivateSemaphoreInfo(&color_semaphore);
    LockSemaphoreInfo(color_semaphore);
    if (color_cache == (LinkedListInfo *) NULL)
      color_cache=AcquireColorCache(ColorFilename,exception);
    UnlockSemaphoreInfo(color_semaphore);
  }
  return(color_cache != (LinkedListInfo *) NULL ? MagickTrue : MagickFalse);
}