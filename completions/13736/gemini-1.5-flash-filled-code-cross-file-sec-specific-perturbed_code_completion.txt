hb_vector_t<uint8_t> offsets;
    unsigned int offset = 0;
    offsets.alloc (fdCount * offsetSize);
    for (unsigned int i = 0; i < fontDicts.length; i++) {
      if (fdmap.includes (i)) {
        unsigned int index = fdmap[i];
        memcpy (offsets.get() + index * offsetSize, &offset, offsetSize);
        offset += fontDicts[i].serialized_size (opszr, privateInfos[index]);
      }
    }