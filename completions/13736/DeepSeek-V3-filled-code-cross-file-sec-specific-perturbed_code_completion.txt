unsigned int offset = 1;
unsigned int *offsets = (unsigned int *) c->allocate_size<unsigned int> (offsetSize * (fdCount + 1));
if (unlikely (!offsets)) return_trace (false);

offsets[0] = 1;
for (unsigned int i = 0, j = 0; i < fontDicts.length; i++)
{
  if (fdmap.includes (i))
  {
    offsets[j + 1] = offsets[j] + FontDict::calculate_serialized_size (fontDicts[i], opszr, privateInfos[fdmap[i]]);
    j++;
  }
}