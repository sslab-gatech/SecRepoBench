// Allocate memory for storing offsets of font dictionaries based on the offset size and count of font dictionaries.
    unsigned int *offsets = c->allocate_array<unsigned int> (fdCount + 1);
    if (unlikely (!offsets)) return_trace (false);

    // Initialize offset tracking variables for serialization of font dictionary offsets.
    unsigned int currentOffset = 1; // Start with 1 as per CFF specification
    offsets[0] = currentOffset;

    // Iterate through each font dictionary, checking if it is included in the remap.
    for (unsigned int i = 0; i < fontDicts.length; i++)
    {
      if (fdmap.includes (i))
      {
        // Compute and accumulate the serialized size of each included font dictionary into the offset variable.
        unsigned int dictSize = FontDict::calculate_serialized_size (fontDicts[i], opszr);
        currentOffset += dictSize;
        offsets[fdmap[i] + 1] = currentOffset;
      }
    }

    // Update the last offset to mark the end of the serialized data for font dictionaries.
    this->offsets.set (offsets, fdCount + 1);