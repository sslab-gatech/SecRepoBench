template <typename OP_SERIALIZER, typename DICTVAL>
static unsigned int calculate_serialized_size (unsigned int &offSize_ /* OUT */,
					       const hb_vector_t<DICTVAL> &fontDicts,
					       unsigned int fdCount,
					       const remap_t &fdmap,
					       OP_SERIALIZER& opszr)
{
  unsigned int dictsSize = 0;
  for (unsigned int i = 0; i < fontDicts.length; i++)
    if (fdmap.includes (i))
      dictsSize += FontDict::calculate_serialized_size (fontDicts[i], opszr);

  offSize_ = calcOffSize (dictsSize);
  return CFFIndex<COUNT>::calculate_serialized_size (offSize_, fdCount, dictsSize);
}