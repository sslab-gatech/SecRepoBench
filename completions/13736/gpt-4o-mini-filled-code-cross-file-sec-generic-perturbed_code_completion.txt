unsigned int lastOffset = 0;
    unsigned int totalSize = 0;

    for (unsigned int i = 0; i < fontDicts.length; i++) {
        if (fdmap.includes(i)) {
            // Calculate the size of the current font dictionary
            unsigned int currentSize = fontDicts[i].getSize(); // Assuming getSize() returns the size of the font dictionary
            totalSize += currentSize;

            // Set the offset for the current font dictionary
            unsigned int currentOffset = lastOffset + (i * offsetSize);
            c->set_offset(i, currentOffset); // Assuming set_offset() sets the offset for the font dictionary

            // Update lastOffset for the next iteration
            lastOffset = currentOffset + currentSize;
        }
    }