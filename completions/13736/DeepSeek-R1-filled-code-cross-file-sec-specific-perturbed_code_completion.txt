if (unlikely (!c->allocate_size<void> ((fdCount + 1) * offsetSize))) return_trace (false);
    char *offset_p = (char *) c->head;
    unsigned int current_offset = 1;
    for (unsigned int i = 0; i < fontDicts.length; i++)
    {
      if (!fdmap.includes (i)) continue;
      set_offset (offset_p, current_offset, offsetSize);
      offset_p += offsetSize;
      unsigned int dict_size = FontDict::calculate_serialized_size (fontDicts[i], opszr, privateInfos[fdmap[i]]);
      current_offset += dict_size;
    }
    set_offset (offset_p, current_offset, offsetSize);