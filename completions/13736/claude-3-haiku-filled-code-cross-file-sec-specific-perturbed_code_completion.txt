unsigned int offset = 0;
for (unsigned int i = 0; i < fontDicts.length; i++)
{
    if (fdmap.includes (i))
    {
        this->offsets[i].set (offset);
        FontDict *dict = c->start_embed<FontDict> ();
        if (unlikely (!dict->serialize (c, fontDicts[i], opszr, privateInfos[fdmap[i]])))
            return_trace (false);
        offset += dict->get_size ();
    }
}
this->offsets[fontDicts.length].set (offset);