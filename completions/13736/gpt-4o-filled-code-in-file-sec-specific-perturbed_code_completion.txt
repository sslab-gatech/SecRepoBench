if (!unlikely (c->allocate_size<HBUINT8> (offsetSize * (fdCount + 1))))
      return_trace (false);

    unsigned int offset = 1;
    for (unsigned int i = 0; i < fontDicts.length; i++)
      if (fdmap.includes (i))
      {
        CFFIndexOf<COUNT, FontDict>::set_offset_at (fdmap[i], offset);
        offset += FontDict::calculate_serialized_size (fontDicts[i], opszr, privateInfos[i]);
      }
    CFFIndexOf<COUNT, FontDict>::set_offset_at (fdCount, offset);