hb_vector_t<uint8_t> offsets (fdCount * offsetSize);
    unsigned int offset = 0;
    unsigned int lastOffset = 0;
    for (unsigned int i = 0; i < fontDicts.length; i++)
      if (fdmap.includes (i))
      {
	unsigned int index = fdmap[i];
	memcpy (offsets.data () + index * offsetSize, &offset, offsetSize);
	offset += fontDicts[i].serialized_size (opszr, privateInfos[index]);
	lastOffset = offset;
      }
    this->offsets.set (offsets);
    this->lastOffset.set (lastOffset);