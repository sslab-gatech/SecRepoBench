unsigned int offset = 0;
    hb_vector_t<unsigned int> offsets (fdCount);
    for (unsigned int i = 0; i < fontDicts.length; i++)
      if (fdmap.includes (i))
      {
	offsets[fdmap[i]] = offset;
	offset += FontDict::calculate_serialized_size (fontDicts[i], opszr, privateInfos[fdmap[i]]);
      }
    this->offsets.set (offsets);