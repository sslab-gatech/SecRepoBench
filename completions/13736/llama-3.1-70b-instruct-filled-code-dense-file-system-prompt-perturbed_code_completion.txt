if (!unlikely (c->allocate_size<HBUINT8> (offSize * (fdCount + 1))))
  return_trace (false);

unsigned int  offset = 1;
for (unsigned int fid = 0; fid < fdCount; fid++)
{
  if (fdmap.includes (fid))
  {
    FontDict *dict = c->start_embed<FontDict> ();
    offset += FontDict::calculate_serialized_size (fontDicts[fid], opszr);
  }
}
CFFIndexOf<COUNT, FontDict>::set_offset_at (fdCount, offset);