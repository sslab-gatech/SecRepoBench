{
  if (unlikely (!this->offset.resize (fdCount + 1)))
    return_trace (false);

  unsigned int currentOffset = 1;
  unsigned int idx = 0;
  for (unsigned int i = 0; i < fontDicts.length; i++)
  {
    if (fdmap.includes (i))
    {
      this->offset[idx].set (currentOffset, offsetSize);
      unsigned int dictSize = FontDict::calculate_serialized_size (fontDicts[i], opszr);
      currentOffset += dictSize;
      idx++;
    }
  }
  this->offset[fdCount].set (currentOffset, offsetSize);
}