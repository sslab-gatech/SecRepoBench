// Allocate memory for storing offsets of font dictionaries based on the offset size and count of font dictionaries.
this->offsets = c->allocate_array<uint8_t> (this->count, offsetSize);
// Initialize offset tracking variables for serialization of font dictionary offsets.
unsigned int offset = 0;
// Iterate through each font dictionary, checking if it is included in the remap.
for (unsigned int i = 0; i < fontDicts.length; i++)
  if (fdmap.includes (i))
  {
    // For included font dictionaries, set their respective offsets in a serializable format.
    if (offsetSize == 1) this->offsets[i] = offset;
    else if (offsetSize == 2) this->offsets[i] = offset >> 8;
    else if (offsetSize == 3) {
      this->offsets[i*3] = offset >> 16;
      this->offsets[i*3+1] = offset >> 8;
      this->offsets[i*3+2] = offset;
    } else {
      this->offsets[i*4] = offset >> 24;
      this->offsets[i*4+1] = offset >> 16;
      this->offsets[i*4+2] = offset >> 8;
      this->offsets[i*4+3] = offset;
    }
    // Compute and accumulate the serialized size of each included font dictionary into the offset variable.
    offset += FontDict::calculate_serialized_size (fontDicts[i], opszr);
  }
// Update the last offset to mark the end of the serialized data for font dictionaries.
this->offSize.set (offsetSize);