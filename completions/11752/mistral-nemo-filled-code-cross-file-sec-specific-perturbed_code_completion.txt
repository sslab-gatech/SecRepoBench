if (child->type == RE_NODE_NON_GREEDY_RANGE_ANY &&
    child->range > THRESHOLD) {
  RE_AST* new_re_ast = yr_re_ast_create();
  RE_NODE* new_node = yr_re_node_create(RE_NODE_CONCAT);

  yr_re_node_append_child(new_node, child->prev_sibling);
  yr_re_node_append_child(new_node, child->next_sibling);

  new_re_ast->root_node = new_node;
  *remainder_re_ast = new_re_ast;

  *min_gap = child->range_min;
  *maximumgap = child->range_max;

  child->prev_sibling->next_sibling = NULL;
  child->next_sibling->prev_sibling = NULL;

  yr_re_node_destroy(child);
  *result_re_ast = re_ast;

  return ERROR_SUCCESS;
}