if (ch >= '0' && ch <= '9') {
          y = ch - '0';
      } else if (ch >= 'A' && ch <= 'Z') {
          y = ch - 'A' + 10;
      } else if (ch >= 'a' && ch <= 'z') {
          y = ch - 'a' + 36;
      } else {
          return FP_VAL; // Invalid character for the specified radix
      }

      if (y >= radix) {
          return FP_VAL; // Character value exceeds the radix
      }

      /* Add the digit to the number */
      int ret = fp_mul_d(a, (fp_digit)radix, a);
      if (ret != FP_OKAY) {
          return ret; // Error in multiplication
      }
      ret = fp_add_d(a, (fp_digit)y, a);
      if (ret != FP_OKAY) {
          return ret; // Error in addition
      }
      k++;
  }