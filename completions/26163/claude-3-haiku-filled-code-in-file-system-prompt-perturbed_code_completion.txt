/* grab next digit as required */
if (--bitcnt == 0) {
  /* if digidx == -1 we are out of digits so break */
  if (digidx == -1) {
    break;
  }
  /* read next digit and reset bitcnt */
  buf    = X->dp[digidx--];
  bitcnt = (int)DIGIT_BIT;
}

/* grab the next msb from the exponent */
y     = (int)(buf >> (DIGIT_BIT - 1)) & 1;
buf <<= (fp_digit)1;