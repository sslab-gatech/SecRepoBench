ch = (char)((radix <= 36) ? XTOUPPER((unsigned char)*str) : *str);
      for (y = 0; y < 64; y++) {
        if (ch == fp_s_rmap[y]) {
           break;
        }
      }

      /* if the char was found in the map
       * and is less than the given radix add it
       * to the number, otherwise exit the loop.
       */
      if (y < radix) {
        fp_digit digit_value = (fp_digit)y;
        fp_digit current_digit_value = fp_digit(1) << (k % FP_DIGIT_BIT);
        fpnumber->dp[k / FP_DIGIT_BIT] |= (digit_value * current_digit_value);
        k++;
      } else {
        break;
      }