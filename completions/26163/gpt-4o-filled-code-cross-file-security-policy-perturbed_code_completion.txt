if (ch >= '0' && ch <= '9') {
          ch = ch - '0';
      } else if (ch >= 'A' && ch <= 'F') {
          ch = ch - 'A' + 10;
      } else if (ch >= 'a' && ch <= 'f') {
          ch = ch - 'a' + 10;
      } else {
          return FP_VAL; // Invalid character for radix 16
      }

      // Calculate the position in the array
      int pos = j / (int)(sizeof(fp_digit) * 2);
      int shift = (j % (int)(sizeof(fp_digit) * 2)) * 4;

      // Ensure pos is within bounds
      if (pos >= FP_SIZE) {
          return FP_VAL; // Exceeds maximum size
      }

      // Update the array dp
      fpnumber->dp[pos] |= ((fp_digit)ch << shift);

      // Update the number of digits used
      if (pos > k) {
          k = pos;
      }

      // Move to the next bit position
      j++;