contour_points.resize (num_contours * 2);
    if (unlikely (contour_points.length != num_contours * 2)) return false;

    for (unsigned i = 0; i < num_contours; i++)
    {
      contour_points.arrayZ[i * 2].flag = 0;
      contour_points.arrayZ[i * 2 + 1].flag = 0;
      contour_points.arrayZ[i * 2].x = endPtsOfContours[i].x;
      contour_points.arrayZ[i * 2].y = endPtsOfContours[i].y;
      contour_points.arrayZ[i * 2 + 1].x = endPtsOfContours[i + 1].x;
      contour_points.arrayZ[i * 2 + 1].y = endPtsOfContours[i + 1].y;
    }

    if (phantom_only) return true;