unsigned int num_points = 0;
if (num_contours > 0)
{
    if (unlikely (num_contours > endPtsOfContours.length)) return false;
    num_points = endPtsOfContours[num_contours - 1] + 1;
}
num_points += 4; // Add phantom points

if (unlikely (!contour_points.resize (num_points))) return false;

if (phantom_only)
    return true;