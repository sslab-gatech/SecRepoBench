unsigned int actual_points = 0;
if (num_contours > 0)
{
  for (unsigned int i = 0; i < num_contours; i++)
  {
    if (i > 0 && endPtsOfContours[i] <= endPtsOfContours[i-1])
      return false;
  }
  actual_points = endPtsOfContours[num_contours - 1] + 1;
}
unsigned int total_points = actual_points + 4;
if (unlikely (!contour_points.resize (total_points)))
  return false;

if (phantom_only)
  return true;