contour_points.resize (num_contours + 1); // Resize the vector to accommodate all contour points including phantom points.
    if (unlikely (!contour_points)) return false; // Ensure memory allocation was successful.

    for (unsigned int i = 0; i <= num_contours; ++i)
    {
      contour_points[i].flag = 0; // Initialize flags to zero.
      contour_points[i].x = 0;    // Initialize x-coordinate to zero.
      contour_points[i].y = 0;    // Initialize y-coordinate to zero.
    }

    if (phantom_only) return true; // If phantom_only is true, skip reading actual points and return true.

    const HBUINT8 *start = &StructAtOffset<HBUINT8> (&endPtsOfContours[0], 0);
    if (unlikely ((const char *) start < bytes.arrayZ || start > p)) return false;

    unsigned int count = endPtsOfContours[num_contours] + 1;
    contour_points.resize (count); // Resize the vector to include all actual points.
    if (unlikely (!contour_points)) return false;

    for (unsigned int i = 0; i < count; ++i)
    {
      contour_points[i].index = i; // Set the index of each point.
    }