if (unlikely (!num_contours)) return true;

    unsigned num_points = endPtsOfContours[num_contours - 1] + 1;
    if (unlikely (!contour_points.resize (num_points))) return false;

    if (phantom_only) return true;

    for (unsigned i = 0; i < num_contours; i++)
    {
      unsigned end_point = endPtsOfContours[i];
      if (unlikely (end_point >= num_points)) return false;
      contour_points.arrayZ[end_point].is_end_point = true;
    }