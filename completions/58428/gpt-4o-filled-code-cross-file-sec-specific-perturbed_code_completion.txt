// Ensure the contour_points vector is cleared before use
    contour_points.clear();

    // Validate the number of contours
    if (num_contours <= 0) return false;

    // Retrieve the end points of the contours from the header
    const HBUINT16 *endPts = &endPtsOfContours[0];

    // Validate the range of end points
    for (int i = 0; i < num_contours; ++i) {
        if (endPts[i] >= endPtsOfContours[num_contours]) {
            return false; // Invalid end point
        }
    }

    // Allocate memory for the contour points
    size_t total_points = endPtsOfContours[num_contours] + (phantom_only ? 0 : num_contours);
    contour_points.reserve(total_points);

    // Set the end points of each contour in the points array
    for (int i = 0; i < num_contours; ++i) {
        contour_points.push_back(contour_point_t{endPts[i], 0});
    }

    // If phantom_only is true, skip the process of reading the actual points
    if (phantom_only) {
        return true;
    }