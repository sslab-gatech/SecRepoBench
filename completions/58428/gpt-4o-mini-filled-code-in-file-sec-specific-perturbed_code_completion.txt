unsigned num_contours = header.numberOfContours;
    if (num_contours == 0) return false;

    contour_points.length = num_contours + (phantom_only ? 0 : 1);
    if (!contour_points.alloc(contour_points.length, true)) return false;

    for (unsigned i = 0; i < num_contours; i++)
    {
        contour_points.arrayZ[i].flag = 0; // Initialize flags
        contour_points.arrayZ[i].x = 0;    // Initialize x coordinate
        contour_points.arrayZ[i].y = 0;    // Initialize y coordinate
    }

    if (!phantom_only)
    {
        contour_points.arrayZ[num_contours].flag = 0; // Initialize phantom point flag
        contour_points.arrayZ[num_contours].x = 0;    // Initialize phantom point x
        contour_points.arrayZ[num_contours].y = 0;    // Initialize phantom point y
    }