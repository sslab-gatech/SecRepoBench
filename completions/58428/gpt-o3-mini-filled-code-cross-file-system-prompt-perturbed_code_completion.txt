unsigned total_points = endPtsOfContours[num_contours];
contour_points.length = total_points;
for (unsigned i = 0; i < num_contours; i++) {
    unsigned end_pt = endPtsOfContours[i];
    if (end_pt < total_points)
        contour_points.arrayZ[end_pt].flag |= 0x80;  // Mark this point as the end of a contour
}
if (phantom_only)
    return true;