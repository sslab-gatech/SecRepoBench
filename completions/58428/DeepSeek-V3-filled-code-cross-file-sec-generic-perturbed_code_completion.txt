if (unlikely (num_contours == 0))
    {
      contour_points.resize (0);
      return true;
    }

    unsigned count = endPtsOfContours[num_contours - 1] + 1;
    if (phantom_only)
    {
      contour_points.resize (count);
      return true;
    }

    unsigned total_points = count + PHANTOM_COUNT;
    if (unlikely (total_points > HB_GLYF_MAX_POINTS))
      return false;

    contour_points.resize (total_points);