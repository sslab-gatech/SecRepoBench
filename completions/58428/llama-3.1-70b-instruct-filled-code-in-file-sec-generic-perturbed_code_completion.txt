// Initialize the contour points based on the end points of the contours.
// Retrieve the end points of the contours from the header and validate the range.
// Allocate memory for the contour points, including space for phantom points.
// Set the end points of each contour in the points array.
// If phantom_only is true, skip the process of reading the actual points.

unsigned int num_contours = header.numberOfContours;
contour_points.resize (num_contours + 1);
for (unsigned int i = 0; i <= num_contours; i++)
  contour_points[i] = endPtsOfContours[i];

if (phantom_only) return true;

// Allocate memory for the contour points, including space for phantom points.
contour_point_vector_t points;
points.resize (contour_points[num_contours] + 1);

// Set the end points of each contour in the points array.
for (unsigned int i = 0; i < num_contours; i++)
{
  points[contour_points[i]].flag = FLAG_ON_CURVE;
  points[contour_points[i+1]].flag = FLAG_ON_CURVE;
}