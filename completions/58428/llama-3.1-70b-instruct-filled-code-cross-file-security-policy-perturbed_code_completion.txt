// Initialize the contour points based on the end points of the contours.
contour_points.reserve(num_contours + 1);
contour_points.resize(num_contours + 1);

// Retrieve the end points of the contours from the header and validate the range.
if (unlikely (num_contours > endPtsOfContours[num_contours]))
  return false;

// Allocate memory for the contour points, including space for phantom points.
if (phantom_only)
  {
    contour_points.reserve(endPtsOfContours[num_contours] + 1);
    contour_points.resize(endPtsOfContours[num_contours] + 1);
  }
else
  {
    contour_points.reserve(endPtsOfContours[num_contours] + num_contours);
    contour_points.resize(endPtsOfContours[num_contours] + num_contours);
  }

// Set the end points of each contour in the points array.
for (HBUINT16 i = 0; i < num_contours; i++)
  {
    contour_points[i].x = 0;
    contour_points[i].y = 0;
  }