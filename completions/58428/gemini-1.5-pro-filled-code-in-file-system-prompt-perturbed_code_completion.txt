unsigned int num_contours = header.numberOfContours;
    if (unlikely (!num_contours)) return true;

    const HBUINT16 *endPtsOfContours = &StructAtOffset<HBUINT16> (&bytes, GlyphHeader::static_size);
    unsigned int num_points = endPtsOfContours[num_contours - 1] + 1;

    contour_points.resize (num_points + 4); // + phantom points

    for (unsigned int i = 0; i < num_contours; i++)
      contour_points.arrayZ[endPtsOfContours[i]].end_point = true;

    if (phantom_only) return true;