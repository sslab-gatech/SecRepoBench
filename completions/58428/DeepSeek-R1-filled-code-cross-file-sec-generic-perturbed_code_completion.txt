if (num_contours > 0)
{
    unsigned last_end = 0;
    for (unsigned i = 0; i < num_contours; i++)
    {
        unsigned end = endPtsOfContours[i];
        if (unlikely (end < last_end || (i > 0 && end < endPtsOfContours[i-1])))
            return false;
        last_end = end;
    }
    unsigned actual_points = last_end + 1;
    if (unlikely (!contour_points.resize (actual_points + 4)))
        return false;
}
else
{
    if (unlikely (!contour_points.resize (4)))
        return false;
}

if (phantom_only)
    return true;