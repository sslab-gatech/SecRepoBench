if (num_contours == 0)
  return false;

for (unsigned int i = 0; i < num_contours; i++) {
  if (i > 0 && endPtsOfContours[i] <= endPtsOfContours[i-1])
    return false;
}

unsigned int last_end = endPtsOfContours[num_contours - 1];
contour_points.resize(last_end + 1 + 4); // +4 for phantom points

if (phantom_only)
  return true;