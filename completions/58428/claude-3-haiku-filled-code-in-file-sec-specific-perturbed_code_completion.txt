// Initialize the contour points based on the end points of the contours.
unsigned int num_contours = header.numberOfContours;
if (unlikely (num_contours > contour_points.allocated)) return false;

contour_point_vector_t::item_t *points = contour_points.arrayZ;
for (unsigned int i = 0; i < num_contours; i++)
{
  unsigned int end_point = StructAtOffset<HBUINT16> (&bytes, GlyphHeader::static_size + 2 * i);
  points[end_point].flag = FLAG_ON_CURVE;
}

if (phantom_only)
  return true;