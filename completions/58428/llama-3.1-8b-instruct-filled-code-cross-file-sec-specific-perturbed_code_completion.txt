// <MASK>
if (phantom_only) {
  // If phantom_only is true, we don't need to read the actual points, so we can just return true.
  return true;
}

// If phantom_only is false, we need to read the actual points.
// First, we need to check if the current tuple has data.
if (!has_data()) {
  // If the current tuple doesn't have data, we can return false.
  return false;
}

// Next, we need to check if the current tuple is valid.
if (!is_valid()) {
  // If the current tuple is not valid, we can return false.
  return false;
}

// Now, we can unpack the deltas for the current tuple.
if (!unpack_deltas(&p, deltas, end)) {
  // If unpacking the deltas fails, we can return false.
  return false;
}

// Finally, we can read the points for the current tuple.
if (!read_points(&p, contour_points, end, &contour_point_t::x, FLAG_X_SHORT, FLAG_X_SAME)
    ||!read_points(&p, contour_points, end, &contour_point_t::y, FLAG_Y_SHORT, FLAG_Y_SAME)) {
  // If reading the points fails, we can return false.
  return false;
}