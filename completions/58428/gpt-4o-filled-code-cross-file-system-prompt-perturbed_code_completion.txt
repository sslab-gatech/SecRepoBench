// Check if the number of contours is valid
    if (num_contours <= 0) return false;

    // Reserve space for contour points
    contour_points.reserve(endPtsOfContours[num_contours - 1] + 1);

    // If phantom_only is true, we only need to allocate space and return
    if (phantom_only) {
        contour_points.resize(endPtsOfContours[num_contours - 1] + 1);
        return true;
    }