// Check if the number of contours is valid
    if (num_contours == 0 || endPtsOfContours[num_contours - 1] < 0)
      return false;

    // Calculate the total number of points
    unsigned total_points = endPtsOfContours[num_contours - 1] + 1;
    if (phantom_only)
      total_points += 4; // Add space for phantom points

    // Allocate memory for contour points
    if (!contour_points.resize(total_points))
      return false;

    // Initialize contour points
    for (unsigned i = 0; i < num_contours; i++)
    {
      unsigned end_point = endPtsOfContours[i];
      if (i == 0)
        contour_points.arrayZ[end_point].flag = 1; // Mark as end point
      else
        contour_points.arrayZ[end_point].flag = 1; // Mark as end point
    }

    // If phantom_only is true, skip reading actual points
    if (phantom_only)
      return true;