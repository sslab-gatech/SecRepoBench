if (phantom_only) return true;

contour_points.resize(num_contours);
for (unsigned i = 0; i < num_contours; ++i)
{
  contour_points[i].flag = FLAG_ON_CURVE;
  contour_points[i].x = 0;
  contour_points[i].y = 0;
}

unsigned point_count = endPtsOfContours[num_contours];
contour_points.resize(point_count);

for (unsigned i = 0; i < num_contours; ++i)
{
  unsigned start = i ? endPtsOfContours[i - 1] + 1 : 0;
  unsigned end = endPtsOfContours[i];
  contour_points[end].flag |= FLAG_END_OF_CONTOUR;
}