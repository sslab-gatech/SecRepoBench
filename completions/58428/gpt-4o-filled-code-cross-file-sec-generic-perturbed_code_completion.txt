// Validate the number of contours
    if (num_contours < 0 || num_contours > MAX_CONTOURS) return false;

    // Calculate the total number of points
    unsigned total_points = endPtsOfContours[num_contours - 1] + 1;
    if (total_points > MAX_POINTS) return false;

    // Allocate memory for contour points
    contour_points.resize(total_points);

    // Initialize contour points
    for (unsigned i = 0; i < num_contours; ++i) {
        unsigned end_point = endPtsOfContours[i];
        if (i > 0 && end_point <= endPtsOfContours[i - 1]) return false;
        contour_points[end_point].on_curve = true;
    }

    // If phantom_only is true, skip reading actual points
    if (phantom_only) return true;