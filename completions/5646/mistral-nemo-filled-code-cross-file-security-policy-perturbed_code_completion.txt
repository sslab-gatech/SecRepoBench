if (strncmp(p, "url(", 4) == 0)
  {
    p += 4;
    while (isspace((int) ((unsigned char) *p)) != 0)
      p++;
    char *url_start = p;
    while (*p != '\0' && *p != ')')
      p++;
    if (*p == ')')
    {
      size_t url_length = p - url_start;
      if (i + url_length < (ssize_t) (extent - 1))
      {
        memmove(next_token, url_start, url_length);
        i += url_length;
        next_token[i] = '\0';
      }
    }
  }