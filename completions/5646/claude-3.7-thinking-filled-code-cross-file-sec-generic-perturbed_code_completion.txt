next_token[i]='\0';
if (strncmp(next_token,"url(",4) == 0)
{
  register char *q;
  
  // Skip "url(" prefix and any whitespace
  for (q=next_token+4; *q != '\0'; q++)
    if (isspace((int) ((unsigned char) *q)) == 0)
      break;
      
  // Check for optional '#' character
  if (*q == '#')
    q++;
    
  // Move the actual URL to the beginning of the token
  if (*q != '\0')
  {
    i=0;
    for ( ; *q != '\0'; q++)
    {
      if (*q == ')')  // Stop at closing parenthesis
        break;
      if (i < (ssize_t) (extent-1))
        next_token[i++]=*q;
    }
    next_token[i]='\0';  // Null-terminate again
  }
}