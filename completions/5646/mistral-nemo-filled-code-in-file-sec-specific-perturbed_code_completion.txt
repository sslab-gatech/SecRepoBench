// <MASK>
if (token_info->state == IN_QUOTE) {
  StoreToken(token_info, token, max_token_length, c);
} else {
  switch (token_info->flag & 0x03) {
    case 1:
      string[i] = (char) toupper(c);
      break;
    case 2:
      string[i] = (char) tolower(c);
      break;
    default:
      break;
  }
}
// </MASK>