/* Null-terminate the token string. */
  next_token[i]='\0';

  /* Check if the token starts with "url(" */
  if (strncmp(next_token,"url(",4) == 0)
    {
      const char
        *source = next_token+4;

      /* Skip an optional '#' character */
      if (*source == '#')
        source++;

      /* Shift the URL content (after "url(" and optional '#') to the beginning of next_token */
      memmove(next_token, source, strlen(source)+1);
    }