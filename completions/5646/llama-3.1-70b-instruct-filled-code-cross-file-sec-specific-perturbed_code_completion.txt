// Null-terminate the token string.
next_token[i]='\0';

// Check if the token starts with "url(".
if (strncmp(next_token, "url(", 4) == 0)
{
  // If true, extract the actual URL by skipping the "url(" prefix and optional '#' character.
  const char *url_start = next_token + 4;
  while (*url_start == '#')
    url_start++;

  // Then copy the URL to the beginning of the token string, replacing the original content.
  size_t url_length = strlen(url_start);
  memmove(next_token, url_start, url_length);
  next_token[url_length] = '\0';
}