// Check if the ID already exists in the hash table using the given value.
// If it exists, update the attribute to associate it with the existing ID,
// ensuring that entities continue to function correctly. Update the attribute
// type to indicate it is an ID and associate the attribute with the found ID.
// Return 0 to indicate that no new ID was created.
xmlIDPtr existingID = xmlHashLookup(table, value);
if (existingID != NULL) {
    // Update the attribute to associate it with the existing ID
    attribute->atype = XML_ATTRIBUTE_ID;
    attribute->id = existingID;
    return 0;
}