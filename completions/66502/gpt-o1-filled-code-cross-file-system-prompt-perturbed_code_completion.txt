{
    xmlIDPtr existing = (xmlIDPtr) xmlHashLookup(table, value);
    if (existing != NULL) {
        /* We found an existing ID for the given value. Update the attribute so it
         * properly references the existing ID, ensuring that entities remain valid.
         */
        attribute->atype = XML_ATTRIBUTE_ID;
        if (!streaming) {
            existing->attr = attribute;
            attribute->id = existing;
        }
        if (id != NULL)
            *id = existing;
        /* Return 0 indicating that no new ID was created. */
        return(0);
    }
}