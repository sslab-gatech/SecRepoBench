if (maxaudiochannel < min_channel) {
    av_log(m->avctx, AV_LOG_ERROR,
           "Invalid channel configuration: min_channel (%d) is greater than maxaudiochannel (%d).\n",
           min_channel, maxaudiochannel);
    return AVERROR_INVALIDDATA;
}

if (max_matrix_channel > std_max_matrix_channel) {
    av_log(m->avctx, AV_LOG_ERROR,
           "Matrix channel count %d exceeds allowed maximum %d.\n",
           max_matrix_channel, std_max_matrix_channel);
    return AVERROR_INVALIDDATA;
}

if (max_matrix_channel + 1 > (maxaudiochannel - min_channel + 1)) {
    av_log(m->avctx, AV_LOG_ERROR,
           "Matrix channels (%d) exceed available audio channels (%d).\n",
           max_matrix_channel + 1, maxaudiochannel - min_channel + 1);
    return AVERROR_INVALIDDATA;
}