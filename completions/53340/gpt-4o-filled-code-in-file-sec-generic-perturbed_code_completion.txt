if (maxaudiochannel + 1 > MAX_CHANNELS || maxaudiochannel + 1 < min_channel) {
        av_log(m->avctx, AV_LOG_ERROR, "Invalid max channel: %d\n", maxaudiochannel);
        return AVERROR_INVALIDDATA;
    }

    if (max_matrix_channel > std_max_matrix_channel) {
        av_log(m->avctx, AV_LOG_ERROR, "max_matrix_channel %d exceeds standard maximum %d\n",
               max_matrix_channel, std_max_matrix_channel);
        return AVERROR_INVALIDDATA;
    }