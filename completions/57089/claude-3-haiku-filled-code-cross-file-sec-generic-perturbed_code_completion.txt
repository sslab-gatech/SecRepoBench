// Flush the buffer if it reaches the maximum size, sending its contents as CDATA or characters using SAX callbacks.
// Reset the buffer index afterwards.
// Move to the next character in the input.
if (nbchar >= HTML_PARSER_BIG_BUFFER_SIZE) {
    buf[nbchar] = '\0';
    if (ctxt->sax != NULL && ctxt->sax->cdataBlock != NULL && !ctxt->disableSAX) {
        ctxt->sax->cdataBlock(ctxt->userData, buf, nbchar);
    } else if (ctxt->sax != NULL && ctxt->sax->characters != NULL && !ctxt->disableSAX) {
        ctxt->sax->characters(ctxt->userData, buf, nbchar);
    }
    nbchar = 0;
}
NEXT;