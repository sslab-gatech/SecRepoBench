for (index = 0; index < Tables->nCurves; index++) {
    cmsToneCurve* curve = Tables->TheCurves[index];
    if (curve == NULL) {
        return FALSE;
    }

    for (j = 0; j < curve->nEntries; j++) {
        val = curve->Table16[j];
        if (!_cmsWriteUInt16Number(io, val)) {
            return FALSE;
        }
    }
}

return TRUE;