// Write 16 bit tables as gamma functions
static
cmsBool  Write16bitTables(cmsContext ContextID, cmsIOHANDLER* io, _cmsStageToneCurvesData* Tables)
{
    cmsUInt32Number j;
    cmsUInt32Number index;
    cmsUInt16Number val;

    // Iterate over each curve in the Tables structure.
    for (index = 0; index < Tables->TheCurves[0]->nEntries; index++) {
        // For each curve, retrieve the 16-bit value from the Table16 array.
        for (j = 0; j < Tables->InputChannels; j++) {
            val = Tables->TheCurves[j]->Table16[index];
            if (!_cmsWriteUInt16Number(io, val)) return FALSE;
        }
    }

    return TRUE;
}