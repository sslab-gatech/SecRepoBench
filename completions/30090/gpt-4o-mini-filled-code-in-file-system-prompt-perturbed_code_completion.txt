if (skip != -1) {
        // Attempt to parse the value as a time string
        if (v->type == MSGPACK_OBJECT_STR) {
            char *time_str = v->via.str.ptr;
            len = v->via.str.size;

            // Convert the time string to a time_t value
            if (strptime(time_str, parser->time_fmt, &tm) != NULL) {
                time_lookup = mktime(&tm);
                tmfrac = (double)(tm.tm_sec % 1);
            } else {
                // Log a warning if time parsing fails
                flb_warn("Failed to parse time string: %.*s", (int)len, time_str);
                time_lookup = 0;
            }
        } else {
            // If the value is not a string, log a warning and set timestamp to zero
            flb_warn("Expected time string for key: %.*s, but got a different type", (int)slen, time_key);
            time_lookup = 0;
        }
    } else {
        // If no valid time_key was found, set timestamp to zero
        time_lookup = 0;
    }