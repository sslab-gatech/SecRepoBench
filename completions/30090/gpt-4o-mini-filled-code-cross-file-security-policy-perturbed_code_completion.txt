if (v->type == MSGPACK_OBJECT_STR) {
    // Attempt to parse the value as a time string
    if (v->via.str.ptr != NULL) {
        // Validate the type before processing
        if (v->type == MSGPACK_OBJECT_STR) {
            // Convert the time string to a timestamp
            if (parse_time_string(v->via.str.ptr, v->via.str.size, &time_lookup, &tmfrac) != 0) {
                flb_warn("Failed to parse time string: %.*s", (int)v->via.str.size, v->via.str.ptr);
                time_lookup = 0; // Set timestamp to zero on failure
            }
        }
    }
}