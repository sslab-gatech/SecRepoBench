if (v->type == MSGPACK_OBJECT_STR) {
    if (parser->time_fmt) {
        ret = flb_time_parse(parser->time_fmt, v->via.str.ptr, v->via.str.size,
                             &time_lookup, &tmfrac);
        if (ret == -1) {
            flb_error("[parser] time format error");
            time_lookup = 0;
        }
    }
    else {
        time_lookup = 0;
    }
}
else {
    flb_error("[parser] time field is not a string");
    time_lookup = 0;
}