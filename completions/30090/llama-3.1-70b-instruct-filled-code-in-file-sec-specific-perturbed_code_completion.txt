if (skip!= map_size) {
    if (v->type == MSGPACK_OBJECT_STR) {
        len = v->via.str.size;
        if (len >= sizeof(tmp)) {
            flb_free(mp_buf);
            *out_buf = NULL;
            msgpack_unpacked_destroy(&result);
            return -1;
        }
        strncpy(tmp, v->via.str.ptr, len);
        tmp[len] = '\0';

        ret = strptime(tmp, parser->time_fmt, &tm);
        if (ret == NULL) {
            // Log a warning here if needed
            time_lookup = 0;
        } else {
            time_lookup = mktime(&tm);
        }
    } else {
        // Log a warning here if needed
        time_lookup = 0;
    }
} else {
    time_lookup = 0;
}