GetNextToken(q, &q, length, token);
            if (*token == '\0')
              break;
            if (LocaleCompare("pop", token) != 0)
              continue;
            GetNextToken(q, &q, length, token);
            if (*token != '"')
              continue;
            end = q;
            while ((*end != '\0') && (*end != '"'))
              end++;
            if (*end == '\0')
              break;
            n = (ssize_t) (end - start);
            if (n >= (ssize_t) MagickPathExtent)
              n = MagickPathExtent - 1;
            (void) CopyMagickString(name, start, n + 1);
            (void) AddValueToSplayTree(macros, ConstantString(name),
              ConstantString(start));
            q = end + 1;