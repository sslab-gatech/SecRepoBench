if (*token == '"')
              {
                GetNextToken(q,&q,length,token);
                (void) CopyMagickString(name,token,MagickPathExtent);
                GetNextToken(q,&q,length,token);
                if (*token == '{')
                  {
                    // Handle the macro definition enclosed in braces
                    char *macro_definition = AcquireString("");
                    while (*q != '\0' && *q != '}')
                      {
                        GetNextToken(q,&q,length,token);
                        if (*token != '\0')
                          {
                            char *temp = AcquireString(macro_definition);
                            (void) FormatLocaleString(macro_definition, MagickPathExtent, "%s %s", temp, token);
                            temp = DestroyString(temp);
                          }
                      }
                    if (*q == '}')
                      {
                        // Add the macro to the splay tree
                        AddValueToSplayTree(macros, ConstantString(name), ConstantString(macro_definition));
                      }
                    macro_definition = DestroyString(macro_definition);
                  }
              }