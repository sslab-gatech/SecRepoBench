if (uc >= endptr)
                    goto out;
                switch (*uc) {
                case '"':
                case '\\':
                case '/':
                case 'b':
                case 'f':
                case 'n':
                case 'r':
                case 't':
                    uc++;
                    break;
                case 'u':
                    uc++;
                    for (i = 0; i < 4; i++) {
                        if (uc >= endptr)
                            goto out;
                        if (!((*uc >= '0' && *uc <= '9') ||
                              (*uc >= 'A' && *uc <= 'F') ||
                              (*uc >= 'a' && *uc <= 'f')))
                            goto out;
                        uc++;
                    }
                    break;
                default:
                    goto out;
                }
                continue;