if (uc == endptr)
				goto out;
			switch (*uc) {
			case '\\':
			case '"':
			case '/':
				uc++;
				break;
			case 'b':
				uc++;
				break;
			case 'f':
				uc++;
				break;
			case 'n':
				uc++;
				break;
			case 'r':
				uc++;
				break;
			case 't':
				uc++;
				break;
			case 'u':
				for (i = 0; i < 4 && uc < endptr; i++) {
					if (!json_ishex(*++uc)) {
						*ucp = uc;
						return 0;
					}
				}
				uc++;
				break;

			default:
				goto out;
			}