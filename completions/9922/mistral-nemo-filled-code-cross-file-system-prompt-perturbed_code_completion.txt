switch (*uc++) {
	case '\\':
		uc++;
		switch (*uc++) {
			case 'u':
				if (uc + 4 <= endptr && isxdigit(uc[0]) && isxdigit(uc[1]) &&
					isxdigit(uc[2]) && isxdigit(uc[3])) {
					uc += 4;
					continue;
				}
				DPRINTF("Bad \\u escape sequence: ", uc, *ucp);
				return 0;
			case '\"':
			case '\\':
			case '/':
			case 'b':
			case 'f':
			case 'n':
			case 'r':
			case 't':
				continue;
			default:
				DPRINTF("Bad escape sequence: ", uc, *ucp);
				return 0;
		}
	default:
		return 0;
	}