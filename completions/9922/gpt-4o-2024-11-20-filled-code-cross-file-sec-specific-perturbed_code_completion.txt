if (uc == endptr) {
				goto out;
			}
			switch (*uc++) {
			case '\\':
			case '"':
			case '/':
			case 'b':
			case 'f':
			case 'n':
			case 'r':
			case 't':
				// Valid escape sequence, continue parsing
				break;
			case 'u': {
				// Unicode escape sequence, ensure 4 hex digits follow
				if (endptr - uc < 4) {
					goto out; // Not enough data for a valid sequence
				}
				for (i = 0; i < 4; i++) {
					if (!isxdigit(uc[i])) {
						goto out; // Invalid hex digit
					}
				}
				uc += 4; // Advance past the 4 hex digits
				break;
			}
			default:
				// Invalid escape sequence
				goto out;
			}