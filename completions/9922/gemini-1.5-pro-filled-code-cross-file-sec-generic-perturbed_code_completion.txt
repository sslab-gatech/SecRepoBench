if (uc == endptr)
				goto out;
			switch (*uc) {
			case '\\':
			case '"':
			case '/':
				uc++;
				break;
			case 'b':
				uc++;
				break;
			case 'f':
				uc++;
				break;
			case 'n':
				uc++;
				break;
			case 'r':
				uc++;
				break;
			case 't':
				uc++;
				break;
			case 'u':
				uc++;
				for (i = 0; i < 4 && uc < endptr && json_ishex(*uc); i++)
					uc++;
				if (i != 4) {
					DPRINTF("Invalid \\u sequence: ", uc, *ucp);
					goto out; // Or return an error
				}
				break;

			default:
				DPRINTF("Invalid escape sequence: ", uc, *ucp);
				goto out; // Or return an error

			}