// Duplicate or copy the attribute name based on persistence
	if (persistent) {
		attr->lcname = zend_string_tolower(attribute);
	} else {
		attr->lcname = zend_string_tolower_copy(attribute);
	}

	// Set the offset and argument count
	attr->offset = offset;
	attr->argc = argc;

	// Initialize the arguments array
	if (argc > 0) {
		attr->args = pemalloc(sizeof(zval) * argc, persistent);
	} else {
		attr->args = NULL;
	}

	// Insert the attribute into the hash table
	zend_hash_next_index_insert_ptr(*attributes, attr);

	return attr;