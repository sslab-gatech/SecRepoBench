mpz_t t;
  mpz_init(mrb, &t);
  while (1) {
    mpz_div_2exp(mrb, &t, &x, DIG_SIZE);
    if (ucmp(&t, &y) < 0) {
      mpz_add(mrb, &q, &q, &t);
      mpz_sub(mrb, &x, &x, &t);
    }
    if (uzero(&t))
      break;
  }
  mpz_clear(mrb, &t);