CASE(OP_EXT1, Z) {
  uint8_t op = *pc++;
  switch (op) {
    // Define cases for extended opcodes OP_EXT1, OP_EXT2, and OP_EXT3.
    // Each case reads the next byte as an instruction and uses a switch statement to handle
    // the operation. The FETCH_x macros are used to retrieve the operation
    // arguments, and execution jumps directly to the corresponding operation body.
    // The program counter (pc) is decremented after execution to adjust for the
    // instruction read. The `pc` update within each extension case ensures the
    // correct instruction flow, especially when switching contexts or handling
    // multiple instructions in one go.
    // <MASK>
    default:
      mrb_value exc = mrb_exc_new_lit(mrb, E_LOCALJUMP_ERROR, "unknown extended opcode");
      mrb_exc_set(mrb, exc);
      goto L_RAISE;
  }
  NEXT;
}

CASE(OP_EXT2, Z) {
  uint8_t op = *pc++;
  switch (op) {
    // Define cases for extended opcodes OP_EXT1, OP_EXT2, and OP_EXT3.
    // Each case reads the next byte as an instruction and uses a switch statement to handle
    // the operation. The FETCH_x macros are used to retrieve the operation
    // arguments, and execution jumps directly to the corresponding operation body.
    // The program counter (pc) is decremented after execution to adjust for the
    // instruction read. The `pc` update within each extension case ensures the
    // correct instruction flow, especially when switching contexts or handling
    // multiple instructions in one go.
    // <MASK>
    default:
      mrb_value exc = mrb_exc_new_lit(mrb, E_LOCALJUMP_ERROR, "unknown extended opcode");
      mrb_exc_set(mrb, exc);
      goto L_RAISE;
  }
  NEXT;
}

CASE(OP_EXT3, Z) {
  uint8_t op = *pc++;
  switch (op) {
    // Define cases for extended opcodes OP_EXT1, OP_EXT2, and OP_EXT3.
    // Each case reads the next byte as an instruction and uses a switch statement to handle
    // the operation. The FETCH_x macros are used to retrieve the operation
    // arguments, and execution jumps directly to the corresponding operation body.
    // The program counter (pc) is decremented after execution to adjust for the
    // instruction read. The `pc` update within each extension case ensures the
    // correct instruction flow, especially when switching contexts or handling
    // multiple instructions in one go.
    // <MASK>
    default:
      mrb_value exc = mrb_exc_new_lit(mrb, E_LOCALJUMP_ERROR, "unknown extended opcode");
      mrb_exc_set(mrb, exc);
      goto L_RAISE;
  }
  NEXT;
}