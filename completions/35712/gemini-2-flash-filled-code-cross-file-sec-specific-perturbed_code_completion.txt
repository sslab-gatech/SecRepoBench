CASE(OP_EXT1, Z) {
      pc++;
      instruction = *pc;
      switch (instruction) {
        CASE(OP_EXT1_GETIV, BB) {
          regs[a] = mrb_iv_get(mrb, regs[0], syms[b]);
          pc--;
          NEXT;
        }
        CASE(OP_EXT1_SETIV, BB) {
          mrb_iv_set(mrb, regs[0], syms[b], regs[a]);
          pc--;
          NEXT;
        }
        default:
#ifndef MRB_NO_STDIO
          printf("Unimplemented extended opcode: %d\n", instruction);
#endif
          pc--;
          NEXT;
      }
    }

    CASE(OP_EXT2, Z) {
      pc++;
      instruction = *pc;
      switch (instruction) {
        CASE(OP_EXT2_GETIV, BB) {
          regs[a] = mrb_iv_get(mrb, regs[0], syms[b]);
          pc--;
          NEXT;
        }
        CASE(OP_EXT2_SETIV, BB) {
          mrb_iv_set(mrb, regs[0], syms[b], regs[a]);
          pc--;
          NEXT;
        }
        default:
#ifndef MRB_NO_STDIO
          printf("Unimplemented extended opcode: %d\n", instruction);
#endif
          pc--;
          NEXT;
      }
    }

    CASE(OP_EXT3, Z) {
      pc++;
      instruction = *pc;
      switch (instruction) {
        CASE(OP_EXT3_GETIV, BB) {
          regs[a] = mrb_iv_get(mrb, regs[0], syms[b]);
          pc--;
          NEXT;
        }
        CASE(OP_EXT3_SETIV, BB) {
          mrb_iv_set(mrb, regs[0], syms[b], regs[a]);
          pc--;
          NEXT;
        }
        default:
#ifndef MRB_NO_STDIO
          printf("Unimplemented extended opcode: %d\n", instruction);
#endif
          pc--;
          NEXT;
      }
    }