CASE(OP_EXT1, X) {
      instruction = pc[1];
      pc++;
      switch (instruction) {
      case OP_EXT1_CALL0:
        a = 0;
        c = OP_R_NORMAL;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_CALL1:
        a = 1;
        c = OP_R_NORMAL;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_CALL2:
        a = 2;
        c = OP_R_NORMAL;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_CALL3:
        a = 3;
        c = OP_R_NORMAL;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_CALL4:
        a = 4;
        c = OP_R_NORMAL;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_CALL5:
        a = 5;
        c = OP_R_NORMAL;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_CALL6:
        a = 6;
        c = OP_R_NORMAL;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_CALL7:
        a = 7;
        c = OP_R_NORMAL;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_CALL8:
        a = 8;
        c = OP_R_NORMAL;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_CALL9:
        a = 9;
        c = OP_R_NORMAL;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_CALL10:
        a = 10;
        c = OP_R_NORMAL;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_CALL11:
        a = 11;
        c = OP_R_NORMAL;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_CALL12:
        a = 12;
        c = OP_R_NORMAL;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_CALL13:
        a = 13;
        c = OP_R_NORMAL;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_CALL14:
        a = 14;
        c = OP_R_NORMAL;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_CALL15:
        a = 15;
        c = OP_R_NORMAL;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_CALL16:
        a = 16;
        c = OP_R_NORMAL;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_RETURN:
        a = 0;
        c = OP_R_NORMAL;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_RETURN_BLK:
        a = 0;
        c = OP_R_RETURN;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_BREAK:
        a = 0;
        c = OP_R_BREAK;
        goto L_OP_RETURN_BODY;
      case OP_EXT1_YIELD:
        a = 0;
        c = OP_R_NORMAL;
        goto L_OP_RETURN_BODY;
      default:
        goto L_UNIMPLEMENTED;
      }
    }
    CASE(OP_EXT2, X) {
      instruction = pc[1];
      pc++;
      switch (instruction) {
      default:
        goto L_UNIMPLEMENTED;
      }
    }
    CASE(OP_EXT3, X) {
      instruction = pc[1];
      pc++;
      switch (instruction) {
      default:
        goto L_UNIMPLEMENTED;
      }
    }
  L_OP_RETURN_BODY:
    {
      mrb_callinfo *ci = mrb->c->ci;
      mrb_value v = regs[a];
      mrb_gc_protect(mrb, v);
      if (ci == mrb->c->cibase) {
        goto NORMAL_RETURN;
      }
      while (ci > mrb->c->cibase && ci[-1].acc == CI_ACC_DIRECT) {
        ci = cipop(mrb);
      }
      if (ci->acc == CI_ACC_SKIP) {
        mrb_gc_arena_restore(mrb, ai);
        mrb->jmp = prev_jmp;
        return v;
      }
      regs[ci->acc] = v;
      pc = ci->pc;
      proc = ci->proc;
      irep = proc->body.irep;
      pool = irep->pool;
      syms = irep->syms;
      mrb_gc_arena_restore(mrb, ai);
      JUMP;
    }
  L_UNIMPLEMENTED:
    {
      mrb_value exc = mrb_exc_new_lit(mrb, E_NOTIMP_ERROR, "unimplemented opcode");
      mrb_exc_set(mrb, exc);
    }
    goto L_RAISE;