CASE(OP_EXT1, Z) {
      /* Read next instruction and advance the program counter. */
      instruction = BYTECODE_DECODER(*pc);
      pc++;
      switch (instruction) {
        /* Example of handling extended OP_MOVE with two bytes of operands. */
        CASE(OP_MOVE, BB) {
          FETCH_BB();
          /* Jump directly to the OP_MOVE logic. */
          goto L_MOVE_BODY;
        }

        /* You can add handling for more extended instructions here. */

        default:
          /* Unknown or unimplemented extended instruction. */
          mrb_assert(!"unknown OP_EXT1 sub-instruction");
          break;
      }
      /* Decrement pc so the VM loop can pick up the correct instruction flow. */
      pc--;
      NEXT;
    }

    CASE(OP_EXT2, Z) {
      /* Similar to OP_EXT1, read next instruction and handle. */
      instruction = BYTECODE_DECODER(*pc);
      pc++;
      switch (instruction) {
        /* Example placeholder; implement extended instructions as needed. */

        default:
          mrb_assert(!"unknown OP_EXT2 sub-instruction");
          break;
      }
      pc--;
      NEXT;
    }

    CASE(OP_EXT3, Z) {
      /* Similar to OP_EXT1 and OP_EXT2, read next instruction and handle. */
      instruction = BYTECODE_DECODER(*pc);
      pc++;
      switch (instruction) {
        /* Example placeholder; implement extended instructions as needed. */

        default:
          mrb_assert(!"unknown OP_EXT3 sub-instruction");
          break;
      }
      pc--;
      NEXT;
    }