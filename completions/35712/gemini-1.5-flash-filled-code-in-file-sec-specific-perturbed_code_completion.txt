CASE(OP_EXT1, X) {
      instruction = BYTECODE_DECODER(*++pc);
      switch (instruction) {
      case OP_EXT1_GETUPVAR: FETCH_BBB(); goto L_OP_GETUPVAR;
      case OP_EXT1_SETUPVAR: FETCH_BBB(); goto L_OP_SETUPVAR;
      case OP_EXT1_JMPUW: FETCH_S(); goto L_OP_JMPUW;
      default:
        mrb_assert(!"invalid opcode");
      }
      pc--;
      NEXT;
    }
    CASE(OP_EXT2, X) {
      instruction = BYTECODE_DECODER(*++pc);
      switch (instruction) {
      case OP_EXT2_GETCONST: FETCH_BB(); goto L_OP_GETCONST;
      case OP_EXT2_SETCONST: FETCH_BB(); goto L_OP_SETCONST;
      case OP_EXT2_GETMCNST: FETCH_BB(); goto L_OP_GETMCNST;
      case OP_EXT2_SETMCNST: FETCH_BB(); goto L_OP_SETMCNST;
      case OP_EXT2_GETUPVAR: FETCH_BBB(); goto L_OP_GETUPVAR;
      case OP_EXT2_SETUPVAR: FETCH_BBB(); goto L_OP_SETUPVAR;
      case OP_EXT2_JMPUW: FETCH_S(); goto L_OP_JMPUW;
      default:
        mrb_assert(!"invalid opcode");
      }
      pc--;
      NEXT;
    }
    CASE(OP_EXT3, X) {
      instruction = BYTECODE_DECODER(*++pc);
      switch (instruction) {
      case OP_EXT3_GETCONST: FETCH_BB(); goto L_OP_GETCONST;
      case OP_EXT3_SETCONST: FETCH_BB(); goto L_OP_SETCONST;
      case OP_EXT3_GETMCNST: FETCH_BB(); goto L_OP_GETMCNST;
      case OP_EXT3_SETMCNST: FETCH_BB(); goto L_OP_SETMCNST;
      case OP_EXT3_GETUPVAR: FETCH_BBB(); goto L_OP_GETUPVAR;
      case OP_EXT3_SETUPVAR: FETCH_BBB(); goto L_OP_SETUPVAR;
      case OP_EXT3_JMPUW: FETCH_S(); goto L_OP_JMPUW;
      default:
        mrb_assert(!"invalid opcode");
      }
      pc--;
      NEXT;
    }