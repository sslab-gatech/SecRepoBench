CASE(OP_EXT1, X) {
      instruction = pc[1];
      pc++;
      switch (instruction) {
      case OP_EXT1_CALL0:
        c = 0;
        goto L_SEND;
      case OP_EXT1_CALL1:
        c = 1;
        goto L_SEND;
      case OP_EXT1_CALL2:
        c = 2;
        goto L_SEND;
      case OP_EXT1_CALL3:
        c = 3;
        goto L_SEND;
      case OP_EXT1_CALL4:
        c = 4;
        goto L_SEND;
      case OP_EXT1_CALL5:
        c = 5;
        goto L_SEND;
      case OP_EXT1_CALL6:
        c = 6;
        goto L_SEND;
      case OP_EXT1_CALL7:
        c = 7;
        goto L_SEND;
      case OP_EXT1_CALL8:
        c = 8;
        goto L_SEND;
      case OP_EXT1_CALL9:
        c = 9;
        goto L_SEND;
      case OP_EXT1_CALL10:
        c = 10;
        goto L_SEND;
      case OP_EXT1_CALL11:
        c = 11;
        goto L_SEND;
      case OP_EXT1_CALL12:
        c = 12;
        goto L_SEND;
      case OP_EXT1_CALL13:
        c = 13;
        goto L_SEND;
      case OP_EXT1_CALL14:
        c = 14;
        goto L_SEND;
      case OP_EXT1_CALL15:
        c = 15;
        goto L_SEND;
      case OP_EXT1_CALL16:
        c = 16;
        goto L_SEND;
      case OP_EXT1_CALL17:
        c = 17;
        goto L_SEND;
      case OP_EXT1_CALL18:
        c = 18;
        goto L_SEND;
      case OP_EXT1_CALL19:
        c = 19;
        goto L_SEND;
      case OP_EXT1_CALL20:
        c = 20;
        goto L_SEND;
      case OP_EXT1_CALL21:
        c = 21;
        goto L_SEND;
      case OP_EXT1_CALL22:
        c = 22;
        goto L_SEND;
      case OP_EXT1_CALL23:
        c = 23;
        goto L_SEND;
      case OP_EXT1_CALL24:
        c = 24;
        goto L_SEND;
      case OP_EXT1_CALL25:
        c = 25;
        goto L_SEND;
      case OP_EXT1_CALL26:
        c = 26;
        goto L_SEND;
      case OP_EXT1_CALL27:
        c = 27;
        goto L_SEND;
      case OP_EXT1_CALL28:
        c = 28;
        goto L_SEND;
      case OP_EXT1_CALL29:
        c = 29;
        goto L_SEND;
      case OP_EXT1_CALL30:
        c = 30;
        goto L_SEND;
      case OP_EXT1_CALL31:
        c = 31;
        goto L_SEND;
      case OP_EXT1_BLKCATCH:
        FETCH_BB();
        ch = catch_handler_find(mrb, mrb->c->ci, pc, MRB_CATCH_FILTER_ALL);
        if (ch) {
          goto L_CATCH_TAGGED_BREAK;
        }
        goto L_RAISE;
      case OP_EXT1_BLKPUSH:
        FETCH_BS();
        goto L_BLKPUSH;
      case OP_EXT1_LAMBDA:
        FETCH_BB();
        c = OP_L_LAMBDA;
        goto L_MAKE_LAMBDA;
      case OP_EXT1_BLOCK:
        FETCH_BB();
        c = OP_L_BLOCK;
        goto L_MAKE_LAMBDA;
      case OP_EXT1_METHOD:
        FETCH_BB();
        c = OP_L_METHOD;
        goto L_MAKE_LAMBDA;
      case OP_EXT1_CLASS:
        FETCH_BB();
        goto L_CLASS;
      case OP_EXT1_MODULE:
        FETCH_BB();
        goto L_MODULE;
      case OP_EXT1_EXEC:
        FETCH_BB();
        goto L_EXEC;
      case OP_EXT1_EVAL:
        FETCH_BB();
        {
          mrb_value recv = regs[a];
          struct RProc *p;
          const mrb_irep *nirep = irep->reps[b];
          struct RClass *c = mrb_class_ptr(recv);

          /* prepare closure */
          p = mrb_proc_new(mrb, nirep);
          p->c = NULL;
          mrb_field_write_barrier(mrb, (struct RBasic*)p, (struct RBasic*)proc);
          MRB_PROC_SET_TARGET_CLASS(p, c);
          p->flags |= MRB_PROC_SCOPE;
          proc_adjust_upper(p);

          /* prepare call stack */
          cipush(mrb, a, a, c, p, 0, 0);

          regs[a] = eval_under(mrb, recv, mrb_obj_value(p), c);
          mrb_gc_arena_restore(mrb, ai);
          NEXT;
        }
      default:
        mrb_assert(!"unknown ext1 opcode");
        break;
      }
      pc--;
      NEXT;
    }
    CASE(OP_EXT2, X) {
      instruction = pc[1];
      pc++;
      switch (instruction) {
      case OP_EXT2_CALL:
        FETCH_BBB();
        goto L_SEND;
      case OP_EXT2_SUPER:
        FETCH_BB();
        goto L_SUPER;
      case OP_EXT2_ARGARY:
        FETCH_BS();
        goto L_ARGARY;
      case OP_EXT2_ENTER:
        FETCH_W();
        goto L_ENTER;
      default:
        mrb_assert(!"unknown ext2 opcode");
        break;
      }
      pc--;
      NEXT;
    }
    CASE(OP_EXT3, X) {
      instruction = pc[1];
      pc++;
      switch (instruction) {
      case OP_EXT3_AREF:
        FETCH_BBB();
        goto L_AREF;
      case OP_EXT3_ASET:
        FETCH_BBB();
        goto L_ASET;
      case OP_EXT3_APOST:
        FETCH_BBB();
        goto L_APOST;
      default:
        mrb_assert(!"unknown ext3 opcode");
        break;
      }
      pc--;
      NEXT;
    }