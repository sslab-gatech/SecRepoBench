if (primitive_type == CirclePrimitive || primitive_type == EllipsePrimitive)
{
    double radius_x = 0.0, radius_y = 0.0;
    if (primitive_type == CirclePrimitive)
    {
        radius_x = (primitive_info[j+1].point.x - primitive_info[j].point.x) / 2.0;
        radius_y = radius_x;
    }
    else
    {
        radius_x = primitive_info[j+1].point.x - primitive_info[j].point.x;
        radius_y = primitive_info[j+2].point.y - primitive_info[j].point.y;
    }
    points_extent += 2 * M_PI * radius_x + 4 * BezierQuantum;
}