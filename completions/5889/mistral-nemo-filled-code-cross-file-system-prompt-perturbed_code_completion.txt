def fill_in_masked_region(image, draw_info, exception):
    """
    Fill in the masked region based on the provided context.
    """
    # Get the image and draw info from the context
    image = draw_info.image
    draw_info = draw_info.graphic_context[0]

    # Get the clip mask from the draw info
    clip_mask = draw_info.clip_mask

    # Check if the clip mask is not null and different from the previous one
    if clip_mask is not None and clip_mask != draw_info.graphic_context[-1].clip_mask:
        # Set the image mask to the clip mask
        SetImageMask(image, ReadPixelMask, clip_mask, exception)

    # Draw the primitive using the draw info
    status = DrawPrimitive(image, draw_info, primitive_info, exception)

    # Reset the image mask if the clip mask was set
    if clip_mask is not None and clip_mask != draw_info.graphic_context[-1].clip_mask:
        SetImageMask(image, ReadPixelMask, (Image *) NULL, exception)

    return status