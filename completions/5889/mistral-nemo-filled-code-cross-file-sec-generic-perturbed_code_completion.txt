// Here's the code snippet to fill in the masked region:

// Trace the points for the primitive.
for (i=0; i < (ssize_t) primitive_info->coordinates; i++)
{
  p=primitive_info+i;
  switch (p->primitive)
  {
    case PointPrimitive:
      TracePoint(p,p->point);
      break;
    case LinePrimitive:
      TraceLine(p,p->point,p->point);
      break;
    case RectanglePrimitive:
      TraceRectangle(p,p->point,p->point);
      break;
    case RoundRectanglePrimitive:
      TraceRoundRectangle(p,p->point,p->point,p->point);
      break;
    case ArcPrimitive:
      TraceArc(p,p->point,p->point,p->point);
      break;
    case EllipsePrimitive:
      TraceEllipse(p,p->point,p->point,p->point);
      break;
    case CirclePrimitive:
      TraceCircle(p,p->point,p->point);
      break;
    case PolylinePrimitive:
      TracePolyline(p,p->point,p->point);
      break;
    case PolygonPrimitive:
      TracePolygon(p,p->point,p->point);
      break;
    case BezierPrimitive:
      TraceBezier(p,p->coordinates);
      break;
    case PathPrimitive:
      TracePath(p,p->text);
      break;
    case AlphaPrimitive:
    case ColorPrimitive:
      TraceColor(p,p->point,p->method);
      break;
    case TextPrimitive:
      TraceText(p,p->point,p->text);
      break;
    case ImagePrimitive:
      TraceImage(p,p->point,p->text);
      break;
    default:
      break;
  }
}