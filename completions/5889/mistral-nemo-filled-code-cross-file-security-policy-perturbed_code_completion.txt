// Fill in the masked region based on the provided context and primitive_info
static void FillMaskedRegion(Image *image, DrawInfo *draw_info, PrimitiveInfo *primitive_info, ExceptionInfo *exception)
{
  MagickBooleanType
    status;

  status=MagickTrue;
  if (draw_info->clip_mask != (char *) NULL)
    {
      if (LocaleCompare(draw_info->clip_mask,draw_info->clip_mask) != 0)
        status&=SetImageMask(image,ReadPixelMask,(Image *) NULL,exception);
      if (status == MagickFalse)
        return;
    }
  if (draw_info->fill_rule == EvenOddFillRule)
    {
      if (primitive_info->primitive == ImagePrimitive)
        {
          Image
            *image;

          image=ReadImage(draw_info->text,exception);
          if (image == (Image *) NULL)
            {
              status=MagickFalse;
              return;
            }
          status&=DrawImage(image,draw_info,exception);
          image=DestroyImage(image);
          if (status == MagickFalse)
            return;
        }
      else
        {
          status&=DrawPrimitive(image,draw_info,primitive_info,exception);
          if (status == MagickFalse)
            return;
        }
    }
  else
    {
      if (primitive_info->primitive == ImagePrimitive)
        {
          Image
            *image;

          image=ReadImage(draw_info->text,exception);
          if (image == (Image *) NULL)
            {
              status=MagickFalse;
              return;
            }
          status&=DrawImage(image,draw_info,exception);
          image=DestroyImage(image);
          if (status == MagickFalse)
            return;
        }
      else
        {
          status&=DrawPrimitive(image,draw_info,primitive_info,exception);
          if (status == MagickFalse)
            return;
        }
    }
}