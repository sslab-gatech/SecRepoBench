// <MASK>
int startindex = 0;
// Parse the JSON token at the current start index based on its type.
// Depending on whether the token is a primitive, string, array, or object,
// call the corresponding parse function to convert the JSON data into a plist structure.
// Assign the parsed plist result to the output pointer `plist`.
plist_t plist = NULL;
switch (tokens[startindex].type) {
    case JSMN_OBJECT:
        plist = parse_object(jsonstr, tokens, &startindex);
        break;
    case JSMN_ARRAY:
        plist = parse_array(jsonstr, tokens, &startindex);
        break;
    case JSMN_STRING:
        plist = parse_string(jsonstr, tokens, &startindex);
        break;
    case JSMN_PRIMITIVE:
        plist = parse_primitive(jsonstr, tokens, &startindex);
        break;
    default:
        break;
}
if (plist) {
    *plist = plist;
    return PLIST_ERR_SUCCESS;
} else {
    free(tokens);
    return PLIST_ERR_PARSE;
}