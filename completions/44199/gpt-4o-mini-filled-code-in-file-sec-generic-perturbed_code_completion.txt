switch (tokens[startindex].type) {
        case JSMN_OBJECT:
            *plist = parse_object(jsonstr, &(jsmntok_info_t){tokens, curtoks}, &startindex);
            break;
        case JSMN_ARRAY:
            *plist = parse_array(jsonstr, &(jsmntok_info_t){tokens, curtoks}, &startindex);
            break;
        case JSMN_STRING:
            *plist = parse_string(jsonstr, &(jsmntok_info_t){tokens, curtoks}, &startindex);
            break;
        case JSMN_PRIMITIVE:
            *plist = parse_primitive(jsonstr, &(jsmntok_info_t){tokens, curtoks}, &startindex);
            break;
        default:
            PLIST_JSON_ERR("%s: Unexpected token type %d\n", __func__, tokens[startindex].type);
            free(tokens);
            return PLIST_ERR_PARSE;
    }