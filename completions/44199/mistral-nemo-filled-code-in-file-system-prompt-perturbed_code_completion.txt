switch (ti->tokens[*index].type) {
    case JSMN_PRIMITIVE:
        return parse_primitive(js, ti, index);
    case JSMN_STRING:
        return parse_string(js, ti, index);
    case JSMN_ARRAY:
        return parse_array(js, ti, index);
    case JSMN_OBJECT:
        return parse_object(js, ti, index);
    default:
        PLIST_JSON_ERR("%s: invalid token type %d\n", __func__, ti->tokens[*index].type);
        return NULL;
}