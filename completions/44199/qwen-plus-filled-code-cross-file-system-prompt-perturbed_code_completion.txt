if (r > 0 && tokens[startindex].type == JSMN_OBJECT) {
    jsmntok_info_t ti;
    ti.tokens = tokens;
    ti.count = curtoks;
    *plist = parse_object(jsonstr, &ti, &startindex);
} else if (r > 0 && tokens[startindex].type == JSMN_ARRAY) {
    jsmntok_info_t ti;
    ti.tokens = tokens;
    ti.count = curtoks;
    *plist = parse_array(jsonstr, &ti, &startindex);
} else if (r > 0 && tokens[startindex].type == JSMN_STRING) {
    *plist = parse_string(jsonstr, tokens, &startindex);
} else if (r > 0 && tokens[startindex].type == JSMN_PRIMITIVE) {
    *plist = parse_primitive(jsonstr, tokens, &startindex);
} else {
    PLIST_JSON_ERR("%s: Unexpected JSON token type\n", __func__);
    free(tokens);
    return PLIST_ERR_PARSE;
}