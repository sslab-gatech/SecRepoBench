jsmntok_info_t ti = { .tokens = tokens, .count = r };
int index = 0;
switch (tokens[0].type) {
    case JSMN_OBJECT:
        *plist = parse_object(jsonstr, &ti, &index);
        break;
    case JSMN_ARRAY:
        *plist = parse_array(jsonstr, &ti, &index);
        break;
    case JSMN_STRING:
        *plist = parse_string(jsonstr, &ti, &index);
        break;
    case JSMN_PRIMITIVE:
        *plist = parse_primitive(jsonstr, &ti, &index);
        break;
    default:
        PLIST_JSON_ERR("%s: Unsupported token type\n", __func__);
        free(tokens);
        return PLIST_ERR_PARSE;
}