if (r > 0 && tokens && startindex < r) {
        jsmntok_info_t ti;
        ti.tokens = tokens;
        ti.count = r;

        switch(tokens[startindex].type) {
            case JSMN_OBJECT:
                *plist = parse_object(jsonstr, &ti, &startindex);
                break;
            case JSMN_ARRAY:
                *plist = parse_array(jsonstr, &ti, &startindex);
                break;
            case JSMN_STRING:
                *plist = parse_string(jsonstr, &ti, &startindex);
                break;
            case JSMN_PRIMITIVE:
                *plist = parse_primitive(jsonstr, &ti, &startindex);
                break;
            default:
                PLIST_JSON_ERR("%s: Unexpected token type at start index\n", __func__);
                free(tokens);
                return PLIST_ERR_PARSE;
        }
    } else {
        PLIST_JSON_ERR("%s: Invalid token count or start index\n", __func__);
        free(tokens);
        return PLIST_ERR_PARSE;
    }