ref = xmlXIncludeNewRef(include_context, cur);
            if (ref == NULL) {
                xmlXIncludeErr(include_context, cur, XML_XINCLUDE_NO_HREF,
                               "failed to create XInclude reference\n", NULL);
                break;
            }
            if (xmlXIncludeLoadNode(include_context, ref) < 0) {
                xmlXIncludeErr(include_context, cur, XML_XINCLUDE_NO_FALLBACK,
                               "failed to load XInclude node\n", NULL);
                break;
            }
            include_context->incTotal++;
            cur->extra = 1; // Mark the node as a direct include
            if (include_context->incTotal > MAX_XINCLUDE_EXPANSIONS) {
                xmlXIncludeErr(include_context, cur, XML_XINCLUDE_EXPANSION_LIMIT,
                               "XInclude expansion limit exceeded\n", NULL);
                break;
            }