ref = xmlXIncludeNewRef(include_context, cur);
        if (ref == NULL) {
            break;
        }
        if (xmlXIncludeLoadNode(include_context, ref) == 0) {
            include_context->incNr++;
            if (include_context->incNr > include_context->incMax) {
                xmlXIncludeRefPtr *tmp;

                include_context->incMax *= 2;
                tmp = (xmlXIncludeRefPtr *) xmlRealloc(include_context->incTab,
                                                      include_context->incMax *
                                                      sizeof(xmlXIncludeRefPtr));
                if (tmp == NULL) {
                    xmlXIncludeErr(include_context, cur, XML_XINCLUDE_MEMORY,
                                   "realloc failed\n", NULL);
                    break;
                }
                include_context->incTab = tmp;
            }
            include_context->incTab[include_context->incNr - 1] = ref;
            ref->direct = 1;
        } else {
            xmlXIncludeFreeRef(ref);
        }