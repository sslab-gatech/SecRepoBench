if (dict->subdict != NULL) {
    xmlDictEntry *subentry = NULL;
    int subfound = 0;
    unsigned subHashValue;
    size_t subLen, subPlen, subKlen;

    if (pref == NULL) {
        subHashValue = xmlDictHashName(dict->subdict->seed, name, maxLen, &subLen);
        subKlen = subLen;
    } else {
        subHashValue = xmlDictHashQName(dict->subdict->seed, pref, name, &subPlen, &subLen);
        subKlen = subPlen + 1 + subLen;
    }

    if ((dict->subdict->limit == 0) || (subKlen < dict->subdict->limit)) {
        if (dict->subdict->size > 0)
            subentry = xmlDictFindEntry(dict->subdict, pref, name, subKlen, subHashValue, &subfound);
        if (subfound)
            return(subentry);
    }
}