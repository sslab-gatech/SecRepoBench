for (; srclen > 0; srclen--) {
    int b = *sourcedata++;
    n = (n << 7) | (b & 0x7f);
    if (!(b & 0x80)) break;
    if (i++ > sizeof(mrb_int)) {
      mrb_raise(mrb, E_ARGUMENT_ERROR, "invalid BER encoded integer");
    }
  }