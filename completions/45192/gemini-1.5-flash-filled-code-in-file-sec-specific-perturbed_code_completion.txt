for (; srclen > 0; srclen--) {
    int b = *sourcedata++;
    if (!(b & 0x80)) {
      i = 1;
      n = (n << 7) | b;
      break;
    }
    else {
      n = (n << 7) | (b & 0x7f);
      i++;
      if (i > sizeof(mrb_int)) {
        mrb_raise(mrb, E_ARGUMENT_ERROR, "invalid BER integer");
      }
    }
  }