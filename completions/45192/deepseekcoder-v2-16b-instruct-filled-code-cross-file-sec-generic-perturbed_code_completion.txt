for (i = 0; i < srclen; i++) {
    n |= (sourcedata[i] & 0x7F) << (7 * (srclen - i - 1));
    if ((sourcedata[i] & 0x80) == 0) {
      break;
    }
  }
  if (i == srclen && (sourcedata[srclen - 1] & 0x80) != 0) {
    mrb_raise(mrb, E_ARGUMENT_ERROR, "Invalid BER-compressed integer");
  }
  mrb_ary_push(mrb, ary, mrb_int_value(mrb, n));
  return i + 1;