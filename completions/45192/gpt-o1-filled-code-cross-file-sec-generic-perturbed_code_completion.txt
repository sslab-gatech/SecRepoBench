i = 0;
  n = 0;
  for (;;) {
    if (i >= srclen) {
      mrb_raise(mrb, E_ARGUMENT_ERROR, "BER data incomplete");
    }
    unsigned char c = sourcedata[i++];
    /* Check for overflow in shifting 7 bits. */
    if ((n >> (sizeof(mrb_int)*CHAR_BIT - 7)) != 0) {
      mrb_raise(mrb, E_ARGUMENT_ERROR, "BER integer too large");
    }
    n = (n << 7) | (c & 0x7F);
    if ((c & 0x80) == 0) {
      break;
    }
  }