i = 0;
while (1) {
  if (i >= srclen) {
    mrb_raise(mrb, E_ARGUMENT_ERROR, "malformed BER string");
  }
  {
    unsigned char c = sourcedata[i++];
    if (n > (MRB_INT_MAX >> 7)) {
      mrb_raise(mrb, E_RANGE_ERROR, "BER integer too big");
    }
    n = (n << 7) | (c & 0x7f);
    if ((c & 0x80) == 0) {
      break;
    }
  }
}