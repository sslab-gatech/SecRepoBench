for (i = 0; i < srclen; i++) {
    unsigned char b = sourcedata[i];
    if ((b & 0x80) == 0) {
      n |= (b & 0x7F) << (7 * (i & ~0));
      break;
    } else {
      n |= (b & 0x7F) << (7 * (i & ~0));
    }
  }
  if (i == srclen) {
    mrb_raisef(mrb, E_ARGUMENT_ERROR, "incomplete BER-compressed integer");
  }