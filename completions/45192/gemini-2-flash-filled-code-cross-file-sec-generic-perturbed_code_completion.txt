i = 0;
  n = 0;
  if (srclen == 0) {
    mrb_raise(mrb, E_ARGUMENT_ERROR, "no data to unpack");
  }
  for (;;) {
    if (i >= srclen) {
      mrb_raise(mrb, E_ARGUMENT_ERROR, "invalid BER integer");
    }
    unsigned char c = sourcedata[i++];
    n = (n << 7) | (c & 0x7f);
    if (!(c & 0x80)) break;
    if (n > MRB_INT_MAX >> 7) {
      mrb_raise(mrb, E_RANGE_ERROR, "BER integer too big");
    }
  }