if (primitive_info == (PrimitiveInfo *) NULL)
{
  primitive = DestroyString(primitive);
  for (; n >= 0; n--)
    graphic_context[n] = DestroyDrawInfo(graphic_context[n]);
  graphic_context = (DrawInfo **) RelinquishMagickMemory(graphic_context);
  ThrowBinaryException(ResourceLimitError, "MemoryAllocationFailed", image->filename);
}
graphic_context[n] = CloneDrawInfo((ImageInfo *) NULL, draw_info);
graphic_context[n]->viewbox = image->page;
if ((image->page.width == 0) || (image->page.height == 0))
{
  graphic_context[n]->viewbox.width = image->columns;
  graphic_context[n]->viewbox.height = image->rows;
}
token = AcquireString(primitive);
extent = strlen(token) + MagickPathExtent;
if (SetImageStorageClass(image, DirectClass, exception) == MagickFalse)
  return (MagickFalse);
defsDepth = 0;
status = MagickTrue;