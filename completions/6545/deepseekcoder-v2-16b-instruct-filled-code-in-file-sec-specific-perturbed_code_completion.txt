ExceptionInfo *exception)
%
%  A description of each parameter follows:
%
%    o image: the image.
%
%    o draw_info: the draw info.
%
%    o exception: return any errors or warnings in this structure.
%
*/
MagickExport MagickBooleanType DrawImage(Image *image,const DrawInfo *draw_info,
  ExceptionInfo *exception)
{
  MagickBooleanType
    status;

  PrimitiveInfo
    *primitive_info;

  size_t
    number_primitives;

  assert(image != (Image *) NULL);
  assert(image->signature == MagickCoreSignature);
  if (image->debug != MagickFalse)
    (void) LogMagickEvent(TraceEvent,GetMagickModule(),"%s",image->filename);
  assert(draw_info != (const DrawInfo *) NULL);
  assert(draw_info->signature == MagickCoreSignature);
  if (draw_info->debug != MagickFalse)
    (void) LogMagickEvent(TraceEvent,GetMagickModule(),"...");
  if (draw_info->primitive != (char *) NULL)
    {
      number_primitives=TracePath(NULL,draw_info->primitive,exception);
      if (number_primitives == 0)
        return(MagickFalse);
      primitive_info=(PrimitiveInfo *) AcquireQuantumMemory(number_primitives+1,
        sizeof(*primitive_info));
      if (primitive_info == (PrimitiveInfo *) NULL)
        return(MagickFalse);
      (void) ResetMagickMemory(primitive_info,0,number_primitives*
        sizeof(*primitive_info));
      number_primitives=TracePath(primitive_info,draw_info->primitive,exception);
      if (number_primitives == 0)
        return(MagickFalse);
      primitive_info[number_primitives].primitive=UndefinedPrimitive;
      status=DrawPrimitive(image,draw_info,primitive_info,exception);
      primitive_info=(PrimitiveInfo *) RelinquishMagickMemory(primitive_info);
      return(status);
    }
  if (draw_info->text != (char *) NULL)
    {
      number_primitives=TracePath(NULL,draw_info->text,exception);
      if (number_primitives == 0)
        return(MagickFalse);
      primitive_info=(PrimitiveInfo *) AcquireQuantumMemory(number_primitives+1,
        sizeof(*primitive_info));
      if (primitive_info == (PrimitiveInfo *) NULL)
        return(MagickFalse);
      (void) ResetMagickMemory(primitive_info,0,number_primitives*
        sizeof(*primitive_info));
      number_primitives=TracePath(primitive_info,draw_info->text,exception);
      if (number_primitives == 0)
        return(MagickFalse);
      primitive_info[number_primitives].primitive=UndefinedPrimitive;
      status=DrawPrimitive(image,draw_info,primitive_info,exception);
      primitive_info=(PrimitiveInfo *) RelinquishMagickMemory(primitive_info);
      return(status);
    }
  status=DrawPrimitive(image,draw_info,NULL,exception);
  return(status);
}

/*
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                             %
%                                                                             %
%                                                                             %
%   D r a w P r i m i t i v e                                                 %
%                                                                             %
%                                                                             %
%                                                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%  DrawPrimitive() draws a graphic primitive on your image.  The primitive
%  may be represented as a string or filename.  Precede the filename with an
%  "at" sign (@) and the contents of the file are drawn on the image.  You
%  can affect how text is drawn by setting one or more members of the draw
%  info structure.
%
%  The format of the DrawPrimitive method is:
%
%      MagickBooleanType DrawPrimitive(Image *image,const DrawInfo *draw_info,
%        const PrimitiveInfo *primitive_info,ExceptionInfo *exception)
%
%  A description of each parameter follows:
%
%    o image: the image.
%
%    o draw_info: the draw info.
%
%    o primitive_info: Specifies a pointer to a PrimitiveInfo structure.
%
%    o exception: return any errors or warnings in this structure.
%
*/
static MagickBooleanType DrawPrimitive(Image *image,const DrawInfo *draw_info,
  const PrimitiveInfo *primitive_info,ExceptionInfo *exception)
{
  MagickBooleanType
    status;

  PrimitiveInfo
    *clone_info;

  size_t
    number_primitives;

  assert(image != (Image *) NULL);
  assert(image->signature == MagickCoreSignature);
  if (image->debug != MagickFalse)
    (void) LogMagickEvent(TraceEvent,GetMagickModule(),"%s",image->filename);
  assert(draw_info != (const DrawInfo *) NULL);
  assert(draw_info->signature == MagickCoreSignature);
  if (draw_info->debug != MagickFalse)
    (void) LogMagickEvent(TraceEvent,GetMagickModule(),"...");
  if (primitive_info == (const PrimitiveInfo *) NULL)
    return(DrawStrokePolygon(image,draw_info,NULL,exception));
  if (primitive_info->primitive == UndefinedPrimitive)
    return(DrawStrokePolygon(image,draw_info,NULL,exception));
  if (primitive_info->primitive == RectanglePrimitive)
    return(DrawRectangle(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == CirclePrimitive)
    return(DrawCircle(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == EllipsePrimitive)
    return(DrawEllipse(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == LinePrimitive)
    return(DrawLine(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == PolylinePrimitive)
    return(DrawPolyline(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == PolygonPrimitive)
    return(DrawPolygon(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == PathPrimitive)
    return(DrawPath(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == TextPrimitive)
    return(DrawText(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == ArcPrimitive)
    return(DrawArc(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == BezierPrimitive)
    return(DrawBezier(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == ImagePrimitive)
    return(DrawImagePrimitive(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == PrimitivePrimitive)
    return(DrawPrimitivePrimitive(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == AlphaPrimitive)
    return(DrawAlphaPrimitive(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == ColorPrimitive)
    return(DrawColorPrimitive(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == PointPrimitive)
    return(DrawPointPrimitive(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == TextAntialiasPrimitive)
    return(DrawTextAntialiasPrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextDecorationPrimitive)
    return(DrawTextDecorationPrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextUnderColorPrimitive)
    return(DrawTextUnderColorPrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextKerningPrimitive)
    return(DrawTextKerningPrimitive(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == TextInterwordSpacingPrimitive)
    return(DrawTextInterwordSpacingPrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextInterlineSpacingPrimitive)
    return(DrawTextInterlineSpacingPrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextDecorationStylePrimitive)
    return(DrawTextDecorationStylePrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextDecorationColorPrimitive)
    return(DrawTextDecorationColorPrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextFontPrimitive)
    return(DrawTextFontPrimitive(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == TextStylePrimitive)
    return(DrawTextStylePrimitive(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == TextWeightPrimitive)
    return(DrawTextWeightPrimitive(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == TextKerningPrimitive)
    return(DrawTextKerningPrimitive(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == TextUnderColorPrimitive)
    return(DrawTextUnderColorPrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextInterwordSpacingPrimitive)
    return(DrawTextInterwordSpacingPrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextInterlineSpacingPrimitive)
    return(DrawTextInterlineSpacingPrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextDecorationStylePrimitive)
    return(DrawTextDecorationStylePrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextDecorationColorPrimitive)
    return(DrawTextDecorationColorPrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextFontPrimitive)
    return(DrawTextFontPrimitive(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == TextStylePrimitive)
    return(DrawTextStylePrimitive(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == TextWeightPrimitive)
    return(DrawTextWeightPrimitive(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == TextUnderColorPrimitive)
    return(DrawTextUnderColorPrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextInterwordSpacingPrimitive)
    return(DrawTextInterwordSpacingPrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextInterlineSpacingPrimitive)
    return(DrawTextInterlineSpacingPrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextDecorationStylePrimitive)
    return(DrawTextDecorationStylePrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextDecorationColorPrimitive)
    return(DrawTextDecorationColorPrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextFontPrimitive)
    return(DrawTextFontPrimitive(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == TextStylePrimitive)
    return(DrawTextStylePrimitive(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == TextWeightPrimitive)
    return(DrawTextWeightPrimitive(image,draw_info,primitive_info,exception));
  if (primitive_info->primitive == TextUnderColorPrimitive)
    return(DrawTextUnderColorPrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextInterwordSpacingPrimitive)
    return(DrawTextInterwordSpacingPrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextInterlineSpacingPrimitive)
    return(DrawTextInterlineSpacingPrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextDecorationStylePrimitive)
    return(DrawTextDecorationStylePrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextDecorationColorPrimitive)
    return(DrawTextDecorationColorPrimitive(image,draw_info,primitive_info,
      exception));
  if (primitive_info->primitive == TextFontPrimitive)
    return