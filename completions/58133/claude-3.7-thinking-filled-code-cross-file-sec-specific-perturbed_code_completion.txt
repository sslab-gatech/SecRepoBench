int i = 0;
char* endptr;
while (i < len) {
  if (*src == '\0')
    break;
  
  // Convert the string to a number
  long flag = strtol(src, &endptr, 10);
  
  // Check if the flag is too large
  if (flag >= DEFAULTFLAGS && af != NULL) {
    HUNSPELL_WARNING(stderr,
                     "error: line %d: flag id %ld is too large (max: %d)\n",
                     af->getlinenum(), flag, DEFAULTFLAGS - 1);
    flag = 0;
  }
  
  // Store the flag value
  *dest = (unsigned short)flag;
  
  // Check if flag is zero and issue warning
  if (*dest == 0) {
    HUNSPELL_WARNING(stderr, "error: 0 is wrong flag id\n");
  }
  
  dest++;
  i++;
  
  // Move to the next number after the comma
  src = endptr;
  if (*src == ',')
    src++;
}