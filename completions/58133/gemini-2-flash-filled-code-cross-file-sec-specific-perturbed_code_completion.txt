while (*src) {
        char* endptr;
        unsigned long num = strtoul(src, &endptr, 10);
        if (endptr == src) {
          // No number found, skip to the next comma or end of string
          src++;
          continue;
        }
        if (num >= DEFAULTFLAGS) {
          if (af != NULL) {
            HUNSPELL_WARNING(stderr,
                             "error: line %d: flag id %lu is too large (max: %d)\n",
                             af->getlinenum(), num, DEFAULTFLAGS - 1);
          }
          num = 0; // or some default value
        }
        if (num == 0 && af != NULL) {
          HUNSPELL_WARNING(stderr, "error: line %d: 0 is wrong flag id\n",
                           af->getlinenum());
        }
        *dest = (unsigned short)num;
        dest++;
        src = endptr;
        if (*src == ',') {
          src++; // Move past the comma
        } else if (*src != '\0') {
          // Handle unexpected characters (not a comma or end of string)
          src++;
        }
      }
      break;