int index = 0;
      while (*src) {
        char* endptr;
        long num = strtol(src, &endptr, 10);

        if (endptr == src) {
          HUNSPELL_WARNING(stderr, "error: line %d: invalid number format\n", af->getlinenum());
          num = 0;
        }

        if (num < 0 || num >= DEFAULTFLAGS) {
          HUNSPELL_WARNING(stderr, "error: line %d: flag id %ld is out of range (max: %d)\n",
                           af->getlinenum(), num, DEFAULTFLAGS - 1);
          num = 0;
        }

        if (index < 0 || index >= len) {
          HUNSPELL_WARNING(stderr, "error: line %d: index %d is out of bounds\n",
                           af->getlinenum(), index);
          break;
        }

        dest[index++] = (unsigned short)num;

        if (*endptr == ',') {
          src = endptr + 1;
        } else {
          break;
        }
      }