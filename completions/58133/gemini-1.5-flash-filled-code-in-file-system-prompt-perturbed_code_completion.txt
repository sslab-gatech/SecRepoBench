while (src && *src) {
        char* end;
        long i = strtol(src, &end, 10);
        if (src == end) {
          if (af != NULL)
            HUNSPELL_WARNING(stderr, "error: line %d: bad flagvector\n",
                             af->getlinenum());
          break;
        }
        if (i >= DEFAULTFLAGS) {
          if (af != NULL)
            HUNSPELL_WARNING(
                stderr, "error: line %d: flag id %ld is too large (max: %d)\n",
                af->getlinenum(), i, DEFAULTFLAGS - 1);
          i = 0;
        }
        *dest = (unsigned short)i;
        if (*dest == 0)
          HUNSPELL_WARNING(stderr, "error: line %d: 0 is wrong flag id\n",
                           af->getlinenum());
        dest++;
        src = (*end == ',') ? end + 1 : NULL;
      }
      len = dest - *result;
      break;
    }