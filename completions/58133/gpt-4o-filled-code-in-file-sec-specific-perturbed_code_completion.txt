len = 1;
      for (const char* p = src; *p; p++) {
        if (*p == ',') len++;
      }
      *result = new unsigned short[len];
      unsigned short* dest = *result;
      for (const char* p = src; ; p++) {
        if (*p == ',' || *p == '\0') {
          int i = atoi(src);
          if (i >= DEFAULTFLAGS) {
            HUNSPELL_WARNING(stderr, "error: flag id %d is too large (max: %d)\n", i, DEFAULTFLAGS - 1);
            i = 0;
          }
          *dest++ = (unsigned short)i;
          if (*p == '\0') break;
          src = p + 1;
        }
      }
      break;