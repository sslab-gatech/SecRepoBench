for (int index = 0; index < len; index++) {
        if (index >= 0 && index < len) {
          char* endptr = nullptr;
          long num = strtol(src, &endptr, 10);
          if (num > USHRT_MAX || num < 0) {
            if (af != NULL) {
              HUNSPELL_WARNING(stderr, "error: line %d: flag id %ld is too large (max: %d)\n", af->getlinenum(), num, USHRT_MAX);
            }
            dest[index] = 0; // Assign 0 to dest[index] if num is out of range
          } else {
            dest[index] = (unsigned short)num;
            if (dest[index] >= DEFAULTFLAGS && af != NULL) {
              HUNSPELL_WARNING(stderr, "error: line %d: flag id %d is too large (max: %d)\n", af->getlinenum(), dest[index], DEFAULTFLAGS - 1);
              dest[index] = 0;
            } else if (dest[index] == 0 && af != NULL) {
              HUNSPELL_WARNING(stderr, "error: line %d: 0 is wrong flag id\n", af->getlinenum());
            }
          }
          src = endptr;
          if (*src == ',') {
            src++;
          }
        } else {
          // Handle the case where index is out of bounds.
          break; // Or throw an exception, or take other appropriate action.
        }

      }
      break;