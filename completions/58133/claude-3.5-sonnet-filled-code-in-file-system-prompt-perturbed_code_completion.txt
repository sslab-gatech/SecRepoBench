len = 0;
      *result = new unsigned short[flags.size()];
      unsigned short* dest = *result;
      const char* src = flags.c_str();
      while (*src) {
        int num = atoi(src);
        if (num >= DEFAULTFLAGS) {
          HUNSPELL_WARNING(stderr, "error: line %d: flag id %d is too large (max: %d)\n",
                           af->getlinenum(), num, DEFAULTFLAGS - 1);
          num = 0;
        }
        *dest = (unsigned short)num;
        if (*dest == 0)
          HUNSPELL_WARNING(stderr, "error: line %d: 0 is wrong flag id\n",
                           af->getlinenum());
        dest++;
        len++;
        while (*src && *src != ',')
          src++;
        if (*src == ',')
          src++;
      }