while (true) {
        char* endptr;
        unsigned long num = strtoul(src, &endptr, 10);
        if (src == endptr) {
          if (af != NULL && *src != 0) {
            HUNSPELL_WARNING(stderr, "error: line %d: bad number in flagvector\n",
                             af->getlinenum());
          }
          break;
        }
        if (num >= DEFAULTFLAGS) {
          if (af != NULL) {
            HUNSPELL_WARNING(stderr,
                             "error: line %d: flag id %lu is too large (max: %d)\n",
                             af->getlinenum(), num, DEFAULTFLAGS - 1);
          }
          num = 0;
        }
        if (num == 0 && af != NULL) {
          HUNSPELL_WARNING(stderr, "error: line %d: flag id 0 is not recommended\n",
                           af->getlinenum());
        }
        *dest = (unsigned short)num;
        dest++;
        if (*endptr == ',') {
          src = endptr + 1;
        } else if (*endptr == 0) {
          break;
        } else {
          if (af != NULL) {
            HUNSPELL_WARNING(stderr, "error: line %d: bad character in flagvector\n",
                             af->getlinenum());
          }
          break;
        }
      }
      break;