std::string number;
      while (*src) {
        if (*src == ',') {
          if (!number.empty()) {
            unsigned short flag = decode_flag(number);
            if (flag != 0) {
              *dest++ = flag;
            }
            number.clear();
          }
        } else {
          number += *src;
        }
        src++;
      }
      if (!number.empty()) {
        unsigned short flag = decode_flag(number);
        if (flag != 0) {
          *dest++ = flag;
        }
      }