unsigned short* dest = *result;
      const char* src = flags.c_str();
      char* endptr;
      for (int index = 0; index < len; index++) {
        long num = strtol(src, &endptr, 10);
        if (endptr == src || num < 0 || num >= DEFAULTFLAGS) {
          if (af != NULL) {
            HUNSPELL_WARNING(stderr, "error: line %d: flag id %ld is too large or invalid (max: %d)\n",
                             af->getlinenum(), num, DEFAULTFLAGS - 1);
          }
          num = 0;
        }
        *dest++ = (unsigned short)num;
        if (*endptr == ',') {
          src = endptr + 1;
        } else {
          break;
        }
      }