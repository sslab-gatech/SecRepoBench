while (src && *src) {
        char* end;
        long i = strtol(src, &end, 10);
        if (i == 0 && src == end) {
          HUNSPELL_WARNING(stderr, "error: line %d: bad flagvector\n",
                           af->getlinenum());
          delete[] *result;
          *result = NULL;
          return -1;
        }
        if (i >= DEFAULTFLAGS) {
          HUNSPELL_WARNING(stderr,
                           "error: line %d: flag id %ld is too large (max: %d)\n",
                           af->getlinenum(), i, DEFAULTFLAGS - 1);
          i = 0;
        }
        if (i == 0)
          HUNSPELL_WARNING(stderr, "error: line %d: 0 is wrong flag id\n",
                           af->getlinenum());

        *dest++ = (unsigned short)i;
        src = *end ? end + 1 : end;
      }
      break;