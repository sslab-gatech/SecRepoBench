char* p = (char*)src;
      while (*p) {
        char* end;
        long val = strtol(p, &end, 10);
        if (p == end) {
          if (af != NULL)
            HUNSPELL_WARNING(stderr, "error: line %d: bad flagvector\n", af->getlinenum());
          break;
        }
        if (val > USHRT_MAX) {
          if (af != NULL)
            HUNSPELL_WARNING(stderr, "error: line %d: flag id %ld is too large (max: %d)\n", af->getlinenum(), val, USHRT_MAX);
          val = 0;
        }
        *dest = (unsigned short)val;
        dest++;
        p = end;
        if (*p == ',') p++;
      }
      len = dest - *result;
      break;
    }