if (extent > strlen(xml_start)) {
                      char *new_xml_start = (char *) ResizeQuantumMemory(xml_start, extent + 1, sizeof(*xml_start));
                      if (new_xml_start == (char *) NULL) {
                        ThrowFatalException(ResourceLimitFatalError, "MemoryAllocationFailed");
                      }
                      xml_start = new_xml_start;
                      xml = xml_start + offset;
                    }
                    xml_start[extent] = '\0';