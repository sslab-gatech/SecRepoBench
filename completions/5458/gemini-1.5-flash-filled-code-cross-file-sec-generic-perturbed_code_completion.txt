char *new_xml = (char *)malloc(extent + 1);
                    if (new_xml == NULL) {
                      // Handle memory allocation failure
                      throw std::runtime_error("Memory allocation failed");
                    }
                    memcpy(new_xml, xml_start, offset);
                    memcpy(new_xml + offset, entities[i], length);
                    memcpy(new_xml + offset + length, entity + 1, strlen(entity + 1));
                    new_xml[extent] = '\0';
                    free(xml_start);
                    xml_start = new_xml;