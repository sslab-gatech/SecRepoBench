// Adjust the memory allocated for the parsed XML string to accommodate new content,
// ensuring that any necessary memory resizing or reallocation is handled properly.
// If the original memory block is not sufficient, allocate a new one and copy the
// existing content to it. Handle any memory allocation failures by throwing an
// appropriate error. Finally, ensure that the modified string is null-terminated.
extent = strlen(xml_start) + length + strlen(entity) + 1;
char *new_xml = (char *)realloc(xml_start, extent * sizeof(char));
if (new_xml == NULL) {
    ThrowFatalException(ResourceLimitFatalError, "MemoryAllocationFailed");
}
xml_start = new_xml;
xml = xml_start + offset;
entity = strchr(xml, ';');
(void)memmove(xml + length, entity + 1, strlen(entity));
(void)strncpy(xml, entities[i], length);
xml_start[extent - 1] = '\0';