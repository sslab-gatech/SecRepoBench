if (extent > MAX_SIZE) {
                        ThrowFatalException(ResourceLimitFatalError, "Memory allocation exceeded maximum size");
                    }
                    char *new_xml_start = (char *) ResizeQuantumMemory(xml_start, extent, sizeof(*xml_start));
                    if (new_xml_start == (char *) NULL) {
                        ThrowFatalException(ResourceLimitFatalError, "MemoryAllocationFailed");
                    }
                    xml_start = new_xml_start;
                    memcpy(xml_start + offset, entities[i], length);
                    xml = xml_start + offset + length;