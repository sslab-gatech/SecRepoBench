char *resized_xml = ResizeQuantumMemory(xml_start, extent, sizeof(*xml_start));
if (resized_xml == (char *) NULL)
{
  xml_start = DestroyString(xml_start);
  return((char *) NULL);
}
xml_start = resized_xml;
xml = xml_start + offset;
entity = strchr(xml, ';');
if (entity != (char *) NULL)
{
  (void) CopyMagickMemory(xml + length, entity + 1, strlen(entity));
  (void) strncpy(xml, entities[i], length);
}