char *new_xml;
new_xml = (char *) ResizeQuantumMemory(xml_start, extent + 1, sizeof(*xml_start));
if (new_xml == (char *) NULL)
  ThrowFatalException(ResourceLimitFatalError, "MemoryAllocationFailed");
xml_start = new_xml;
(void) memmove(xml_start + offset + length, entity + 1, strlen(entity));
xml_start[extent] = '\0';