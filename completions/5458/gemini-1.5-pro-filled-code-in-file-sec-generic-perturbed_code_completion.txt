if (xml_start != q)
  xml_start=DestroyString(xml_start);
xml_start=(char *) AcquireQuantumMemory(extent+1,sizeof(*xml_start));
if (xml_start == (char *) NULL)
  ThrowFatalException(ResourceLimitFatalError,"MemoryAllocationFailed");
(void) CopyMagickString(xml_start,q,(size_t) (xml-q));
(void) CopyMagickString(xml_start+offset,entities[i],length);