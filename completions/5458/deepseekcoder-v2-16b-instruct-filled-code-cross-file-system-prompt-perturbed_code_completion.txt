// Adjust the memory allocated for the parsed XML string to accommodate new content,
// ensuring that any necessary memory resizing or reallocation is handled properly.
// If the original memory block is not sufficient, allocate a new one and copy the
// existing content to it. Handle any memory allocation failures by throwing an
// appropriate error. Finally, ensure that the modified string is null-terminated.
// <MASK>
xml=xml_start+offset;
entity=strchr(xml,';');
if (entity != (char *) NULL)
  (void) CopyMagickMemory(xml+length,entity+1,strlen(entity));
(void) strncpy(xml,entities[i],length);
xml=xml_start+offset;
// <MASK>