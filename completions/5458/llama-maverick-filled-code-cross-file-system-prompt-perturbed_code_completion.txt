if ((xml_start+extent) > (q+strlen(q)))
  (void) CopyMagickMemory(q+extent,q+strlen(q)+1,strlen(q+strlen(q)));
else
  {
    size_t
      length;

    length=(size_t) (q-xml_start);
    extent+=length+MagickPathExtent;
    xml_start=(char *) ResizeQuantumMemory(xml_start,extent,sizeof(*xml_start));
    if (xml_start == (char *) NULL)
      ThrowFatalException(ResourceLimitFatalError,"MemoryAllocationFailed");
    q=xml_start+length;
  }