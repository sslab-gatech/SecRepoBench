char *new_memory = (char *) AcquireQuantumMemory(extent, sizeof(char));
                    if (new_memory == (char *) NULL)
                    {
                      ThrowFatalException(ResourceLimitFatalError, "MemoryAllocationFailed");
                    }
                    (void) CopyMagickMemory(new_memory, xml_start, offset);
                    (void) CopyMagickMemory(new_memory + offset + length, xml_start + offset, strlen(xml_start + offset) + 1);
                    xml_start = new_memory;