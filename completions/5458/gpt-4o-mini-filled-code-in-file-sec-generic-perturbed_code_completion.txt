if (extent < offset + length + 1)
        {
            char *new_memory = (char *) ResizeQuantumMemory(xml_start, extent + length + 1, sizeof(*xml_start));
            if (new_memory == (char *) NULL)
            {
                ThrowFatalException(ResourceLimitFatalError, "MemoryAllocationFailed");
            }
            xml_start = new_memory;
        }
        (void) CopyMagickMemory(xml_start + offset, entities[i + 1], length);
        xml_start[offset + length] = '\0';