if (extent > strlen(xml_start))
  {
    xml_start=(char *) ResizeQuantumMemory(xml_start,extent+MagickPathExtent,
      sizeof(*xml_start));
    if (xml_start == (char *) NULL)
      ThrowFatalException(ResourceLimitFatalError,"MemoryAllocationFailed");
  }
xml=xml_start+offset;
entity=strchr(xml,';');
if (entity!= (char *) NULL)
  {
    *entity='\0';
    (void) CopyMagickMemory(entity+1,entity+2,strlen(entity+1)+1);
  }
xml_start[strlen(xml_start)]='\0';