size_t count = 0;
  mpz_t temp;
  mpz_init(mrb, &temp);
  mpz_set(mrb, &temp, number);

  while (!mpz_is_zero(&temp)) {
    mpz_div_2exp(mrb, &temp, &temp, 1);
    count++;
  }

  mpz_clear(mrb, &temp);
  return count;