static size_t
digits(mpz_t *number)
{
  // This function returns the number of significant digits in a multi-precision integer.
  if (number->sn == 0) return 1;  // Zero has 1 digit
  
  size_t i = number->sz;
  while (i > 0 && dg(number, i-1) == 0) i--;
  
  return (i == 0) ? 1 : i;  // Ensure at least 1 digit is returned
}