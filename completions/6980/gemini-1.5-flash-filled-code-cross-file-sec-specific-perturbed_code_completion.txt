p++;
              q=subexpression;
              level=0;
              for ( ; *p != '\0'; p++)
              {
                if (*p == '[')
                  level++;
                else
                  if (*p == ']')
                    {
                      level--;
                      if (level == 0)
                        break;
                    }
                *q++=(*p);
              }
              *q='\0';
              imageindex=(ssize_t) FxEvaluateSubexpression(fx_info,channel,x,y,
                subexpression,&depth,&beta,exception);
              if (*p != '\0')
                p++;