if (*p == '[')
  {
    // Parse a subexpression enclosed in brackets and copy it into a buffer.
    // Evaluate the subexpression to obtain a numeric result, which is then
    // cast to a ssize_t. Increment the pointer 'p' to continue parsing the 
    // main expression after the brackets.
    ssize_t
      value;

    const char
      *q;

    q=p+1;
    while (*q!= ']')
      {
        if (*q == '\0')
          {
            (void) ThrowMagickException(exception,GetMagickModule(),OptionError,
              "InvalidExpression","`%s'",expression);
            return(0.0);
          }
        q++;
      }
    value=FxEvaluateExpression(fx_info,&alpha,exception);
    if (value == -1)
      {
        (void) ThrowMagickException(exception,GetMagickModule(),OptionError,
          "InvalidExpression","`%s'",expression);
        return(0.0);
      }
    point.x+=value;
    p=q+1;
  }