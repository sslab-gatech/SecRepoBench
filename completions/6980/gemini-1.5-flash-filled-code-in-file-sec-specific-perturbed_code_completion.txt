size_t
                depth;

              char
                *end;

              double
                value;

              q=subexpression;
              p++;
              for ( ; *p != ']'; p++)
                *q++=(*p);
              *q='\0';
              if (*p != ']')
                {
                  (void) ThrowMagickException(exception,GetMagickModule(),
                    OptionError,"UnbalancedBrackets","`%s'",expression);
                  return(0.0);
                }
              p++;
              value=FxEvaluateSubexpression(fx_info,channel,x,y,subexpression,
                &depth,beta,exception);
              imageindex=(ssize_t) ((double) value);
            }