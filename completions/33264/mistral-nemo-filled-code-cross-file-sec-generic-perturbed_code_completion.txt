for (int i = start; i < stop; i++) {
    int32_t src_offset = memcpyed ?
      context->header_overhead + i * hdr->blocksize : sw32_(context->bstarts + i);
    int cbytes = blosc_d(context->serial_context, hdr->blocksize, 0, memcpyed,
                         src, srcsize, src_offset, i,
                         dest, i * hdr->typesize, scontext->tmp, scontext->tmp3);
    if (cbytes < 0) {
      ntbytes = cbytes;
      break;
    }
    ntbytes += hdr->typesize;
  }