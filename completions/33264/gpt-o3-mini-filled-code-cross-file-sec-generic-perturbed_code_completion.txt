int stop = start + nitems;
  if (nitems <= 0) {
    return 0;
  }
  if (destsize < nitems * hdr->typesize) {
    return BLOSC2_ERROR_MEMORY_ALLOC;
  }
  if (start < 0 || stop * hdr->typesize > hdr->nbytes) {
    return BLOSC2_ERROR_INVALID_PARAM;
  }
  int ntbytes = 0;
  bool memcpyed = ((context->header_flags & (uint8_t)BLOSC_MEMCPYED) != 0);