line.clear();
    T character;
    while (true) {
        if (m_cachePos >= m_cache.size()) {
            if (!readNextBlock()) {
                return !line.empty(); // Return true if any data was read
            }
            m_cachePos = 0;
        }

        character = m_cache[m_cachePos++];
        
        // Skip end-of-line characters
        if (character == '\n' || character == '\r') {
            if (!line.empty()) {
                return true; // Return true if a line has been read
            }
            continue; // Skip to the next character
        }

        line.push_back(character);
    }