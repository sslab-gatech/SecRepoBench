// Ensure the buffer is large enough to hold the next line
    line.reserve(line.size() + m_cache.size() + 1);

    // Copy the cached data to the line buffer
    line.insert(line.end(), m_cache.begin(), m_cache.end());

    // Read the next block if necessary
    if (!readNextBlock()) {
        return false;
    }

    // Copy the new data from the cache to the line buffer
    line.insert(line.end(), m_cache.begin(), m_cache.end());

    // Check for end-of-line characters and adjust the buffer accordingly
    auto eolPos = std::find(m_cache.begin(), m_cache.end(), '\n');
    if (eolPos != m_cache.end()) {
        line.resize(std::distance(line.begin(), eolPos + 1));
    } else {
        line.insert(line.end(), m_cache.begin(), m_cache.end());
    }

    return true;
}