std::vector<T> buffer;
if (!readLineFromCache(buffer)) {
    return false;
}

line = std::move(buffer);
return true;