line.clear();
    size_t start = m_cachePos;
    while (m_cachePos < m_cache.size() && m_cache[m_cachePos] != '\n') {
        m_cachePos++;
    }

    if (m_cachePos > start) {
        line.insert(line.end(), m_cache.begin() + start, m_cache.begin() + m_cachePos);
        m_cachePos++; // Skip the newline character
        return true;
    }

    if (!readNextBlock()) {
        return false;
    }

    return getNextLine(line); // Recursive call to handle the next block