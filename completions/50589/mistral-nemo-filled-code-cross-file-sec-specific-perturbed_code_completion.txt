if (m_cachePos < m_cache.size()) {
    line = std::vector<T>(m_cache.begin() + m_cachePos, m_cache.end());
    m_cachePos = m_cache.size();
} else if (m_cachePos == m_cache.size()) {
    if (!readNextBlock()) {
        return false;
    }
    line = std::vector<T>(m_cache.begin(), m_cache.end());
    m_cachePos = 0;
} else {
    return false;
}