#line 1205 "grammar.y" /* yacc.c:1663  */
    {
        YR_LOOP loop_aux[YR_MAX_LOOP_NESTING];
        int i, depth;

        compiler->loop_depth--;

        // Copy loop context to a temporary location. This is
        // necessary because the loop context is going to be
        // destroyed by loop_vars_cleanup but we need it later
        // for fixing jump addresses.

        depth = compiler->loop_depth;
        memcpy(loop_aux, compiler->loop, sizeof(YR_LOOP) * (depth + 1));

        loop_vars_cleanup(depth);

        // Fix jump addresses for all nested loops.

        for (i = 0; i <= depth; i++)
        {
          YR_FIXUP* fixup = compiler->fixup_stack_head;
          compiler->fixup_stack_head = fixup->next;

          *(void**)(fixup->address) = (void*) loop_aux[i].addr;
          yr_free(fixup);
        }

        (yyval.expression).type = EXPRESSION_TYPE_BOOLEAN;
      }