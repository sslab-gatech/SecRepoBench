{
  int var_frame;
  
  // Check loop nesting limit
  if (compiler->loop_depth == YR_MAX_LOOP_NESTING)
    fail_if_error(ERROR_LOOP_NESTING_LIMIT_EXCEEDED);
  
  // Get the variables frame
  var_frame = _yr_compiler_get_var_frame(compiler);
  
  // Initialize the current loop context for a "for" expression
  YR_LOOP_CONTEXT* loop_ctx = &compiler->loop[compiler->loop_depth];
  loop_ctx->vars_count = 0;
  loop_ctx->vars_internal_count = 3;
  
  // Clear memory slots for loop variables
  fail_if_error(yr_parser_emit_with_arg(
      yyscanner, OP_CLEAR_M, var_frame + 0, NULL, NULL));
  
  fail_if_error(yr_parser_emit_with_arg(
      yyscanner, OP_CLEAR_M, var_frame + 1, NULL, NULL));
  
  fail_if_error(yr_parser_emit_with_arg(
      yyscanner, OP_CLEAR_M, var_frame + 2, NULL, NULL));
}