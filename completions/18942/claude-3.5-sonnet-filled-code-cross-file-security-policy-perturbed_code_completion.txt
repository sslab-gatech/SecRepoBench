int i, j;
YR_LOOP_CONTEXT* loop_ctx = &compiler->loop[compiler->loop_depth];

for (i = 0; i < loop_ctx->vars_count; i++)
{
  // Initialize each loop variable
  fail_if_error(yr_parser_emit_with_arg(
      yyscanner,
      OP_CLEAR_M,
      yr_min(var_frame + 3 + i, YR_MAX_LOOP_VARS + 2),
      NULL,
      NULL));
}

// Initialize internal variables
fail_if_error(yr_parser_emit_with_arg(
    yyscanner, OP_CLEAR_M, var_frame + 0, NULL, NULL));

fail_if_error(yr_parser_emit_with_arg(
    yyscanner, OP_CLEAR_M, var_frame + 1, NULL, NULL));

fail_if_error(yr_parser_emit_with_arg(
    yyscanner, OP_CLEAR_M, var_frame + 2, NULL, NULL));

// Load loop iterator
fail_if_error(yr_parser_emit_with_arg(
    yyscanner, OP_LOAD_ITERATOR, var_frame, NULL, NULL));