case 78:
#line 1244 "grammar.y" /* yacc.c:1663  */
    {
        int parseresult;

        // Free all the loop variable identifiers, including the variables for
        // the current loop (compiler->loop_depth).
        loop_vars_cleanup(compiler->loop_depth);

        // Pop the loop depth.
        compiler->loop_depth--;

        // The value at the top of the stack is the result of the boolean
        // expression that we just finished parsing. If the result is
        // UNDEFINED, we can not say that the loop's body is not executed, so
        // we push UNDEFINED. If the result is TRUE or FALSE, we push the
        // corresponding boolean value.
        parseresult = yr_parser_emit_with_arg(
            yyscanner, OP_PUSH, IS_UNDEFINED((yyvsp[-1].expression)) ? UNDEFINED : !(yyvsp[-1].expression).value.integer, NULL, NULL);

        fail_if_error(parseresult);

        YR_FIXUP* fixup = compiler->fixup_stack_head;

        if (fixup == NULL)
          fail_if_error(ERROR_INVALID_CONTROL_FLOW);

        // Fix the jump's target address.
        *(void**)(fixup->address) = (void*)compiler->last_opcode_addr + 1;

        // Pop the fixup entry from the stack.
        compiler->fixup_stack_head = fixup->next;
        yr_free(fixup);

        (yyval.expression).type = EXPRESSION_TYPE_BOOLEAN;
      }