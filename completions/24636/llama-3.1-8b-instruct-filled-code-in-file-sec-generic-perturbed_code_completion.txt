if (decodercontext->in_tile_headers) {
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    decodercontext->in_tile_headers = 0;
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >= 0);
        codsty = decodercontext->tile[decodercontext->curtileno].codsty;
        qntsty = decodercontext->tile[decodercontext->curtileno].qntsty;
        poc    = &decodercontext->tile[decodercontext->curtileno].poc;
        properties = decodercontext->tile[decodercontext->curtileno].properties;
    }
    if (decodercontext->has_ppm) {
        bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    }
    if (!(ret = get_sot(decodercontext, len))) {
        av_assert1(decodercontext->curtileno >=