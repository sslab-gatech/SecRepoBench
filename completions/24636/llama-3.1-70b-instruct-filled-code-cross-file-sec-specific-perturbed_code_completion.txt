if (decodercontext->has_ppm) {
    bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    bytestream2_init(&decodercontext->g, decodercontext->packed_headers_stream.buffer, decodercontext->packed_headers_stream.buffer + decodercontext->packed_headers_stream.size);
} else if (decodercontext->has_ppt) {
    bytestream2_init(&decodercontext->packed_packet_stream, decodercontext->packed_packets, decodercontext->packed_packets_size);
    bytestream2_init(&decodercontext->g, decodercontext->packed_packet_stream.buffer, decodercontext->packed_packet_stream.buffer + decodercontext->packed_packet_stream.size);
} else {
    int64_t tile_part_size = bytestream2_get_be32(&decodercontext->g);
    uint8_t *tile_part_end = decodercontext->g.buffer + bytestream2_tell(&decodercontext->g) + tile_part_size;
    bytestream2_init(&decodercontext->g, decodercontext->g.buffer, tile_part_end);
}