if (decodercontext->has_ppm) {
                bytestream2_init(&decodercontext->g, decodercontext->packed_headers, decodercontext->packed_headers_size);
            } else if (decodercontext->has_ppt && tile->tp_idx == 0) {
                bytestream2_init(&decodercontext->g, tile->ppt_data, tile->ppt_len);
            }

            int data_size = tp->tp_end - bytestream2_tell(&decodercontext->g);
            if (data_size < 0) {
                av_log(decodercontext->avctx, AV_LOG_ERROR, "Invalid tile-part data size\n");
                return AVERROR_INVALIDDATA;
            }
            bytestream2_init(&decodercontext->tile_part_data, decodercontext->g.buffer + bytestream2_tell(&decodercontext->g), data_size);
            bytestream2_skip(&decodercontext->g, data_size);
            continue;