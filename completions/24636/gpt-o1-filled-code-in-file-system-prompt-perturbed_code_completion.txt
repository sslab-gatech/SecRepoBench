if (decodercontext->has_ppm) {
        tp->header_tpg = decodercontext->packed_headers_stream;
    } else if (tile->has_ppt && tile->tp_idx == 0) {
        tp->header_tpg = tile->packed_headers_stream;
    } else {
        tp->header_tpg = decodercontext->g;
    }

    bytestream2_init(&tp->tpg, decodercontext->g.buffer,
                     tp->tp_end - decodercontext->g.buffer);

    bytestream2_skip(&decodercontext->g, tp->tp_end - decodercontext->g.buffer);

    continue;