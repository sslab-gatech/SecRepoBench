{
    // Calculate tile-part size
    int tile_part_size = tp->tp_end - decodercontext->g.buffer;
    if (tile_part_size < 0) {
        av_log(decodercontext->avctx, AV_LOG_ERROR, "Invalid tile-part size\n");
        return AVERROR_INVALIDDATA;
    }

    // Initialize the bytestream for tile-part headers using packed header streams if PPM is present
    if (decodercontext->has_ppm) {
        bytestream2_init(&tile->packed_headers_stream,
                         decodercontext->packed_headers,
                         decodercontext->packed_headers_size);
    }
    // Initialize the bytestream for packed packet headers if PPT is present and it's the first tile-part
    if (tile->has_ppt && tile->tp_idx == 0) {
        bytestream2_init(&tile->packed_headers_stream,
                         tile->ppt_data,
                         tile->ppt_data_size);
    }

    // Set up the data stream for the current tile-part
    bytestream2_init(&tp->packet_stream, decodercontext->g.buffer, tile_part_size);
    bytestream2_skip(&decodercontext->g, tile_part_size);

    // Proceed with the next tile-part
    tile->tp_idx++;
    continue;
}