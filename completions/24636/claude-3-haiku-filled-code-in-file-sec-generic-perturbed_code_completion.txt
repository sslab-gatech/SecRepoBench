// Initialize the bytestream for tile-part headers using packed header streams if PPM is present.
// Initialize the bytestream for packed packet headers if PPT is present and it's the first tile-part.
// Set up the data stream for the current tile-part by calculating its size and skipping to its end in the buffer.
if (decodercontext->has_ppm) {
    bytestream2_init(&decodercontext->tile[decodercontext->curtileno].tile_part[decodercontext->tile[decodercontext->curtileno].tp_idx].header_tpg,
                     decodercontext->packed_headers, decodercontext->packed_headers_size);
} else if (decodercontext->tile[decodercontext->curtileno].has_ppt && decodercontext->tile[decodercontext->curtileno].tp_idx == 0) {
    bytestream2_init(&decodercontext->tile[decodercontext->curtileno].packed_headers_stream,
                     decodercontext->tile[decodercontext->curtileno].packed_headers, decodercontext->tile[decodercontext->curtileno].packed_headers_size);
}
bytestream2_init(&decodercontext->tile[decodercontext->curtileno].tile_part[decodercontext->tile[decodercontext->curtileno].tp_idx].tpg,
                 decodercontext->g.buffer, decodercontext->tile[decodercontext->curtileno].tile_part[decodercontext->tile[decodercontext->curtileno].tp_idx].tp_end - decodercontext->g.buffer);
bytestream2_skip(&decodercontext->g, decodercontext->tile[decodercontext->curtileno].tile_part[decodercontext->tile[decodercontext->curtileno].tp_idx].tp_end - decodercontext->g.buffer);