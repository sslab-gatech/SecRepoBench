if (decodercontext->has_ppm) {
    bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
} else if (decodercontext->has_ppt && tile->tp_idx == 0) {
    bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->ppt_data, decodercontext->ppt_len);
}

int data_size = tp->tp_end - decodercontext->g.buffer;
bytestream2_init(&decodercontext->tile_part_stream, decodercontext->g.buffer, data_size);
bytestream2_skip(&decodercontext->g, data_size);
continue;