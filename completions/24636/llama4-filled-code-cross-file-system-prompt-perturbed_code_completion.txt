if (decodercontext->has_ppm) {
    bytestream2_init(&tile->part_headers_stream, tp->tp_headers, tp->tp_headers_size);
}

if (tp->tp_end > decodercontext->g.buffer) {
    int size = tp->tp_end - decodercontext->g.buffer;
    bytestream2_seek(&decodercontext->g, tp->tp_end - decodercontext->g.buffer, SEEK_SET);
} else {
    av_log(decodercontext->avctx, AV_LOG_ERROR, "Invalid tpend\n");
    return AVERROR_INVALIDDATA;
}