if (decodercontext->has_ppm) {
    bytestream2_init(&decodercontext->packed_headers_stream, decodercontext->packed_headers, decodercontext->packed_headers_size);
    bytestream2_skip(&decodercontext->g, 2); // Skip marker segment length for SOD
} else {
    bytestream2_skip(&decodercontext->g, 2); // Skip marker segment length for SOD
}

if (decodercontext->has_ppt && tile->tp_idx == 0) {
    bytestream2_init(&tile->packed_packet_headers_stream, tp->packed_packet_headers, tp->packed_packet_headers_size);
}

int data_size = FFMIN(tp->tp_end - decodercontext->g.buffer, bytestream2_get_bytes_left(&decodercontext->g));
bytestream2_skip(&decodercontext->g, data_size);

continue;