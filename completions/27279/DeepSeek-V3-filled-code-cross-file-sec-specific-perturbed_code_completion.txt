if (host) {
        c->host_header = flb_sds_create(host);
        if (!c->host_header) {
            flb_errno();
            flb_http_client_destroy(c);
            return NULL;
        }
    }

    if (proxy_address) {
        c->proxy.host = flb_strdup(proxy_address);
        if (!c->proxy.host) {
            flb_errno();
            flb_http_client_destroy(c);
            return NULL;
        }
    }

    c->resp.data = flb_calloc(1, FLB_HTTP_DATA_SIZE_MAX);