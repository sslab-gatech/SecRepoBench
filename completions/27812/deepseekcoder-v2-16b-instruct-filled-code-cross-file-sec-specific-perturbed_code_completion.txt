// Calculate the trailer offset using the header length and compressed bytes.
  // Return an error if the trailer offset cannot be retrieved.
  // Proceed to obtain the size of the user metadata from within the trailer.
  int trailer_offset = header_len + cbytes;
  if (trailer_offset < 0) {
    BLOSC_TRACE_ERROR("Cannot calculate trailer offset.");
    return -1;
  }