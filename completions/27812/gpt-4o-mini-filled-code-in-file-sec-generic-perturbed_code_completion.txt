if (frame_struct->sdata != NULL) {
    memcpy(&usermeta_len_network, frame_struct->sdata + trailer_offset + FRAME_TRAILER_USERMETA_LEN_OFFSET, sizeof(int32_t));
} else {
    FILE* fp = fopen(frame_struct->fname, "rb");
    if (fp == NULL) {
        BLOSC_TRACE_ERROR("Cannot open file '%s'.", frame_struct->fname);
        return -1;
    }
    fseek(fp, trailer_offset + FRAME_TRAILER_USERMETA_LEN_OFFSET, SEEK_SET);
    size_t rbytes = fread(&usermeta_len_network, 1, sizeof(int32_t), fp);
    if (rbytes != sizeof(int32_t)) {
        BLOSC_TRACE_ERROR("Cannot access the usermeta_len out of the fileframe.");
        fclose(fp);
        return -1;
    }
    fclose(fp);
}