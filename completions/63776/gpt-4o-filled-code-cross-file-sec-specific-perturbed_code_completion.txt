if (obj->address + obj->size > bit_chain->size) {
  LOG_ERROR("Object size exceeds bit chain size: address 0x%zx, size 0x%x, bit chain size 0x%zx",
            obj->address, obj->size, bit_chain->size);
  return DWG_ERR_INVALIDDWG;
}

if (obj->address + obj->size != bit_chain->byte) {
  size_t unknown_size = (bit_chain->byte - obj->address) - obj->size;
  if (unknown_size > 0) {
    obj->unknown_bits = (unsigned char *)malloc(unknown_size);
    if (!obj->unknown_bits) {
      LOG_ERROR("Out of memory for unknown bits");
      return DWG_ERR_OUTOFMEM;
    }
    memcpy(obj->unknown_bits, bit_chain->chain + obj->address + obj->size, unknown_size);
    obj->num_unknown_bits = unknown_size * 8;
    LOG_TRACE("Extracted unknown bits of size %zu", unknown_size);
  }
}