{
    size_t expected_end = previous_byte_position + obj->size;
    if (dat->byte < expected_end)
    {
      int unknown_err = dwg_decode_unknown_bits(dat, obj);
      if (unknown_err)
      {
        LOG_ERROR("Failed to decode unknown bits for object %u", obj->index);
        return unknown_err;
      }
    }
    else if (dat->byte > expected_end)
    {
      LOG_ERROR("Object %u read past expected size: current position %zu exceeds expected %zu",
                obj->index, dat->byte, expected_end);
      return DWG_ERR_INVALIDDWG;
    }
}