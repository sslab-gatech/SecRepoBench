size_t path_p_size = (size_t)(number_vertices + 2 * padding);
size_t path_q_size = (size_t)(number_vertices + 2 * padding);

path_p = (PointInfo *) AcquireQuantumMemory(path_p_size, sizeof(PointInfo));
if (path_p == (PointInfo *) NULL)
{
    polygon_primitive = (PrimitiveInfo *) RelinquishMagickMemory(polygon_primitive);
    return (PrimitiveInfo *) NULL;
}

path_q = (PointInfo *) AcquireQuantumMemory(path_q_size, sizeof(PointInfo));
if (path_q == (PointInfo *) NULL)
{
    path_p = (PointInfo *) RelinquishMagickMemory(path_p);
    polygon_primitive = (PrimitiveInfo *) RelinquishMagickMemory(polygon_primitive);
    return (PrimitiveInfo *) NULL;
}