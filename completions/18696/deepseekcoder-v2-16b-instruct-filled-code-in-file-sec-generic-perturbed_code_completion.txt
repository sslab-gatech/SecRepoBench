QueryColorCompliance("#ffffff",AllCompliance,
    &composite_mask->background_color,exception);
  composite_mask->background_color.alpha=(MagickRealType) TransparentAlpha;
  composite_mask->background_color.alpha_trait=BlendPixelTrait;
  status=SetImageBackgroundColor(composite_mask,exception);
  if (image->debug != MagickFalse)
    (void) LogMagickEvent(DrawEvent,GetMagickModule(),"\nbegin composite-mask %s",
      id);
  clone_info=CloneDrawInfo((ImageInfo *) NULL,draw_info);
  (void) CloneString(&clone_info->primitive,mask_path);
  status=QueryColorCompliance("#ffffff",AllCompliance,&clone_info->fill,
    exception);
  if (clone_info->clip_mask != (char *) NULL)
    clone_info->clip_mask=DestroyString(clone_info->clip_mask);
  status=QueryColorCompliance("#00000000",AllCompliance,&clone_info->stroke,
    exception);
  clone_info->stroke_width=0.0;
  clone_info->alpha=OpaqueAlpha;
  clone_info->clip_path=MagickFalse;
  status=RenderMVGContent(composite_mask,clone_info,0,exception);
  clone_info=DestroyDrawInfo(clone_info);
  separate_mask=SeparateImage(composite_mask,AlphaChannel,exception);
  if (separate_mask != (Image *) NULL)
    {
      composite_mask=DestroyImage(composite_mask);
      composite_mask=separate_mask;
      status=NegateImage(composite_mask,MagickFalse,exception);
      if (status == MagickFalse)
        composite_mask=DestroyImage(composite_mask);
    }
  if (status == MagickFalse)
    composite_mask=DestroyImage(composite_mask);
  if (image->debug != MagickFalse)
    (void) LogMagickEvent(DrawEvent,GetMagickModule(),"end composite-mask");
  return(composite_mask);
}

/*
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                             %
%                                                                             %
%                                                                             %
%   D r a w C o m p o u n d P a t h                                           %
%                                                                             %
%                                                                             %
%                                                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%  DrawCompoundPath() draws the compound path on the image.
%
%  The format of the DrawCompoundPath method is:
%
%      MagickBooleanType DrawCompoundPath(Image *image,const DrawInfo *draw_info,
%        const char *id,const char *path,ExceptionInfo *exception)
%
%  A description of each parameter follows:
%
%    o image: the image.
%
%    o draw_info: the draw info.
%
%    o id: the path id.
%
%    o path: the path.
%
%    o exception: return any errors or warnings in this structure.
%
*/
MagickExport MagickBooleanType DrawCompoundPath(Image *image,
  const DrawInfo *draw_info,const char *id,const char *path,
  ExceptionInfo *exception)
{
  Image
    *clipping_mask,
    *composite_mask;

  MagickBooleanType
    status;

  /*
    Draw a compound path.
  */
  assert(image != (Image *) NULL);
  assert(image->signature == MagickCoreSignature);
  if (image->debug != MagickFalse)
    (void) LogMagickEvent(TraceEvent,GetMagickModule(),"%s",image->filename);
  assert(draw_info != (const DrawInfo *) NULL);
  assert(id != (const char *) NULL);
  assert(path != (const char *) NULL);
  clipping_mask=DrawClippingMask(image,draw_info,id,path,exception);
  if (clipping_mask == (Image *) NULL)
    return(MagickFalse);
  composite_mask=DrawCompositeMask(image,draw_info,id,path,exception);
  if (composite_mask == (Image *) NULL)
    {
      clipping_mask=DestroyImage(clipping_mask);
      return(MagickFalse);
    }
  status=SetImageMask(image,WritePixelMask,clipping_mask,exception);
  clipping_mask=DestroyImage(clipping_mask);
  if (status == MagickFalse)
    {
      composite_mask=DestroyImage(composite_mask);
      return(MagickFalse);
    }
  status=SetImageMask(image,CompositePixelMask,composite_mask,exception);
  composite_mask=DestroyImage(composite_mask);
  return(status);
}

/*
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                             %
%                                                                             %
%                                                                             %
%   D r a w C o n t o u r S e g m e n t s                                     %
%                                                                             %
%                                                                             %
%                                                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%  DrawContourSegments() draws the contour segments on the image.
%
%  The format of the DrawContourSegments method is:
%
%      MagickBooleanType DrawContourSegments(Image *image,const DrawInfo *draw_info,
%        const PrimitiveInfo *primitive_info,ExceptionInfo *exception)
%
%  A description of each parameter follows:
%
%    o image: the image.
%
%    o draw_info: the draw info.
%
%    o primitive_info: Specifies a pointer to an PrimitiveInfo structure.
%
%    o exception: return any errors or warnings in this structure.
%
*/
MagickExport MagickBooleanType DrawContourSegments(Image *image,
  const DrawInfo *draw_info,const PrimitiveInfo *primitive_info,
  ExceptionInfo *exception)
{
  MagickBooleanType
    status;

  status=DrawPrimitive(image,draw_info,primitive_info,exception);
  return(status);
}

/*
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                             %
%                                                                             %
%                                                                             %
%   D r a w C u r v e s                                                     %
%                                                                             %
%                                                                             %
%                                                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%  DrawCurves() draws curves on the image using the drawing methods
%  associated with the specified draw info.
%
%  The format of the DrawCurves method is:
%
%      MagickBooleanType DrawCurves(Image *image,const DrawInfo *draw_info,
%        const PointInfo *points,const size_t number_points,
%        ExceptionInfo *exception)
%
%  A description of each parameter follows:
%
%    o image: the image.
%
%    o draw_info: the draw info.
%
%    o points: the points.
%
%    o number_points: the number of points.
%
%    o exception: return any errors or warnings in this structure.
%
*/
MagickExport MagickBooleanType DrawCurves(Image *image,const DrawInfo *draw_info,
  const PointInfo *points,const size_t number_points,ExceptionInfo *exception)
{
  MagickBooleanType
    status;

  PrimitiveInfo
    primitive_info[1];

  primitive_info[0].primitive=CurveToPrimitive;
  primitive_info[0].coordinates=number_points;
  (void) memcpy(primitive_info[0].point.coordinates,points,
    number_points*sizeof(*points));
  status=DrawPrimitive(image,draw_info,primitive_info,exception);
  return(status);
}

/*
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                             %
%                                                                             %
%                                                                             %
%   D r a w D a t a G e o m e t r y                                           %
%                                                                             %
%                                                                             %
%                                                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%  DrawDataGeometry() draws the data geometry on the image.
%
%  The format of the DrawDataGeometry method is:
%
%      MagickBooleanType DrawDataGeometry(Image *image,const DrawInfo *draw_info,
%        const char *id,const char *geometry,ExceptionInfo *exception)
%
%  A description of each parameter follows:
%
%    o image: the image.
%
%    o draw_info: the draw info.
%
%    o id: the data geometry id.
%
%    o geometry: the data geometry.
%
%    o exception: return any errors or warnings in this structure.
%
*/
MagickExport MagickBooleanType DrawDataGeometry(Image *image,
  const DrawInfo *draw_info,const char *id,const char *geometry,
  ExceptionInfo *exception)
{
  MagickBooleanType
    status;

  Image
    *clipping_mask,
    *composite_mask;

  /*
    Draw a data geometry.
  */
  assert(image != (Image *) NULL);
  assert(image->signature == MagickCoreSignature);
  if (image->debug != MagickFalse)
    (void) LogMagickEvent(TraceEvent,GetMagickModule(),"%s",image->filename);
  assert(draw_info != (const DrawInfo *) NULL);
  assert(id != (const char *) NULL);
  assert(geometry != (const char *) NULL);
  clipping_mask=DrawClippingMask(image,draw_info,id,geometry,exception);
  if (clipping_mask == (Image *) NULL)
    return(MagickFalse);
  composite_mask=DrawCompositeMask(image,draw_info,id,geometry,exception);
  if (composite_mask == (Image *) NULL)
    {
      clipping_mask=DestroyImage(clipping_mask);
      return(MagickFalse);
    }
  status=SetImageMask(image,WritePixelMask,clipping_mask,exception);
  clipping_mask=DestroyImage(clipping_mask);
  if (status == MagickFalse)
    {
      composite_mask=DestroyImage(composite_mask);
      return(MagickFalse);
    }
  status=SetImageMask(image,CompositePixelMask,composite_mask,exception);
  composite_mask=DestroyImage(composite_mask);
  return(status);
}

/*
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                             %
%                                                                             %
%                                                                             %
%   D r a w D i s k S e g m e n t s                                           %
%                                                                             %
%                                                                             %
%                                                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%  DrawDiscSegments() draws the disc segments on the image.
%
%  The format of the DrawDiscSegments method is:
%
%      MagickBooleanType DrawDiscSegments(Image *image,const DrawInfo *draw_info,
%        const PrimitiveInfo *primitive_info,ExceptionInfo *exception)
%
%  A description of each parameter follows:
%
%    o image: the image.
%
%    o draw_info: the draw info.
%
%    o primitive_info: Specifies a pointer to an PrimitiveInfo structure.
%
%    o exception: return any errors or warnings in this structure.
%
*/
MagickExport MagickBooleanType DrawDiscSegments(Image *image,
  const DrawInfo *draw_info,const PrimitiveInfo *primitive_info,
  ExceptionInfo *exception)
{
  MagickBooleanType
    status;

  status=DrawPrimitive(image,draw_info,primitive_info,exception);
  return(status);
}

/*
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                             %
%                                                                             %
%                                                                             %
%   D r a w E l l i p s e S e g m e n t s                                     %
%                                                                             %
%                                                                             %
%                                                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%  DrawEllipseSegments() draws the ellipse segments on the image.
%
%  The format of the DrawEllipseSegments method is:
%
%      MagickBooleanType DrawEllipseSegments(Image *image,const DrawInfo *draw_info,
%        const PrimitiveInfo *primitive_info,ExceptionInfo *exception)
%
%  A description of each parameter follows:
%
%    o image: the image.
%
%    o draw_info: the draw info.
%
%    o primitive_info: Specifies a pointer to an PrimitiveInfo structure.
%
%    o exception: return any errors or warnings in this structure.
%
*/
MagickExport MagickBooleanType DrawEllipseSegments(Image *image,
  const DrawInfo *draw_info,const PrimitiveInfo *primitive_info,
  ExceptionInfo *exception)
{
  MagickBooleanType
    status;

  status=DrawPrimitive(image,draw_info,primitive_info,exception);