// Allocate memory for box_p and box_q to store points along the path.
box_p = (PointInfo *) AcquireQuantumMemory(6 * sizeof(PointInfo));
box_q = (PointInfo *) AcquireQuantumMemory(6 * sizeof(PointInfo));
if ((box_p == (PointInfo *) NULL) || (box_q == (PointInfo *) NULL))
{
    if (box_p != (PointInfo *) NULL)
        box_p = (PointInfo *) RelinquishMagickMemory(box_p);
    if (box_q != (PointInfo *) NULL)
        box_q = (PointInfo *) RelinquishMagickMemory(box_q);
    polygon_primitive = (PrimitiveInfo *) RelinquishMagickMemory(polygon_primitive);
    return ((PrimitiveInfo *) NULL);
}